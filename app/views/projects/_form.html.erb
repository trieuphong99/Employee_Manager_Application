<%= form_with(model: project, local: true, class: "form-horizontal") do |form| %>
  <div class="form-group">
    <%= form.label :customer_id %>
    <%= form.select :customer_id, Customer.all.map { |c| [c.name, c.id] }, {}, { class: "form-control #{project.errors.messages[:customer_id].any? ? 'is-invalid' : ''}" } %>
    <% if project.errors.messages.key?(:customer_id) %>
      <div class="invalid-feedback">
        <% project.errors.messages[:customer_id].each do |message| %>
          <span><%= "Customer #{message}"%></span>
        <% end %>
      </div>
    <% end %>
  </div>

  <div class="form-group">
    <%= form.label :name %>
    <% valid_class = project.errors.messages[:name].any? ? 'is-invalid' : '' %>
    <%= form.text_field :name, class: "form-control #{valid_class}" %>
    <% if project.errors.messages.key?(:name) %>
      <div class="invalid-feedback">
        <% project.errors.messages[:name].each do |message| %>
          <span><%= "Name #{message}"%></span>
        <% end %>
      </div>
    <% end %>
  </div>

  <div class="form-group">
    <%= form.label :start_date %>
    <%= form.text_field :start_date, class: "form-control datepicker #{project.errors.messages[:start_date].any? ? 'is-invalid' : ''}" %>
    <% if project.errors.messages.key?(:start_date) %>
      <div class="invalid-feedback">
        <% project.errors.messages[:start_date].each do |message| %>
          <span><%= "Start Date #{message}"%></span>
        <% end %>
      </div>
    <% end %>
  </div>

  <div class="form-group">
    <%= form.label :end_date %>
    <%= form.text_field :end_date, class: "form-control datepicker #{project.errors.messages[:end_date].any? ? 'is-invalid' : ''}" %>
    <% if project.errors.messages.key?(:end_date) %>
      <div class="invalid-feedback">
        <% project.errors.messages[:end_date].each do |message| %>
          <span><%= "End Date #{message}"%></span>
        <% end %>
      </div>
    <% end %>
  </div>

  <div class="actions">
    <%= form.submit class: "btn btn-success" %>
  </div>
<% end %>
