{"ast":null,"code":"var _jsxFileName = \"/home/phong/rails/imp/app/javascript/admin/components/selection/dayOff/dayOff.js\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); }\n\nfunction _iterableToArrayLimit(arr, i) { if (!(Symbol.iterator in Object(arr) || Object.prototype.toString.call(arr) === \"[object Arguments]\")) { return; } var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nimport React, { useEffect, useState } from \"react\";\nimport \"./dayOff.css\";\nimport { Link } from \"react-router-dom\";\nimport DatePicker from \"../../../../commons/components/dateRangePicker\";\nimport Table from \"reactstrap/lib/Table\";\nimport { getListAccountsDayOff, setIsAllowedDayOff } from \"../../../actions/dayOff\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport _ from \"lodash\";\nimport moment from \"moment\";\nimport Time from \"../../../../commons/const/Time\";\nimport { Button, Tooltip, Badge, Modal, ModalHeader, ModalBody, ModalFooter } from \"reactstrap\";\nimport Pagination from \"../../../../commons/components/pagination\";\n\nvar DayOff = function DayOff() {\n  var _useState = useState({\n    startTime: moment().subtract(10, 'days').format(Time.DMY),\n    endTime: moment().format(Time.DMY)\n  }),\n      _useState2 = _slicedToArray(_useState, 2),\n      date = _useState2[0],\n      _setDate = _useState2[1];\n\n  var _useState3 = useState(null),\n      _useState4 = _slicedToArray(_useState3, 2),\n      id = _useState4[0],\n      setID = _useState4[1];\n\n  var _useState5 = useState(1),\n      _useState6 = _slicedToArray(_useState5, 2),\n      current_page = _useState6[0],\n      setCurrentPage = _useState6[1];\n\n  var dispatch = useDispatch();\n  useEffect(function () {\n    dispatch(getListAccountsDayOff(date, id, current_page));\n  }, [date, id, current_page]);\n  useEffect(function () {\n    dispatch(setIsAllowedDayOff(id));\n  }, [id]);\n  var isAllowed = useSelector(function (state) {\n    return state.setIsAllowedDayOff;\n  });\n  var data = useSelector(function (state) {\n    return state.getListAccountsDayOff.data;\n  });\n\n  var _useState7 = useState(false),\n      _useState8 = _slicedToArray(_useState7, 2),\n      modal = _useState8[0],\n      setModal = _useState8[1];\n\n  var toggle = function toggle() {\n    return setModal(!modal);\n  };\n\n  var _useState9 = useState(false),\n      _useState10 = _slicedToArray(_useState9, 2),\n      isOpenTool = _useState10[0],\n      setIsOpen = _useState10[1];\n\n  var openTooltip = function openTooltip() {\n    return setIsOpen(!isOpenTool);\n  }; // const isAllowed = _.map(list, e => e.is_allowed);\n\n\n  var isConfirm = function isConfirm() {\n    _.map(data, function (e, i) {\n      return _objectSpread({}, e, {\n        is_allowed: !isAllowed\n      });\n    });\n\n    setModal(!modal);\n  }; // const mouseOver = (item) => {\n  // }\n\n\n  return React.createElement(\"main\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"breadcrumb-wrapper\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"container-fluid\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45\n    },\n    __self: this\n  }, React.createElement(\"nav\", {\n    id: \"breadcrumb-body\",\n    \"aria-label\": \"breadcrumb\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46\n    },\n    __self: this\n  }, React.createElement(\"ol\", {\n    className: \"breadcrumb\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47\n    },\n    __self: this\n  }, React.createElement(\"li\", {\n    className: \"breadcrumb-item\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48\n    },\n    __self: this\n  }, React.createElement(Link, {\n    to: \"/\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49\n    },\n    __self: this\n  }, \"Dashboard\")), React.createElement(\"li\", {\n    className: \"breadcrumb-item active\",\n    \"aria-current\": \"page\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51\n    },\n    __self: this\n  }, \"Day Off\"))))), React.createElement(\"div\", {\n    className: \"date-picker\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58\n    },\n    __self: this\n  }, React.createElement(DatePicker, {\n    setDate: function setDate(data) {\n      return _setDate(data);\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59\n    },\n    __self: this\n  })), React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61\n    },\n    __self: this\n  }, React.createElement(Table, {\n    className: \"table\",\n    hover: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62\n    },\n    __self: this\n  }, React.createElement(\"thead\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63\n    },\n    __self: this\n  }, React.createElement(\"tr\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64\n    },\n    __self: this\n  }, React.createElement(\"td\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65\n    },\n    __self: this\n  }, \"Code\"), React.createElement(\"td\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66\n    },\n    __self: this\n  }, \"Name\"), React.createElement(\"td\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67\n    },\n    __self: this\n  }, \"Email\"), React.createElement(\"td\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68\n    },\n    __self: this\n  }, \"Date\"), React.createElement(\"td\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69\n    },\n    __self: this\n  }, \"Reason\"), React.createElement(\"td\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70\n    },\n    __self: this\n  }, \"Status\"), React.createElement(\"td\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71\n    },\n    __self: this\n  }, \"Confirm\"))), React.createElement(\"tbody\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74\n    },\n    __self: this\n  }, _.map(data.data, function (item, i) {\n    return React.createElement(\"tr\", {\n      key: i++,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77\n      },\n      __self: this\n    }, React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78\n      },\n      __self: this\n    }, item.code), React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79\n      },\n      __self: this\n    }, item.name), React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80\n      },\n      __self: this\n    }, item.email), React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81\n      },\n      __self: this\n    }, item.date), item.reason.length > 8 ? React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      id: \"tooltip\" + i,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84\n      },\n      __self: this\n    }, item.reason.substring(0, 8), \"...\"), React.createElement(Tooltip, {\n      style: {\n        backgroundColor: '#E0E0E0',\n        color: 'black'\n      },\n      placement: \"right\",\n      isOpen: isOpenTool,\n      target: \"tooltip\" + i,\n      toggle: openTooltip,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85\n      },\n      __self: this\n    }, item.reason)) : React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88\n      },\n      __self: this\n    }, item.reason), React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90\n      },\n      __self: this\n    }, item.status), React.createElement(\"td\", {\n      onClick: function onClick() {\n        return setID(i++);\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91\n      },\n      __self: this\n    }, item.is_allowed ? React.createElement(Badge, {\n      color: \"success\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92\n      },\n      __self: this\n    }, \"Confirm\") : React.createElement(Badge, {\n      href: \"#\",\n      color: \"warning\",\n      onClick: toggle,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92\n      },\n      __self: this\n    }, \"Waiting\")));\n  })))), React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100\n    },\n    __self: this\n  }, React.createElement(Pagination, {\n    totalPage: 66,\n    pageChange: function pageChange(x) {\n      return setCurrentPage(x);\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101\n    },\n    __self: this\n  })), React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103\n    },\n    __self: this\n  }, React.createElement(Modal, {\n    isOpen: modal,\n    toggle: toggle,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104\n    },\n    __self: this\n  }, React.createElement(ModalHeader, {\n    toggle: toggle,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105\n    },\n    __self: this\n  }, \"Confirm\"), React.createElement(ModalBody, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106\n    },\n    __self: this\n  }, React.createElement(\"p\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107\n    },\n    __self: this\n  }, \"B\\u1EA1n \\u0111\\xE3 ch\\u1EAFc ch\\u1EAFn ch\\u01B0a ?\")), React.createElement(ModalFooter, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109\n    },\n    __self: this\n  }, React.createElement(Button, {\n    color: \"secondary\",\n    onClick: toggle,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110\n    },\n    __self: this\n  }, \"Close\"), React.createElement(Button, {\n    color: \"warning\",\n    onClick: isConfirm,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111\n    },\n    __self: this\n  }, \"Save\")))));\n};\n\nexport default DayOff;","map":{"version":3,"sources":["/home/phong/rails/imp/app/javascript/admin/components/selection/dayOff/dayOff.js"],"names":["React","useEffect","useState","Link","DatePicker","Table","getListAccountsDayOff","setIsAllowedDayOff","useDispatch","useSelector","_","moment","Time","Button","Tooltip","Badge","Modal","ModalHeader","ModalBody","ModalFooter","Pagination","DayOff","startTime","subtract","format","DMY","endTime","date","setDate","id","setID","current_page","setCurrentPage","dispatch","isAllowed","state","data","modal","setModal","toggle","isOpenTool","setIsOpen","openTooltip","isConfirm","map","e","i","is_allowed","item","code","name","email","reason","length","substring","backgroundColor","color","status","x"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport \"./dayOff.css\";\nimport { Link } from \"react-router-dom\";\nimport DatePicker from \"../../../../commons/components/dateRangePicker\";\nimport Table from \"reactstrap/lib/Table\";\nimport { getListAccountsDayOff, setIsAllowedDayOff } from \"../../../actions/dayOff\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport _ from \"lodash\";\nimport moment from \"moment\";\nimport Time from \"../../../../commons/const/Time\";\nimport { Button, Tooltip, Badge, Modal, ModalHeader, ModalBody, ModalFooter } from \"reactstrap\";\nimport Pagination from \"../../../../commons/components/pagination\";\n\nconst DayOff = () => {\n  const [date, setDate] = useState({\n    startTime: moment().subtract(10, 'days').format(Time.DMY),\n    endTime: moment().format(Time.DMY)\n  })\n  const [id, setID] = useState(null);\n  const [current_page, setCurrentPage] = useState(1);\n  const dispatch = useDispatch();\n  useEffect(() => {\n    dispatch(getListAccountsDayOff(date, id, current_page));\n  }, [date, id, current_page]);\n  useEffect(() => {\n    dispatch(setIsAllowedDayOff(id))\n  }, [id]);\n  const isAllowed = useSelector( state => state.setIsAllowedDayOff)\n  const data = useSelector(state => state.getListAccountsDayOff.data);\n  const [modal, setModal] = useState(false);\n  const toggle = () => setModal(!modal);\n  const [isOpenTool, setIsOpen] = useState(false);\n  const openTooltip = () => setIsOpen(!isOpenTool);\n  // const isAllowed = _.map(list, e => e.is_allowed);\n  const isConfirm = () => {\n    _.map(data, (e,i) => ({...e, is_allowed: !isAllowed}))\n    setModal(!modal);\n  }\n  // const mouseOver = (item) => {\n\n  // }\n  return (\n    <main>\n      <div className=\"breadcrumb-wrapper\">\n        <div className=\"container-fluid\">\n          <nav id=\"breadcrumb-body\" aria-label=\"breadcrumb\">\n            <ol className=\"breadcrumb\">\n              <li className=\"breadcrumb-item\">\n                <Link to=\"/\">Dashboard</Link>\n              </li>\n              <li className=\"breadcrumb-item active\" aria-current=\"page\">\n                Day Off\n              </li>\n            </ol>\n          </nav>\n        </div>\n      </div>\n      <div className=\"date-picker\">\n        <DatePicker setDate={(data) => setDate(data)}/>\n      </div>\n      <div>\n        <Table className=\"table\" hover>\n          <thead>\n            <tr>\n              <td>Code</td>\n              <td>Name</td>\n              <td>Email</td>\n              <td>Date</td>\n              <td>Reason</td>\n              <td>Status</td>\n              <td>Confirm</td>\n            </tr>\n          </thead>\n          <tbody>\n            {_.map(data.data, (item, i) => {\n              return (\n                <tr key={i++}>\n                  <td>{item.code}</td>\n                  <td>{item.name}</td>\n                  <td>{item.email}</td>\n                  <td>{item.date}</td>\n                  {(item.reason.length > 8) ? \n                    <td>\n                      <span id={\"tooltip\" + i}>{item.reason.substring(0,8)}...</span>\n                      <Tooltip style={{backgroundColor: '#E0E0E0', color: 'black'}} placement=\"right\" isOpen={isOpenTool} target={\"tooltip\" + i} toggle={openTooltip}>{item.reason}</Tooltip>\n                    </td>\n                    :\n                    <td>{item.reason}</td>\n                  }\n                  <td>{item.status}</td>\n                  <td onClick={() => setID(i++)}>\n                    {item.is_allowed ? <Badge color=\"success\">Confirm</Badge> : <Badge href=\"#\" color=\"warning\" onClick={toggle}>Waiting</Badge>}\n                  </td>\n                </tr>\n              );\n            })}\n          </tbody>\n        </Table>\n      </div>\n      <div>\n        <Pagination totalPage={66} pageChange={(x) => setCurrentPage(x)} />\n      </div>\n      <div>\n        <Modal isOpen={modal} toggle={toggle}>\n          <ModalHeader toggle={toggle}>Confirm</ModalHeader>\n          <ModalBody>\n            <p>Bạn đã chắc chắn chưa ?</p>\n          </ModalBody>\n          <ModalFooter>\n            <Button color=\"secondary\" onClick={toggle}>Close</Button>\n            <Button color=\"warning\" onClick={isConfirm}>Save</Button>\n          </ModalFooter>\n        </Modal>\n      </div>\n    </main>\n  );\n};\n\nexport default DayOff;\n"]},"metadata":{},"sourceType":"module"}