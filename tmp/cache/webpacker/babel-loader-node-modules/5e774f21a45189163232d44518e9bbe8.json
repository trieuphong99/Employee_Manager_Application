{"ast":null,"code":"var _jsxFileName = \"/home/phong/rails/imp/app/javascript/admin/components/accounts/index.js\";\n\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); }\n\nfunction _iterableToArrayLimit(arr, i) { if (!(Symbol.iterator in Object(arr) || Object.prototype.toString.call(arr) === \"[object Arguments]\")) { return; } var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nimport React, { useState, useEffect } from \"react\";\nimport { Link, useHistory } from \"react-router-dom\";\nimport { connect } from \"react-redux\";\nimport { bindActionCreators } from \"redux\";\nimport { Breadcrumb, BreadcrumbItem, Table, Badge } from \"reactstrap\";\nimport * as accountActions from \"../../actions/account\";\nimport IconSearch from \"../../asset/img/search.png\";\nimport { DeleteModal } from \"../../../commons/components/modal/\";\nimport Pagination from \"../../../commons/components/pagination\";\nimport AccountForm from \"./accountForm\";\nimport TableHeader from '../../../commons/components/Table/TableHeader';\nimport SortTarget from \"../../../commons/components/sortTarget\";\n\nvar ListAccounts = function ListAccounts(props) {\n  var _useState = useState(1),\n      _useState2 = _slicedToArray(_useState, 2),\n      currentPage = _useState2[0],\n      setCurrentPage = _useState2[1];\n\n  var _useState3 = useState(\"\"),\n      _useState4 = _slicedToArray(_useState3, 2),\n      ftext = _useState4[0],\n      setText = _useState4[1];\n\n  var _useState5 = useState(\"status\"),\n      _useState6 = _slicedToArray(_useState5, 2),\n      sortField = _useState6[0],\n      setSortField = _useState6[1];\n\n  var _useState7 = useState(\"ASC\"),\n      _useState8 = _slicedToArray(_useState7, 2),\n      sortType = _useState8[0],\n      setSortType = _useState8[1];\n\n  var listAccount = props.listAccount,\n      totalPage = props.totalPage,\n      accountActions = props.accountActions; //------------------LIST ACCOUNT--------------\n\n  useEffect(function () {\n    accountActions.fetchListAccountRequest({\n      currentPage: currentPage,\n      sortType: sortType,\n      sortField: sortField\n    }); // eslint-disable-next-line\n  }, [currentPage, sortType, sortField]); //------------------SEARCH ACCOUNT--------------\n\n  var isOnchange = function isOnchange(e) {\n    setText(e.target.value);\n  };\n\n  var sumbmitSearchAccount = function sumbmitSearchAccount(e) {\n    e.preventDefault();\n    var searchAccountRequest = props.accountActions.searchAccountRequest;\n    searchAccountRequest(ftext);\n  }; //------------------DELETE ACCOUNT--------------\n\n\n  var handleDeleteAccount = function handleDeleteAccount(item) {\n    var deleteAccountRequest = props.accountActions.deleteAccountRequest;\n    deleteAccountRequest(item.id);\n  }; //------------------ONCLICK DETAIL ACCOUNT--------------\n\n\n  var history = useHistory();\n\n  var onClickDetailAccount = function onClickDetailAccount(id) {\n    history.push(\"/admin/users/\".concat(id));\n  };\n\n  var letSort = function letSort(field) {\n    setSortType(sortType === \"ASC\" ? \"DESC\" : \"ASC\");\n    setSortField(field);\n  };\n\n  return React.createElement(\"div\", {\n    className: \"container-fluid\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54\n    },\n    __self: this\n  }, React.createElement(Breadcrumb, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55\n    },\n    __self: this\n  }, React.createElement(BreadcrumbItem, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56\n    },\n    __self: this\n  }, React.createElement(Link, {\n    to: \"#\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57\n    },\n    __self: this\n  }, \"Home\")), React.createElement(BreadcrumbItem, {\n    active: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59\n    },\n    __self: this\n  }, \"Accounts\")), React.createElement(\"div\", {\n    className: \"saffs-search\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61\n    },\n    __self: this\n  }, React.createElement(AccountForm, {\n    buttonLabel: \"Add\",\n    title: \"Add new account\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62\n    },\n    __self: this\n  }), React.createElement(\"div\", {\n    className: \"saffs-search-content\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63\n    },\n    __self: this\n  }, React.createElement(\"form\", {\n    onSubmit: sumbmitSearchAccount,\n    className: \"form-inline\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64\n    },\n    __self: this\n  }, React.createElement(\"input\", {\n    name: \"ftext\",\n    onChange: isOnchange,\n    className: \"form-control mr-sm-2\",\n    type: \"search\",\n    placeholder: \"input name or email\",\n    \"aria-label\": \"Search\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65\n    },\n    __self: this\n  }), React.createElement(\"button\", {\n    className: \"btn btn-search my-2 my-sm-0\",\n    type: \"submit\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73\n    },\n    __self: this\n  }, React.createElement(\"img\", {\n    src: IconSearch,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74\n    },\n    __self: this\n  }))))), React.createElement(\"div\", {\n    className: \"table-content\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79\n    },\n    __self: this\n  }, React.createElement(Table, {\n    hover: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80\n    },\n    __self: this\n  }, React.createElement(\"thead\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81\n    },\n    __self: this\n  }, React.createElement(\"tr\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82\n    },\n    __self: this\n  }, React.createElement(\"th\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83\n    },\n    __self: this\n  }, React.createElement(TableHeader, {\n    content: \"Staff Id\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83\n    },\n    __self: this\n  })), React.createElement(\"th\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84\n    },\n    __self: this\n  }, \"Name\"), React.createElement(\"th\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85\n    },\n    __self: this\n  }, \"Email\"), React.createElement(\"th\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86\n    },\n    __self: this\n  }, \"Role\"), React.createElement(SortTarget, {\n    type: \"status\",\n    value: \"Status\",\n    sortType: sortType,\n    sortField: sortField,\n    letSort: letSort,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87\n    },\n    __self: this\n  }), React.createElement(\"th\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88\n    },\n    __self: this\n  }))), React.createElement(\"tbody\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91\n    },\n    __self: this\n  }, listAccount === undefined || listAccount.length === 0 ? React.createElement(\"tr\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94\n    },\n    __self: this\n  }, React.createElement(\"td\", {\n    colSpan: 6,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95\n    },\n    __self: this\n  }, React.createElement(\"p\", {\n    style: {\n      color: 'red',\n      fontSize: '80%'\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95\n    },\n    __self: this\n  }, \"This account doesn't exist.\"))) : listAccount !== undefined && listAccount.map(function (value, key) {\n    var status = value.status === true ? {\n      name: \"Active\",\n      color: \"success\"\n    } : {\n      name: \"Deactive\",\n      color: \"danger\"\n    };\n    return React.createElement(\"tr\", {\n      key: key,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105\n      },\n      __self: this\n    }, React.createElement(\"th\", {\n      onClick: function onClick() {\n        return onClickDetailAccount(value.id);\n      },\n      scope: \"row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106\n      },\n      __self: this\n    }, value.code), React.createElement(\"td\", {\n      onClick: function onClick() {\n        return onClickDetailAccount(value.id);\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112\n      },\n      __self: this\n    }, value.profile.name), React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115\n      },\n      __self: this\n    }, value.email), React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116\n      },\n      __self: this\n    }, value.roles[0].name), React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 117\n      },\n      __self: this\n    }, React.createElement(Badge, {\n      href: \"#\",\n      color: status.color,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 118\n      },\n      __self: this\n    }, status.name)), React.createElement(\"td\", {\n      className: \"setting-button\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 122\n      },\n      __self: this\n    }, React.createElement(AccountForm, {\n      buttonLabel: \"Edit\",\n      title: \"Edit account\",\n      item: value,\n      id: value.id,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 123\n      },\n      __self: this\n    }), React.createElement(DeleteModal, {\n      item: value,\n      deleteAccount: handleDeleteAccount,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 129\n      },\n      __self: this\n    })));\n  })))), React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 143\n    },\n    __self: this\n  }, React.createElement(Pagination, {\n    totalPage: totalPage,\n    pageChange: setCurrentPage,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 144\n    },\n    __self: this\n  })));\n};\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    listAccount: state.accountReducer.data,\n    totalPage: state.accountReducer.total_page\n  };\n};\n\nvar mapDispatchToProps = function mapDispatchToProps(dispatch) {\n  return {\n    accountActions: bindActionCreators(accountActions, dispatch)\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(ListAccounts);","map":{"version":3,"sources":["/home/phong/rails/imp/app/javascript/admin/components/accounts/index.js"],"names":["React","useState","useEffect","Link","useHistory","connect","bindActionCreators","Breadcrumb","BreadcrumbItem","Table","Badge","accountActions","IconSearch","DeleteModal","Pagination","AccountForm","TableHeader","SortTarget","ListAccounts","props","currentPage","setCurrentPage","ftext","setText","sortField","setSortField","sortType","setSortType","listAccount","totalPage","fetchListAccountRequest","isOnchange","e","target","value","sumbmitSearchAccount","preventDefault","searchAccountRequest","handleDeleteAccount","item","deleteAccountRequest","id","history","onClickDetailAccount","push","letSort","field","undefined","length","color","fontSize","map","key","status","name","code","profile","email","roles","mapStateToProps","state","accountReducer","data","total_page","mapDispatchToProps","dispatch"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { Link, useHistory } from \"react-router-dom\";\nimport { connect } from \"react-redux\";\nimport { bindActionCreators } from \"redux\";\nimport { Breadcrumb, BreadcrumbItem, Table, Badge } from \"reactstrap\";\nimport * as accountActions from \"../../actions/account\";\nimport IconSearch from \"../../asset/img/search.png\";\nimport { DeleteModal } from \"../../../commons/components/modal/\";\nimport Pagination from \"../../../commons/components/pagination\";\nimport AccountForm from \"./accountForm\";\nimport TableHeader from '../../../commons/components/Table/TableHeader';\nimport SortTarget from \"../../../commons/components/sortTarget\";\n\nconst ListAccounts = props => {\n  const [currentPage, setCurrentPage] = useState(1);\n  const [ftext, setText] = useState(\"\");\n  const [sortField, setSortField] = useState(\"status\");\n  const [sortType, setSortType] = useState(\"ASC\");\n  const { listAccount, totalPage, accountActions } = props;\n\n  //------------------LIST ACCOUNT--------------\n  useEffect(() => {\n    accountActions.fetchListAccountRequest({ currentPage, sortType, sortField });\n    // eslint-disable-next-line\n  }, [currentPage, sortType, sortField]);\n\n  //------------------SEARCH ACCOUNT--------------\n  const isOnchange = e => {\n    setText(e.target.value);\n  };\n  const sumbmitSearchAccount = e => {\n    e.preventDefault();\n    const { searchAccountRequest } = props.accountActions;\n    searchAccountRequest(ftext);\n  };\n\n  //------------------DELETE ACCOUNT--------------\n  const handleDeleteAccount = item => {\n    const { deleteAccountRequest } = props.accountActions;\n    deleteAccountRequest(item.id);\n  };\n\n  //------------------ONCLICK DETAIL ACCOUNT--------------\n  let history = useHistory();\n\n  const onClickDetailAccount = id => {\n    history.push(`/admin/users/${id}`);\n  };\n  const letSort = field => {\n    setSortType(sortType === \"ASC\" ? \"DESC\" : \"ASC\");\n    setSortField(field);\n  };\n  return (\n    <div className=\"container-fluid\">\n      <Breadcrumb>\n        <BreadcrumbItem>\n          <Link to=\"#\">Home</Link>\n        </BreadcrumbItem>\n        <BreadcrumbItem active>Accounts</BreadcrumbItem>\n      </Breadcrumb>\n      <div className=\"saffs-search\">\n        <AccountForm buttonLabel=\"Add\" title=\"Add new account\" />\n        <div className=\"saffs-search-content\">\n          <form onSubmit={sumbmitSearchAccount} className=\"form-inline\">\n            <input\n              name=\"ftext\"\n              onChange={isOnchange}\n              className=\"form-control mr-sm-2\"\n              type=\"search\"\n              placeholder=\"input name or email\"\n              aria-label=\"Search\"\n            />\n            <button className=\"btn btn-search my-2 my-sm-0\" type=\"submit\">\n              <img src={IconSearch}></img>\n            </button>\n          </form>\n        </div>\n      </div>\n      <div className=\"table-content\">\n        <Table hover>\n          <thead>\n            <tr>\n              <th><TableHeader content=\"Staff Id\"/></th>\n              <th>Name</th>\n              <th>Email</th>\n              <th>Role</th>\n              <SortTarget type=\"status\" value=\"Status\" sortType={sortType} sortField={sortField} letSort={letSort} />\n              <th></th>\n            </tr>\n          </thead>\n          <tbody>\n            {\n              listAccount === undefined || listAccount.length === 0 ?\n                <tr>\n                  <td colSpan={6}><p style={{ color: 'red', fontSize: '80%' }}>This account doesn't exist.</p></td>\n                </tr>\n                :\n                listAccount !== undefined &&\n                listAccount.map((value, key) => {\n                  const status =\n                    value.status === true\n                      ? { name: \"Active\", color: \"success\" }\n                      : { name: \"Deactive\", color: \"danger\" };\n                  return (\n                    <tr key={key}>\n                      <th\n                        onClick={() => onClickDetailAccount(value.id)}\n                        scope=\"row\"\n                      >\n                        {value.code}\n                      </th>\n                      <td onClick={() => onClickDetailAccount(value.id)}>\n                        {value.profile.name}\n                      </td>\n                      <td>{value.email}</td>\n                      <td>{value.roles[0].name}</td>\n                      <td>\n                        <Badge href=\"#\" color={status.color}>\n                          {status.name}\n                        </Badge>\n                      </td>\n                      <td className=\"setting-button\">\n                        <AccountForm\n                          buttonLabel=\"Edit\"\n                          title=\"Edit account\"\n                          item={value}\n                          id={value.id}\n                        />\n                        <DeleteModal\n                          item={value}\n                          deleteAccount={handleDeleteAccount}\n                        />\n                      </td>\n                    </tr>\n                  );\n                })\n            }\n\n          </tbody>\n        </Table>\n\n      </div>\n      <div>\n        <Pagination totalPage={totalPage} pageChange={setCurrentPage} />\n      </div>\n    </div>\n  );\n};\n\nconst mapStateToProps = state => {\n  return {\n    listAccount: state.accountReducer.data,\n    totalPage: state.accountReducer.total_page\n  };\n};\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    accountActions: bindActionCreators(accountActions, dispatch)\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(ListAccounts);\n"]},"metadata":{},"sourceType":"module"}