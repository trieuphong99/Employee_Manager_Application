{"ast":null,"code":"var _this = this,\n    _jsxFileName = \"/home/phong/rails/imp/app/javascript/admin/components/timesheets/tabRequestEdit/index.js\";\n\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(n); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction _iterableToArrayLimit(arr, i) { if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return; var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nimport React, { useState, useEffect } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport Time from '../../../../commons/const/Time';\nimport { getListRequestEdit, setIsAllowedEdit } from '../../../actions/timeSheet';\nimport { Table, Badge } from 'reactstrap';\nimport SortTarget from '../../../../commons/components/sortTarget';\nimport Pagination from '../../../../commons/components/pagination/index';\nimport ConfirmModal from '../../../../commons/components/modal/confirmModal';\nimport DateRangePicker from \"../../dateRangePicker\";\nimport SearchUser from \"../../../../commons/components/searchUser/searchUser\";\nimport CustomPicker from '../../../../commons/components/dateRangePicker/customPicker';\nimport { pickDate } from '../../../actions/dateRange';\n\nvar TabRequestEdit = function TabRequestEdit(props) {\n  // const {listRequest, sortType, sortField, letSort, setCurrentPage} = props;\n  var reduxStartDate = useSelector(function (state) {\n    return state.dateRange.startDate.format(Time.crossDMY);\n  });\n  var reduxEndDate = useSelector(function (state) {\n    return state.dateRange.endDate.format(Time.crossDMY);\n  });\n\n  var _useState = useState(),\n      _useState2 = _slicedToArray(_useState, 2),\n      idStaff = _useState2[0],\n      setIDStaff = _useState2[1];\n\n  var _useState3 = useState(1),\n      _useState4 = _slicedToArray(_useState3, 2),\n      currentPage = _useState4[0],\n      setCurrentPage = _useState4[1];\n\n  var _useState5 = useState(\"DESC\"),\n      _useState6 = _slicedToArray(_useState5, 2),\n      sortType = _useState6[0],\n      setSortType = _useState6[1];\n\n  var _useState7 = useState(\"date\"),\n      _useState8 = _slicedToArray(_useState7, 2),\n      sortField = _useState8[0],\n      setSortField = _useState8[1];\n\n  var dispatch = useDispatch();\n\n  var _useState9 = useState(null),\n      _useState10 = _slicedToArray(_useState9, 2),\n      id = _useState10[0],\n      setID = _useState10[1];\n\n  var letSort = function letSort(field) {\n    setSortType(sortType === \"ASC\" ? \"DESC\" : \"ASC\");\n    setSortField(field);\n  };\n\n  var handleClick = function handleClick(item) {\n    dispatch(setIsAllowedEdit(id, item));\n  };\n\n  useEffect(function () {\n    dispatch(getListRequestEdit(reduxStartDate, reduxEndDate, currentPage, idStaff, sortType, sortField));\n  }, [reduxStartDate, reduxEndDate, currentPage, idStaff, sortType, sortField]);\n  var listRequest = useSelector(function (state) {\n    return state.timeSheet.listRequest;\n  });\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"tables-saffs-wrapper\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"saffs-search\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      display: \"flex\"\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"times-select\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(DateRangePicker, {\n    blockRange: \"none\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 13\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(SearchUser, {\n    onSelectStaff: function onSelectStaff(d) {\n      return setIDStaff(d);\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 13\n    }\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(CustomPicker, {\n    pickDate: pickDate,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 11\n    }\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Table, {\n    hover: true,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"thead\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"tr\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"th\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 13\n    }\n  }, \"Code\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 13\n    }\n  }, \"Name\"), /*#__PURE__*/React.createElement(SortTarget, {\n    type: \"date\",\n    value: \"Date\",\n    sortType: sortType,\n    sortField: sortField,\n    letSort: letSort,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(\"th\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 13\n    }\n  }, \"Checkin\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 13\n    }\n  }, \"Checkout\"), /*#__PURE__*/React.createElement(\"th\", {\n    className: \"reason\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 13\n    }\n  }, \"Reason\"), /*#__PURE__*/React.createElement(SortTarget, {\n    type: \"confirmation_status\",\n    value: \"Confirm\",\n    sortType: sortType,\n    sortField: sortField,\n    letSort: letSort,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 13\n    }\n  }))), /*#__PURE__*/React.createElement(\"tbody\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 9\n    }\n  }, listRequest.data === undefined || listRequest.data.length === 0 ? /*#__PURE__*/React.createElement(\"tr\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"td\", {\n    colSpan: 7,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    style: {\n      color: 'red',\n      fontSize: '80%'\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 31\n    }\n  }, \"No data to display\"))) : _.map(listRequest.data, function (item, i) {\n    return /*#__PURE__*/React.createElement(\"tr\", {\n      key: i++,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"td\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 19\n      }\n    }, item.code), /*#__PURE__*/React.createElement(\"td\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 19\n      }\n    }, item.name), /*#__PURE__*/React.createElement(\"td\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 19\n      }\n    }, item.date), /*#__PURE__*/React.createElement(\"td\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 19\n      }\n    }, item.start_at), /*#__PURE__*/React.createElement(\"td\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 19\n      }\n    }, item.end_at), /*#__PURE__*/React.createElement(\"td\", {\n      className: \"reason\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 19\n      }\n    }, item.reason), /*#__PURE__*/React.createElement(\"td\", {\n      onClick: function onClick() {\n        return setID(item.id);\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 19\n      }\n    }, item.confirmation_status === \"Waiting\" ? /*#__PURE__*/React.createElement(ConfirmModal, {\n      item: listRequest.data,\n      confirm: function confirm() {\n        return handleClick(\"confirmed\");\n      },\n      refuse: function refuse() {\n        return handleClick(\"rejected\");\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 23\n      }\n    }) : item.confirmation_status === \"Confirmed\" ? /*#__PURE__*/React.createElement(Badge, {\n      href: \"#\",\n      color: \"success\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 25\n      }\n    }, \"Confirmed\") : /*#__PURE__*/React.createElement(Badge, {\n      href: \"#\",\n      color: \"danger\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 25\n      }\n    }, \"Rejected\")));\n  })))), listRequest.data !== undefined && /*#__PURE__*/React.createElement(\"div\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Pagination, {\n    totalPage: listRequest.total_page,\n    pageChange: function pageChange(e) {\n      return setCurrentPage(e);\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 11\n    }\n  })));\n};\n\nexport default TabRequestEdit;","map":{"version":3,"sources":["/home/phong/rails/imp/app/javascript/admin/components/timesheets/tabRequestEdit/index.js"],"names":["React","useState","useEffect","useDispatch","useSelector","Time","getListRequestEdit","setIsAllowedEdit","Table","Badge","SortTarget","Pagination","ConfirmModal","DateRangePicker","SearchUser","CustomPicker","pickDate","TabRequestEdit","props","reduxStartDate","state","dateRange","startDate","format","crossDMY","reduxEndDate","endDate","idStaff","setIDStaff","currentPage","setCurrentPage","sortType","setSortType","sortField","setSortField","dispatch","id","setID","letSort","field","handleClick","item","listRequest","timeSheet","display","d","data","undefined","length","color","fontSize","_","map","i","code","name","date","start_at","end_at","reason","confirmation_status","total_page","e"],"mappings":"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","sourcesContent":["import React, {useState, useEffect} from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport Time from '../../../../commons/const/Time';\nimport { getListRequestEdit, setIsAllowedEdit } from '../../../actions/timeSheet';\nimport { Table, Badge } from 'reactstrap';\nimport SortTarget from '../../../../commons/components/sortTarget';\nimport Pagination from '../../../../commons/components/pagination/index';\nimport ConfirmModal from '../../../../commons/components/modal/confirmModal';\nimport DateRangePicker from \"../../dateRangePicker\";\nimport SearchUser from \"../../../../commons/components/searchUser/searchUser\";\nimport CustomPicker from '../../../../commons/components/dateRangePicker/customPicker';\nimport { pickDate } from '../../../actions/dateRange'\n\nconst TabRequestEdit = (props) => {\n  // const {listRequest, sortType, sortField, letSort, setCurrentPage} = props;\n  const reduxStartDate = useSelector(state => state.dateRange.startDate.format(Time.crossDMY))\n  const reduxEndDate = useSelector(state => state.dateRange.endDate.format(Time.crossDMY))\n  const [idStaff, setIDStaff] = useState();\n  const [currentPage, setCurrentPage] = useState(1);\n  const [sortType, setSortType] = useState(\"DESC\");\n  const [sortField, setSortField] = useState(\"date\");\n  const dispatch = useDispatch();\n  const [id, setID] = useState(null);\n  const letSort = field => {\n    setSortType(sortType === \"ASC\" ? \"DESC\" : \"ASC\");\n    setSortField(field);\n  }\n  const handleClick = (item) => {\n    dispatch(setIsAllowedEdit(id, item));\n  }\n  useEffect(() => {\n    dispatch(getListRequestEdit(reduxStartDate, reduxEndDate, currentPage, idStaff, sortType, sortField))\n  }, [reduxStartDate, reduxEndDate, currentPage, idStaff, sortType, sortField])\n  const listRequest = useSelector(state => state.timeSheet.listRequest);\n  return(\n    <div className=\"tables-saffs-wrapper\" >\n      <div className=\"saffs-search\">\n        <div style={{ display: \"flex\" }}>\n          <div className=\"times-select\">\n            <DateRangePicker\n              blockRange=\"none\"\n            />\n          </div>\n          <div>\n            <SearchUser onSelectStaff={d => setIDStaff(d)} />\n          </div>\n        </div>\n        <div>\n          <CustomPicker pickDate={pickDate} />\n        </div>\n      </div>\n      <div>\n      <Table hover>\n        <thead>\n          <tr>\n            <th>Code</th>\n            <th>Name</th>\n            <SortTarget type=\"date\" value=\"Date\" sortType={sortType} sortField={sortField} letSort={letSort}  />\n            <th>Checkin</th>\n            <th>Checkout</th>\n            <th className=\"reason\">Reason</th>\n            <SortTarget type=\"confirmation_status\" value=\"Confirm\" sortType={sortType} sortField={sortField} letSort={letSort} />\n          </tr>\n        </thead>\n        <tbody>\n          {\n            listRequest.data === undefined || listRequest.data.length === 0 ?\n            <tr>\n              <td colSpan={7}><p style={{ color: 'red', fontSize: '80%' }}>No data to display</p></td>\n            </tr>\n            :\n            _.map(listRequest.data, (item, i) => {\n              return(\n                <tr key={i++}>\n                  <td>{item.code}</td>\n                  <td>{item.name}</td>\n                  <td>{item.date}</td>\n                  <td>{item.start_at}</td>\n                  <td>{item.end_at}</td>\n                  <td className=\"reason\">{item.reason}</td>\n                  <td onClick={() => setID(item.id)}>\n                    {item.confirmation_status === \"Waiting\" ?\n                      <ConfirmModal item={listRequest.data} confirm={() => handleClick(\"confirmed\")} refuse={() => handleClick(\"rejected\")} />\n                      :\n                      (\n                        item.confirmation_status === \"Confirmed\" ?\n                        <Badge href=\"#\" color=\"success\" >Confirmed</Badge>\n                        :\n                        <Badge href=\"#\" color=\"danger\" >Rejected</Badge>\n                      )\n                    }\n                  </td>\n                </tr>\n              )\n            })\n          }\n        </tbody>\n      </Table>\n    </div>\n      {\n        listRequest.data !== undefined &&\n        <div>\n          <Pagination totalPage={listRequest.total_page} pageChange={e => setCurrentPage(e)} />\n        </div>\n      }\n    </div>\n  );\n}\nexport default TabRequestEdit;"]},"metadata":{},"sourceType":"module"}