{"ast":null,"code":"var _jsxFileName = \"/home/phong/rails/imp/app/javascript/commons/components/searchUser/searchUser.js\";\n\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); }\n\nfunction _iterableToArrayLimit(arr, i) { if (!(Symbol.iterator in Object(arr) || Object.prototype.toString.call(arr) === \"[object Arguments]\")) { return; } var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nimport React, { useState, useEffect, useRef } from \"react\";\nimport { Input } from \"reactstrap\";\nimport _ from \"lodash\";\nimport classNames from \"classnames\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { fetchListAccountRequest } from \"../../../admin/actions/account\";\n\nvar SearchUser = function SearchUser(props) {\n  //code search\n  var _useState = useState(false),\n      _useState2 = _slicedToArray(_useState, 2),\n      showListStaff = _useState2[0],\n      setShowListStaff = _useState2[1];\n\n  var _useState3 = useState(\"\"),\n      _useState4 = _slicedToArray(_useState3, 2),\n      inputValue = _useState4[0],\n      setInputValue = _useState4[1];\n\n  var dispatch = useDispatch();\n  useEffect(function () {\n    dispatch(fetchListAccountRequest());\n  }, []);\n  var list = useSelector(function (state) {\n    return state.accountReducer.listAccount.data;\n  });\n\n  var listStaff = _.filter(list, function (n) {\n    return _.includes(n.profile.name.toLowerCase(), inputValue.toLowerCase());\n  }); //code search\n  //code show leave\n\n\n  var _useState5 = useState(false),\n      _useState6 = _slicedToArray(_useState5, 2),\n      showLeave = _useState6[0],\n      setShowLeave = _useState6[1];\n\n  var refShowListStaff = useRef();\n\n  var clickOutSide = function clickOutSide(event) {\n    var target = event.target;\n\n    if (refShowLeave.current !== null) {\n      if (!refShowLeave.current.contains(target)) {\n        setShowLeave(false);\n        document.removeEventListener(\"click\", clickOutSide);\n      }\n    }\n  };\n\n  var clickOnListStaffList = function clickOnListStaffList() {\n    setShowListStaff(true);\n    document.addEventListener(\"click\", clickOutSideList);\n  };\n\n  var clickOutSideList = function clickOutSideList(event) {\n    var target = event.target;\n\n    if (refShowListStaff.current !== null) {\n      if (!refShowListStaff.current.contains(target)) {\n        setShowListStaff(false);\n        document.removeEventListener(\"click\", clickOutSideList);\n      }\n    }\n  };\n\n  useEffect(function () {\n    return function () {\n      if (showLeave === true) {\n        document.removeEventListener(\"click\", clickOutSide);\n      }\n    }; // eslint-disable-next-line\n  }, [showLeave]);\n  useEffect(function () {\n    return function () {\n      document.removeEventListener(\"click\", clickOutSide);\n    }; // eslint-disable-next-line\n  }, []); //code show leave\n\n  var sendData = function sendData(id) {\n    props.onSelectStaff(listStaff[id].id);\n  };\n\n  return React.createElement(\"div\", {\n    className: \"saffs-search-content\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"div-outside-input\",\n    ref: refShowListStaff,\n    onClick: clickOnListStaffList,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67\n    },\n    __self: this\n  }, React.createElement(Input, {\n    className: \"input-search-staff\",\n    placeholder: \"Enter the name of the employee\",\n    onChange: function onChange(e) {\n      return setInputValue(e.target.value);\n    },\n    value: inputValue,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72\n    },\n    __self: this\n  })), React.createElement(\"div\", {\n    id: \"scrollbar-style\",\n    className: classNames(\"div-list-staff\", {\n      hideThisDiv: showListStaff === false\n    }),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79\n    },\n    __self: this\n  }, _.map(listStaff, function (item, index) {\n    return React.createElement(\"div\", {\n      className: \"div-each-staff\",\n      key: index,\n      onClick: function onClick() {\n        sendData(index++);\n        setInputValue(item.profile.name);\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86\n      },\n      __self: this\n    }, React.createElement(\"p\", {\n      style: {\n        cursor: \"pointer\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94\n      },\n      __self: this\n    }, item.profile.name), React.createElement(\"p\", {\n      style: {\n        cursor: \"pointer\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95\n      },\n      __self: this\n    }, \"\".concat(item.profile.date_of_birth, \"   \").concat(item.position)));\n  })));\n};\n\nexport default SearchUser;","map":{"version":3,"sources":["/home/phong/rails/imp/app/javascript/commons/components/searchUser/searchUser.js"],"names":["React","useState","useEffect","useRef","Input","_","classNames","useDispatch","useSelector","fetchListAccountRequest","SearchUser","props","showListStaff","setShowListStaff","inputValue","setInputValue","dispatch","list","state","accountReducer","listAccount","data","listStaff","filter","n","includes","profile","name","toLowerCase","showLeave","setShowLeave","refShowListStaff","clickOutSide","event","target","refShowLeave","current","contains","document","removeEventListener","clickOnListStaffList","addEventListener","clickOutSideList","sendData","id","onSelectStaff","e","value","hideThisDiv","map","item","index","cursor","date_of_birth","position"],"mappings":";;;;;;;;;;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,EAAqCC,MAArC,QAAmD,OAAnD;AACA,SAASC,KAAT,QAAsB,YAAtB;AACA,OAAOC,CAAP,MAAc,QAAd;AACA,OAAOC,UAAP,MAAuB,YAAvB;AACA,SAASC,WAAT,EAAsBC,WAAtB,QAAyC,aAAzC;AACA,SAASC,uBAAT,QAAwC,gCAAxC;;AAEA,IAAMC,UAAU,GAAG,SAAbA,UAAa,CAAAC,KAAK,EAAI;AAC1B;AAD0B,kBAEgBV,QAAQ,CAAC,KAAD,CAFxB;AAAA;AAAA,MAEnBW,aAFmB;AAAA,MAEJC,gBAFI;;AAAA,mBAGUZ,QAAQ,CAAC,EAAD,CAHlB;AAAA;AAAA,MAGnBa,UAHmB;AAAA,MAGPC,aAHO;;AAI1B,MAAMC,QAAQ,GAAGT,WAAW,EAA5B;AACAL,EAAAA,SAAS,CAAC,YAAM;AACdc,IAAAA,QAAQ,CAACP,uBAAuB,EAAxB,CAAR;AACD,GAFQ,EAEN,EAFM,CAAT;AAGA,MAAMQ,IAAI,GAAGT,WAAW,CAAC,UAAAU,KAAK;AAAA,WAAIA,KAAK,CAACC,cAAN,CAAqBC,WAArB,CAAiCC,IAArC;AAAA,GAAN,CAAxB;;AACA,MAAMC,SAAS,GAAGjB,CAAC,CAACkB,MAAF,CAASN,IAAT,EAAe,UAAAO,CAAC;AAAA,WAChCnB,CAAC,CAACoB,QAAF,CAAWD,CAAC,CAACE,OAAF,CAAUC,IAAV,CAAeC,WAAf,EAAX,EAAyCd,UAAU,CAACc,WAAX,EAAzC,CADgC;AAAA,GAAhB,CAAlB,CAT0B,CAY1B;AACA;;;AAb0B,mBAcQ3B,QAAQ,CAAC,KAAD,CAdhB;AAAA;AAAA,MAcnB4B,SAdmB;AAAA,MAcRC,YAdQ;;AAe1B,MAAMC,gBAAgB,GAAG5B,MAAM,EAA/B;;AAEA,MAAM6B,YAAY,GAAG,SAAfA,YAAe,CAAAC,KAAK,EAAI;AAAA,QACpBC,MADoB,GACTD,KADS,CACpBC,MADoB;;AAE5B,QAAIC,YAAY,CAACC,OAAb,KAAyB,IAA7B,EAAmC;AACjC,UAAI,CAACD,YAAY,CAACC,OAAb,CAAqBC,QAArB,CAA8BH,MAA9B,CAAL,EAA4C;AAC1CJ,QAAAA,YAAY,CAAC,KAAD,CAAZ;AACAQ,QAAAA,QAAQ,CAACC,mBAAT,CAA6B,OAA7B,EAAsCP,YAAtC;AACD;AACF;AACF,GARD;;AASA,MAAMQ,oBAAoB,GAAG,SAAvBA,oBAAuB,GAAM;AACjC3B,IAAAA,gBAAgB,CAAC,IAAD,CAAhB;AACAyB,IAAAA,QAAQ,CAACG,gBAAT,CAA0B,OAA1B,EAAmCC,gBAAnC;AACD,GAHD;;AAIA,MAAMA,gBAAgB,GAAG,SAAnBA,gBAAmB,CAAAT,KAAK,EAAI;AAAA,QACxBC,MADwB,GACbD,KADa,CACxBC,MADwB;;AAEhC,QAAIH,gBAAgB,CAACK,OAAjB,KAA6B,IAAjC,EAAuC;AACrC,UAAI,CAACL,gBAAgB,CAACK,OAAjB,CAAyBC,QAAzB,CAAkCH,MAAlC,CAAL,EAAgD;AAC9CrB,QAAAA,gBAAgB,CAAC,KAAD,CAAhB;AACAyB,QAAAA,QAAQ,CAACC,mBAAT,CAA6B,OAA7B,EAAsCG,gBAAtC;AACD;AACF;AACF,GARD;;AASAxC,EAAAA,SAAS,CAAC,YAAM;AACd,WAAO,YAAM;AACX,UAAI2B,SAAS,KAAK,IAAlB,EAAwB;AACtBS,QAAAA,QAAQ,CAACC,mBAAT,CAA6B,OAA7B,EAAsCP,YAAtC;AACD;AACF,KAJD,CADc,CAMd;AACD,GAPQ,EAON,CAACH,SAAD,CAPM,CAAT;AAQA3B,EAAAA,SAAS,CAAC,YAAM;AACd,WAAO,YAAM;AACXoC,MAAAA,QAAQ,CAACC,mBAAT,CAA6B,OAA7B,EAAsCP,YAAtC;AACD,KAFD,CADc,CAId;AACD,GALQ,EAKN,EALM,CAAT,CA/C0B,CAqD1B;;AACA,MAAMW,QAAQ,GAAG,SAAXA,QAAW,CAAAC,EAAE,EAAI;AACrBjC,IAAAA,KAAK,CAACkC,aAAN,CAAoBvB,SAAS,CAACsB,EAAD,CAAT,CAAcA,EAAlC;AACD,GAFD;;AAGA,SACE;AAAK,IAAA,SAAS,EAAC,sBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AACE,IAAA,SAAS,EAAC,mBADZ;AAEE,IAAA,GAAG,EAAEb,gBAFP;AAGE,IAAA,OAAO,EAAES,oBAHX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAKE,oBAAC,KAAD;AACE,IAAA,SAAS,EAAC,oBADZ;AAEE,IAAA,WAAW,EAAC,gCAFd;AAGE,IAAA,QAAQ,EAAE,kBAAAM,CAAC;AAAA,aAAI/B,aAAa,CAAC+B,CAAC,CAACZ,MAAF,CAASa,KAAV,CAAjB;AAAA,KAHb;AAIE,IAAA,KAAK,EAAEjC,UAJT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IALF,CADF,EAaE;AACE,IAAA,EAAE,EAAC,iBADL;AAEE,IAAA,SAAS,EAAER,UAAU,CAAC,gBAAD,EAAmB;AACtC0C,MAAAA,WAAW,EAAEpC,aAAa,KAAK;AADO,KAAnB,CAFvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAMGP,CAAC,CAAC4C,GAAF,CAAM3B,SAAN,EAAiB,UAAC4B,IAAD,EAAOC,KAAP;AAAA,WAChB;AACE,MAAA,SAAS,EAAC,gBADZ;AAEE,MAAA,GAAG,EAAEA,KAFP;AAGE,MAAA,OAAO,EAAE,mBAAM;AACbR,QAAAA,QAAQ,CAACQ,KAAK,EAAN,CAAR;AACApC,QAAAA,aAAa,CAACmC,IAAI,CAACxB,OAAL,CAAaC,IAAd,CAAb;AACD,OANH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAQE;AAAG,MAAA,KAAK,EAAE;AAAEyB,QAAAA,MAAM,EAAE;AAAV,OAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAkCF,IAAI,CAACxB,OAAL,CAAaC,IAA/C,CARF,EASE;AACE,MAAA,KAAK,EAAE;AAAEyB,QAAAA,MAAM,EAAE;AAAV,OADT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBAEKF,IAAI,CAACxB,OAAL,CAAa2B,aAFlB,gBAEqCH,IAAI,CAACI,QAF1C,EATF,CADgB;AAAA,GAAjB,CANH,CAbF,CADF;AAsCD,CA/FD;;AAgGA,eAAe5C,UAAf","sourcesContent":["import React, { useState, useEffect, useRef } from \"react\";\nimport { Input } from \"reactstrap\";\nimport _ from \"lodash\";\nimport classNames from \"classnames\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { fetchListAccountRequest } from \"../../../admin/actions/account\";\n\nconst SearchUser = props => {\n  //code search\n  const [showListStaff, setShowListStaff] = useState(false);\n  const [inputValue, setInputValue] = useState(\"\");\n  const dispatch = useDispatch();\n  useEffect(() => {\n    dispatch(fetchListAccountRequest());\n  }, []);\n  const list = useSelector(state => state.accountReducer.listAccount.data);\n  const listStaff = _.filter(list, n =>\n    _.includes(n.profile.name.toLowerCase(), inputValue.toLowerCase())\n  );\n  //code search\n  //code show leave\n  const [showLeave, setShowLeave] = useState(false);\n  const refShowListStaff = useRef();\n\n  const clickOutSide = event => {\n    const { target } = event;\n    if (refShowLeave.current !== null) {\n      if (!refShowLeave.current.contains(target)) {\n        setShowLeave(false);\n        document.removeEventListener(\"click\", clickOutSide);\n      }\n    }\n  };\n  const clickOnListStaffList = () => {\n    setShowListStaff(true);\n    document.addEventListener(\"click\", clickOutSideList);\n  };\n  const clickOutSideList = event => {\n    const { target } = event;\n    if (refShowListStaff.current !== null) {\n      if (!refShowListStaff.current.contains(target)) {\n        setShowListStaff(false);\n        document.removeEventListener(\"click\", clickOutSideList);\n      }\n    }\n  };\n  useEffect(() => {\n    return () => {\n      if (showLeave === true) {\n        document.removeEventListener(\"click\", clickOutSide);\n      }\n    };\n    // eslint-disable-next-line\n  }, [showLeave]);\n  useEffect(() => {\n    return () => {\n      document.removeEventListener(\"click\", clickOutSide);\n    };\n    // eslint-disable-next-line\n  }, []);\n  //code show leave\n  const sendData = id => {\n    props.onSelectStaff(listStaff[id].id);\n  };\n  return (\n    <div className=\"saffs-search-content\">\n      <div\n        className=\"div-outside-input\"\n        ref={refShowListStaff}\n        onClick={clickOnListStaffList}\n      >\n        <Input\n          className=\"input-search-staff\"\n          placeholder=\"Enter the name of the employee\"\n          onChange={e => setInputValue(e.target.value)}\n          value={inputValue}\n        />\n      </div>\n      <div\n        id=\"scrollbar-style\"\n        className={classNames(\"div-list-staff\", {\n          hideThisDiv: showListStaff === false\n        })}\n      >\n        {_.map(listStaff, (item, index) => (\n          <div\n            className=\"div-each-staff\"\n            key={index}\n            onClick={() => {\n              sendData(index++);\n              setInputValue(item.profile.name);\n            }}\n          >\n            <p style={{ cursor: \"pointer\" }}>{item.profile.name}</p>\n            <p\n              style={{ cursor: \"pointer\" }}\n            >{`${item.profile.date_of_birth}   ${item.position}`}</p>\n          </div>\n        ))}\n      </div>\n    </div>\n  );\n};\nexport default SearchUser;\n"]},"metadata":{},"sourceType":"module"}