{"ast":null,"code":"var _jsxFileName = \"/home/phong/rails/imp/app/javascript/staff/components/dayOffs/index.js\";\n\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); }\n\nfunction _iterableToArrayLimit(arr, i) { if (!(Symbol.iterator in Object(arr) || Object.prototype.toString.call(arr) === \"[object Arguments]\")) { return; } var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nimport React, { useState, useEffect } from 'react';\nimport { connect } from 'react-redux';\nimport { Table, Badge } from 'reactstrap';\nimport moment from 'moment';\nimport \"react-dates/lib/css/_datepicker.css\";\nimport _ from 'lodash';\nimport Time from '../../../commons/const/Time';\nimport * as actions from '../../actions/dayOffs';\nimport DateRangePicker from '../../../commons/components/dateRangePicker';\nimport DayOffForm from './DayOffForm';\nimport Pagination from '../../../commons/components/pagination';\n\nvar DayOffs = function DayOffs(props) {\n  var _useState = useState({\n    startTime: moment().subtract(10, 'days').format(Time.DMY),\n    endTime: moment().format(Time.DMY)\n  }),\n      _useState2 = _slicedToArray(_useState, 2),\n      date = _useState2[0],\n      setDate = _useState2[1];\n\n  var _useState3 = useState(1),\n      _useState4 = _slicedToArray(_useState3, 2),\n      currentPage = _useState4[0],\n      setCurrentPage = _useState4[1];\n\n  var listDayoff = props.listDayoff;\n  useEffect(function () {\n    props.getStaffDayOff(date, currentPage);\n  }, [date, currentPage]);\n  return React.createElement(\"div\", {\n    className: \"container-fluid\",\n    style: {\n      width: \"95%\"\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 27\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"row mx-0 mt-5 mb-3\",\n    style: {\n      verticalAlign: \"none\"\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 28\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"col-md-3 col-lg-2\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 29\n    },\n    __self: this\n  }, React.createElement(DayOffForm, {\n    title: \"Dayoff\",\n    buttonLabel: \"Add\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 30\n    },\n    __self: this\n  })), React.createElement(\"div\", {\n    className: \"col-md-9 col-lg-10\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 35\n    },\n    __self: this\n  }, React.createElement(DateRangePicker, {\n    setDate: setDate,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36\n    },\n    __self: this\n  }))), React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39\n    },\n    __self: this\n  }, React.createElement(Table, {\n    hover: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40\n    },\n    __self: this\n  }, React.createElement(\"thead\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41\n    },\n    __self: this\n  }, React.createElement(\"tr\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42\n    },\n    __self: this\n  }, React.createElement(\"th\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43\n    },\n    __self: this\n  }, \"Date\"), React.createElement(\"th\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44\n    },\n    __self: this\n  }, \"Reason\"), React.createElement(\"th\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45\n    },\n    __self: this\n  }, \"Status\"), React.createElement(\"th\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46\n    },\n    __self: this\n  }, \"Confirm\"), React.createElement(\"th\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47\n    },\n    __self: this\n  }))), React.createElement(\"tbody\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50\n    },\n    __self: this\n  }, _.map(listDayoff, function (item) {\n    return React.createElement(\"tr\", {\n      style: {\n        height: \"62px\",\n        verticalAlign: \"none\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 53\n      },\n      __self: this\n    }, React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54\n      },\n      __self: this\n    }, item.date), React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55\n      },\n      __self: this\n    }, item.reason), React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56\n      },\n      __self: this\n    }, item.status), React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57\n      },\n      __self: this\n    }, item.is_allowed && React.createElement(Badge, {\n      href: \"#\",\n      color: \"success\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58\n      },\n      __self: this\n    }, \"Confirm\"), !item.is_allowed && React.createElement(Badge, {\n      href: \"#\",\n      color: \"warning\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59\n      },\n      __self: this\n    }, \"Waiting\")), React.createElement(\"td\", {\n      style: {\n        width: \"15%\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61\n      },\n      __self: this\n    }, !item.is_allowed && React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63\n      },\n      __self: this\n    }, React.createElement(DayOffForm, {\n      title: \"Edit dayoff\",\n      buttonLabel: \"Edit\",\n      item: item,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64\n      },\n      __self: this\n    }))));\n  })))), React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78\n    },\n    __self: this\n  }, React.createElement(Pagination, {\n    totalPage: 10,\n    pageChange: function pageChange(x) {\n      return setCurrentPage(x);\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79\n    },\n    __self: this\n  })));\n};\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    listDayoff: state.dayOffs.listDayoff\n  };\n};\n\nvar mapDispatchToProps = function mapDispatchToProps(dispatch) {\n  return {\n    getStaffDayOff: function getStaffDayOff(date, current_page) {\n      return dispatch(actions.getStaffDayOff({\n        date: date,\n        current_page: current_page\n      }));\n    }\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(DayOffs);","map":{"version":3,"sources":["/home/phong/rails/imp/app/javascript/staff/components/dayOffs/index.js"],"names":["React","useState","useEffect","connect","Table","Badge","moment","_","Time","actions","DateRangePicker","DayOffForm","Pagination","DayOffs","props","startTime","subtract","format","DMY","endTime","date","setDate","currentPage","setCurrentPage","listDayoff","getStaffDayOff","width","verticalAlign","map","item","height","reason","status","is_allowed","x","mapStateToProps","state","dayOffs","mapDispatchToProps","dispatch","current_page"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react'\nimport { connect } from 'react-redux'\nimport { Table, Badge } from 'reactstrap'\nimport moment from 'moment'\nimport \"react-dates/lib/css/_datepicker.css\";\nimport _ from 'lodash';\n\nimport Time from '../../../commons/const/Time';\nimport * as actions from '../../actions/dayOffs'\nimport DateRangePicker from '../../../commons/components/dateRangePicker'\nimport DayOffForm from './DayOffForm'\nimport Pagination from '../../../commons/components/pagination'\n\nconst DayOffs = props => {\n  const [date, setDate] = useState({\n    startTime: moment().subtract(10, 'days').format(Time.DMY),\n    endTime: moment().format(Time.DMY)\n  })\n  const [currentPage, setCurrentPage] = useState(1);\n\n  const { listDayoff } = props\n  useEffect(() => {\n    props.getStaffDayOff(date, currentPage)\n  }, [date, currentPage])\n\n  return (\n    <div className=\"container-fluid\" style={{ width: \"95%\" }}>\n      <div className=\"row mx-0 mt-5 mb-3\" style={{ verticalAlign: \"none\" }}>\n        <div className=\"col-md-3 col-lg-2\">\n          <DayOffForm\n            title=\"Dayoff\"\n            buttonLabel=\"Add\"\n          />\n        </div>\n        <div className=\"col-md-9 col-lg-10\">\n          <DateRangePicker setDate={setDate} />\n        </div>\n      </div>\n      <div>\n        <Table hover>\n          <thead>\n            <tr>\n              <th>Date</th>\n              <th>Reason</th>\n              <th>Status</th>\n              <th>Confirm</th>\n              <th></th>\n            </tr>\n          </thead>\n          <tbody>\n            {\n              _.map(listDayoff, (item) =>\n                <tr style={{ height: \"62px\", verticalAlign: \"none\" }}>\n                  <td>{item.date}</td>\n                  <td>{item.reason}</td>\n                  <td>{item.status}</td>\n                  <td>\n                    {item.is_allowed && <Badge href=\"#\" color=\"success\">Confirm</Badge>}\n                    {!item.is_allowed && <Badge href=\"#\" color=\"warning\">Waiting</Badge>}\n                  </td>\n                  <td style={{ width: \"15%\" }}>\n                    {!item.is_allowed &&\n                      <div>\n                        <DayOffForm\n                          title=\"Edit dayoff\"\n                          buttonLabel=\"Edit\"\n                          item={item}\n                        />\n                      </div>\n                    }\n                  </td>\n                </tr>\n              )\n            }\n          </tbody>\n        </Table>\n      </div>\n      <div>\n        <Pagination totalPage={10} pageChange={(x) => setCurrentPage(x)} />\n      </div>\n    </div>\n  )\n}\n\nconst mapStateToProps = (state) => {\n  return {\n    listDayoff: state.dayOffs.listDayoff,\n  }\n}\nconst mapDispatchToProps = (dispatch) => {\n  return {\n    getStaffDayOff: (date, current_page) => dispatch(actions.getStaffDayOff({ date, current_page }))\n  }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(DayOffs);\n"]},"metadata":{},"sourceType":"module"}