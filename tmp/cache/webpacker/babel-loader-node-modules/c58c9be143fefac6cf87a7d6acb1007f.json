{"ast":null,"code":"var _jsxFileName = \"/home/phong/rails/imp/app/javascript/admin/components/accounts/index.js\";\n\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); }\n\nfunction _iterableToArrayLimit(arr, i) { if (!(Symbol.iterator in Object(arr) || Object.prototype.toString.call(arr) === \"[object Arguments]\")) { return; } var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nimport React, { useState, useEffect } from 'react';\nimport { Link, useHistory } from \"react-router-dom\";\nimport { connect } from 'react-redux';\nimport { bindActionCreators } from 'redux';\nimport { Breadcrumb, BreadcrumbItem, Table, Badge } from 'reactstrap';\nimport '../../asset/css/account.css';\nimport '../../asset/css/breadcrumb.css';\nimport * as accountActions from '../../actions/account';\nimport IconDow from '../../asset/img/dow.png';\nimport IconUp from '../../asset/img/up.png';\nimport IconSearch from '../../asset/img/search.png';\nimport { DeleteModal } from '../../../commons/components/modal/';\nimport Pagination from '../../../commons/components/pagination';\nimport AccountForm from './accountForm';\n\nvar ListAccounts = function ListAccounts(props) {\n  var _useState = useState(1),\n      _useState2 = _slicedToArray(_useState, 2),\n      currentPage = _useState2[0],\n      setCurrentPage = _useState2[1];\n\n  var _useState3 = useState(''),\n      _useState4 = _slicedToArray(_useState3, 2),\n      ftext = _useState4[0],\n      setText = _useState4[1];\n\n  var listAccount = props.listAccount,\n      totalPage = props.totalPage,\n      accountActions = props.accountActions; //------------------LIST ACCOUNT--------------\n\n  useEffect(function () {\n    accountActions.fetchListAccountRequest(); // eslint-disable-next-line\n  }, [currentPage]); //------------------SEARCH ACCOUNT--------------\n\n  var isOnchange = function isOnchange(e) {\n    setText(e.target.value);\n  };\n\n  var sumbmitSearchAccount = function sumbmitSearchAccount(e) {\n    e.preventDefault();\n    var searchAccountRequest = props.accountActions.searchAccountRequest;\n    searchAccountRequest(ftext);\n  }; //------------------DELETE ACCOUNT--------------\n\n\n  var handleDeleteAccount = function handleDeleteAccount(item) {\n    var deleteAccountRequest = props.accountActions.deleteAccountRequest;\n    deleteAccountRequest(item.id);\n  }; //------------------ONCLICK DETAIL ACCOUNT--------------\n\n\n  var history = useHistory();\n\n  var onClickDetailAccount = function onClickDetailAccount(id) {\n    history.push(\"/admin/users/\".concat(id));\n  };\n\n  return React.createElement(\"div\", {\n    className: \"container-fluid p-0\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51\n    },\n    __self: this\n  }, React.createElement(Breadcrumb, {\n    style: {\n      padding: \"0 20px\"\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52\n    },\n    __self: this\n  }, React.createElement(BreadcrumbItem, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53\n    },\n    __self: this\n  }, React.createElement(Link, {\n    to: \"#\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53\n    },\n    __self: this\n  }, \"Home\")), React.createElement(BreadcrumbItem, {\n    active: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54\n    },\n    __self: this\n  }, \"Accounts\")), React.createElement(\"div\", {\n    className: \"main-wrap\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"saffs-search\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57\n    },\n    __self: this\n  }, React.createElement(AccountForm, {\n    buttonLabel: \"Add\",\n    title: \"Add new account\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58\n    },\n    __self: this\n  }), React.createElement(\"div\", {\n    className: \"saffs-search-content\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62\n    },\n    __self: this\n  }, React.createElement(\"form\", {\n    onSubmit: sumbmitSearchAccount,\n    className: \"form-inline\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63\n    },\n    __self: this\n  }, React.createElement(\"input\", {\n    name: \"ftext\",\n    onChange: isOnchange,\n    className: \"form-control mr-sm-2\",\n    type: \"search\",\n    placeholder: \"input name or email\",\n    \"aria-label\": \"Search\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64\n    },\n    __self: this\n  }), React.createElement(\"button\", {\n    className: \"btn btn-search my-2 my-sm-0\",\n    type: \"submit\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65\n    },\n    __self: this\n  }, React.createElement(\"img\", {\n    src: IconSearch,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65\n    },\n    __self: this\n  }))))), React.createElement(\"div\", {\n    className: \"table-content\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69\n    },\n    __self: this\n  }, React.createElement(Table, {\n    hover: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70\n    },\n    __self: this\n  }, React.createElement(\"thead\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71\n    },\n    __self: this\n  }, React.createElement(\"tr\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72\n    },\n    __self: this\n  }, React.createElement(\"th\", {\n    className: \"table-sort\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"mt-2\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74\n    },\n    __self: this\n  }, \"Staff ID\"), React.createElement(\"div\", {\n    className: \"sort-icon ml-2\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"icon-up\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76\n    },\n    __self: this\n  }, React.createElement(\"img\", {\n    src: IconUp,\n    className: \"icon-dow-up\",\n    alt: \"icon_dow\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77\n    },\n    __self: this\n  })), React.createElement(\"div\", {\n    className: \"icon-dow\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79\n    },\n    __self: this\n  }, React.createElement(\"img\", {\n    src: IconDow,\n    className: \"icon-dow-up\",\n    alt: \"icon_up\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80\n    },\n    __self: this\n  })))), React.createElement(\"th\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84\n    },\n    __self: this\n  }, \"Name\"), React.createElement(\"th\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85\n    },\n    __self: this\n  }, \"Email\"), React.createElement(\"th\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86\n    },\n    __self: this\n  }, \"Role\"), React.createElement(\"th\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87\n    },\n    __self: this\n  }, \"Status\"), React.createElement(\"th\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88\n    },\n    __self: this\n  }))), React.createElement(\"tbody\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91\n    },\n    __self: this\n  }, listAccount.map(function (value, key) {\n    var status = value.status === true ? {\n      name: \"Active\",\n      color: \"success\"\n    } : {\n      name: \"Deactive\",\n      color: \"danger\"\n    };\n    return React.createElement(\"tr\", {\n      key: key,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96\n      },\n      __self: this\n    }, React.createElement(\"th\", {\n      onClick: function onClick() {\n        return onClickDetailAccount(value.id);\n      },\n      scope: \"row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97\n      },\n      __self: this\n    }, value.code), React.createElement(\"td\", {\n      onClick: function onClick() {\n        return onClickDetailAccount(value.id);\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98\n      },\n      __self: this\n    }, value.profile.name), React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99\n      },\n      __self: this\n    }, value.email), React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100\n      },\n      __self: this\n    }, value.roles[0].name), React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101\n      },\n      __self: this\n    }, React.createElement(Badge, {\n      href: \"#\",\n      color: status.color,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101\n      },\n      __self: this\n    }, status.name)), React.createElement(\"td\", {\n      className: \"setting-button\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102\n      },\n      __self: this\n    }, React.createElement(AccountForm, {\n      buttonLabel: \"Edit\",\n      title: \"Edit account\",\n      item: value,\n      id: value.id,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103\n      },\n      __self: this\n    }), React.createElement(DeleteModal, {\n      item: value,\n      deleteAccount: handleDeleteAccount,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109\n      },\n      __self: this\n    })));\n  }))))), React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119\n    },\n    __self: this\n  }, React.createElement(Pagination, {\n    totalPage: totalPage,\n    pageChange: setCurrentPage,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 120\n    },\n    __self: this\n  })));\n};\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    listAccount: state.accountReducer.data,\n    totalPage: state.accountReducer.total_page\n  };\n};\n\nvar mapDispatchToProps = function mapDispatchToProps(dispatch) {\n  return {\n    accountActions: bindActionCreators(accountActions, dispatch)\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(ListAccounts);","map":{"version":3,"sources":["/home/phong/rails/imp/app/javascript/admin/components/accounts/index.js"],"names":["React","useState","useEffect","Link","useHistory","connect","bindActionCreators","Breadcrumb","BreadcrumbItem","Table","Badge","accountActions","IconDow","IconUp","IconSearch","DeleteModal","Pagination","AccountForm","ListAccounts","props","currentPage","setCurrentPage","ftext","setText","listAccount","totalPage","fetchListAccountRequest","isOnchange","e","target","value","sumbmitSearchAccount","preventDefault","searchAccountRequest","handleDeleteAccount","item","deleteAccountRequest","id","history","onClickDetailAccount","push","padding","map","key","status","name","color","code","profile","email","roles","mapStateToProps","state","accountReducer","data","total_page","mapDispatchToProps","dispatch"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { Link, useHistory } from \"react-router-dom\";\nimport { connect } from 'react-redux';\nimport { bindActionCreators } from 'redux';\nimport { Breadcrumb, BreadcrumbItem, Table, Badge } from 'reactstrap';\nimport '../../asset/css/account.css';\nimport '../../asset/css/breadcrumb.css'\nimport * as accountActions from '../../actions/account';\nimport IconDow from '../../asset/img/dow.png';\nimport IconUp from '../../asset/img/up.png';\nimport IconSearch from '../../asset/img/search.png';\nimport { DeleteModal } from '../../../commons/components/modal/';\nimport Pagination from '../../../commons/components/pagination';\nimport AccountForm from './accountForm';\n\nconst ListAccounts = props => {\n  const [currentPage, setCurrentPage] = useState(1);\n  const [ftext, setText] = useState('');\n  const { listAccount, totalPage, accountActions } = props;\n\n  //------------------LIST ACCOUNT--------------\n  useEffect(() => {\n    accountActions.fetchListAccountRequest();\n    // eslint-disable-next-line\n  }, [currentPage])\n\n  //------------------SEARCH ACCOUNT--------------\n  const isOnchange = e => {\n    setText(e.target.value);\n  }\n  const sumbmitSearchAccount = e => {\n    e.preventDefault();\n    const { searchAccountRequest } = props.accountActions;\n    searchAccountRequest(ftext);\n  }\n\n  //------------------DELETE ACCOUNT--------------\n  const handleDeleteAccount = item => {\n    const { deleteAccountRequest } = props.accountActions;\n    deleteAccountRequest(item.id);\n  }\n\n  //------------------ONCLICK DETAIL ACCOUNT--------------\n  let history = useHistory();\n  \n  const onClickDetailAccount = (id) => {\n    history.push(`/admin/users/${id}`);\n  }\n\n  return (\n    <div className=\"container-fluid p-0\">\n      <Breadcrumb style={{ padding: \"0 20px\" }}>\n        <BreadcrumbItem><Link to=\"#\">Home</Link></BreadcrumbItem>\n        <BreadcrumbItem active>Accounts</BreadcrumbItem>\n      </Breadcrumb>\n      <div className=\"main-wrap\">\n        <div className=\"saffs-search\">\n          <AccountForm\n            buttonLabel=\"Add\"\n            title=\"Add new account\"\n          />\n          <div className=\"saffs-search-content\">\n            <form onSubmit={sumbmitSearchAccount} className=\"form-inline\">\n              <input name=\"ftext\" onChange={isOnchange} className=\"form-control mr-sm-2\" type=\"search\" placeholder=\"input name or email\" aria-label=\"Search\" />\n              <button className=\"btn btn-search my-2 my-sm-0\" type=\"submit\"><img src={IconSearch}></img></button>\n            </form>\n          </div>\n        </div>\n        <div className=\"table-content\">\n          <Table hover>\n            <thead>\n              <tr>\n                <th className=\"table-sort\">\n                  <div className=\"mt-2\">Staff ID</div>\n                  <div className=\"sort-icon ml-2\">\n                    <div className=\"icon-up\">\n                      <img src={IconUp} className=\"icon-dow-up\" alt=\"icon_dow\"></img>\n                    </div>\n                    <div className=\"icon-dow\">\n                      <img src={IconDow} className=\"icon-dow-up\" alt=\"icon_up\"></img>\n                    </div>\n                  </div>\n                </th>\n                <th>Name</th>\n                <th>Email</th>\n                <th>Role</th>\n                <th>Status</th>\n                <th></th>\n              </tr>\n            </thead>\n            <tbody>\n              {\n                listAccount.map((value, key) => {\n                  const status = value.status === true ? { name: \"Active\", color: \"success\" } : { name: \"Deactive\", color: \"danger\" }\n                  return (\n                    <tr key={key}>\n                      <th onClick={() => onClickDetailAccount(value.id)} scope=\"row\">{value.code}</th>\n                      <td onClick={() => onClickDetailAccount(value.id)}>{value.profile.name}</td>\n                      <td>{value.email}</td>\n                      <td>{value.roles[0].name}</td>\n                      <td><Badge href=\"#\" color={status.color}>{status.name}</Badge></td>\n                      <td className=\"setting-button\">\n                        <AccountForm\n                          buttonLabel=\"Edit\"\n                          title=\"Edit account\"\n                          item={value}\n                          id={value.id}\n                        />\n                        <DeleteModal item={value} deleteAccount={handleDeleteAccount} />\n                      </td>\n                    </tr>\n                  )\n                })\n              }\n            </tbody>\n          </Table>\n        </div>\n      </div>\n      <div>\n        <Pagination totalPage={totalPage} pageChange={setCurrentPage} />\n      </div>\n    </div>\n  );\n};\n\nconst mapStateToProps = (state) => {\n  return {\n    listAccount: state.accountReducer.data,\n    totalPage: state.accountReducer.total_page\n  }\n};\n\nconst mapDispatchToProps = (dispatch) => {\n  return {\n    accountActions: bindActionCreators(accountActions, dispatch),\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(ListAccounts);\n"]},"metadata":{},"sourceType":"module"}