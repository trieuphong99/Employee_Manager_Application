{"ast":null,"code":"import axios from 'axios';\nimport actionTypes from '../../commons/const/actionTypes';\nimport { toastSuccess } from '../../commons/helpers/toastHelpers';\nimport { showLoading, hideLoading } from './loading'; //Get CurrentUser\n\nexport var getInfoCurrentUser = function getInfoCurrentUser() {\n  return function (dispatch) {\n    axios.get(\"users/\".concat(current_user_id)) //hard code\n    .then(function (res) {\n      dispatch(setCurrentUser(res.data));\n    })[\"catch\"](function (error) {\n      console.log(error);\n    });\n  };\n};\nexport var changeAvatarUser = function changeAvatarUser(avatar) {\n  var body = {\n    avatar: String(avatar)\n  };\n  return function (dispatch) {\n    dispatch(showLoading());\n    axios.put('/profile', body).then(function (res) {\n      dispatch({\n        type: actionTypes.CHANGE_AVATAR_USER,\n        data: res.data\n      });\n      toastSuccess('Successful!');\n    })[\"catch\"](function (er) {\n      toastSuccess(\"\".concat(er.response.data));\n    })[\"finally\"](function () {\n      dispatch(hideLoading());\n    });\n  };\n};\nexport var setCurrentUser = function setCurrentUser(data, status) {\n  return {\n    type: actionTypes.setCurrentUser,\n    data: data,\n    status: status\n  };\n};","map":{"version":3,"sources":["/home/phong/rails/imp/app/javascript/staff/actions/account.js"],"names":["axios","actionTypes","toastSuccess","showLoading","hideLoading","getInfoCurrentUser","dispatch","get","current_user_id","then","res","setCurrentUser","data","error","console","log","changeAvatarUser","avatar","body","String","put","type","CHANGE_AVATAR_USER","er","response","status"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,WAAP,MAAwB,iCAAxB;AACA,SAASC,YAAT,QAA6B,oCAA7B;AACA,SAASC,WAAT,EAAsBC,WAAtB,QAAyC,WAAzC,C,CAEA;;AACA,OAAO,IAAMC,kBAAkB,GAAG,SAArBA,kBAAqB,GAAM;AACtC,SAAO,UAACC,QAAD,EAAc;AACnBN,IAAAA,KAAK,CAACO,GAAN,iBAAmBC,eAAnB,GAAsC;AAAtC,KACGC,IADH,CACQ,UAAUC,GAAV,EAAe;AACnBJ,MAAAA,QAAQ,CAACK,cAAc,CAACD,GAAG,CAACE,IAAL,CAAf,CAAR;AACD,KAHH,WAIS,UAAUC,KAAV,EAAiB;AACtBC,MAAAA,OAAO,CAACC,GAAR,CAAYF,KAAZ;AACD,KANH;AAOD,GARD;AASD,CAVM;AAWP,OAAO,IAAMG,gBAAgB,GAAG,SAAnBA,gBAAmB,CAACC,MAAD,EAAY;AAC1C,MAAMC,IAAI,GAAG;AACXD,IAAAA,MAAM,EAAEE,MAAM,CAACF,MAAD;AADH,GAAb;AAGA,SAAO,UAAAX,QAAQ,EAAI;AACjBA,IAAAA,QAAQ,CAACH,WAAW,EAAZ,CAAR;AACAH,IAAAA,KAAK,CAACoB,GAAN,CAAU,UAAV,EAAsBF,IAAtB,EACGT,IADH,CACQ,UAAAC,GAAG,EAAI;AACXJ,MAAAA,QAAQ,CAAC;AAACe,QAAAA,IAAI,EAAEpB,WAAW,CAACqB,kBAAnB;AAAuCV,QAAAA,IAAI,EAAEF,GAAG,CAACE;AAAjD,OAAD,CAAR;AACAV,MAAAA,YAAY,CAAC,aAAD,CAAZ;AACD,KAJH,WAKS,UAAAqB,EAAE,EAAI;AACXrB,MAAAA,YAAY,WAAIqB,EAAE,CAACC,QAAH,CAAYZ,IAAhB,EAAZ;AACD,KAPH,aAQW,YAAM;AACbN,MAAAA,QAAQ,CAACF,WAAW,EAAZ,CAAR;AACD,KAVH;AAWD,GAbD;AAcD,CAlBM;AAoBP,OAAO,IAAMO,cAAc,GAAG,SAAjBA,cAAiB,CAACC,IAAD,EAAOa,MAAP,EAAkB;AAAE,SAAO;AAAEJ,IAAAA,IAAI,EAAEpB,WAAW,CAACU,cAApB;AAAoCC,IAAAA,IAAI,EAAEA,IAA1C;AAAgDa,IAAAA,MAAM,EAAEA;AAAxD,GAAP;AAAyE,CAApH","sourcesContent":["import axios from 'axios';\nimport actionTypes from '../../commons/const/actionTypes'\nimport { toastSuccess } from '../../commons/helpers/toastHelpers';\nimport { showLoading, hideLoading } from './loading';\n\n//Get CurrentUser\nexport const getInfoCurrentUser = () => {\n  return (dispatch) => {\n    axios.get(`users/${current_user_id}`) //hard code\n      .then(function (res) {\n        dispatch(setCurrentUser(res.data))\n      })\n      .catch(function (error) {\n        console.log(error)\n      })\n  }\n}\nexport const changeAvatarUser = (avatar) => {\n  const body = {\n    avatar: String(avatar)\n  };\n  return dispatch => {\n    dispatch(showLoading());\n    axios.put('/profile', body)\n      .then(res => {\n        dispatch({type: actionTypes.CHANGE_AVATAR_USER, data: res.data });\n        toastSuccess('Successful!');\n      })\n      .catch(er => {\n        toastSuccess(`${er.response.data}`);\n      })\n      .finally(() => {\n        dispatch(hideLoading());\n      })\n  }\n}\n\nexport const setCurrentUser = (data, status) => { return { type: actionTypes.setCurrentUser, data: data, status: status } }\n"]},"metadata":{},"sourceType":"module"}