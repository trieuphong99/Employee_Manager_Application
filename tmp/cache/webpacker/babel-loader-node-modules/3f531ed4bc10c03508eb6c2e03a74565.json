{"ast":null,"code":"var _jsxFileName = \"/home/phong/rails/imp/app/javascript/staff/components/dayOffs/DayOffForm.js\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); }\n\nfunction _iterableToArrayLimit(arr, i) { if (!(Symbol.iterator in Object(arr) || Object.prototype.toString.call(arr) === \"[object Arguments]\")) { return; } var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nimport React, { useState } from 'react';\nimport { connect } from 'react-redux';\nimport { bindActionCreators } from 'redux';\nimport { Button, Form, FormGroup, Input, Modal, ModalHeader, ModalBody, ModalFooter } from 'reactstrap';\nimport moment from 'moment';\nimport * as dayOffActions from '../../actions/dayOffs';\nimport SingleDatePicker from '../../helpers/singleDatePicker';\nimport Time from '../../../commons/const/Time';\n\nfunction DayOffForm(props) {\n  var dayOffActions = props.dayOffActions,\n      buttonLabel = props.buttonLabel,\n      title = props.title,\n      item = props.item;\n\n  var _useState = useState(false),\n      _useState2 = _slicedToArray(_useState, 2),\n      modal = _useState2[0],\n      setModal = _useState2[1];\n\n  var _useState3 = useState(item !== undefined ? {\n    date: moment(item.date, Time.crossDMY),\n    status: item.status,\n    reason: item.reason\n  } : {\n    date: moment(),\n    status: '',\n    reason: ''\n  }),\n      _useState4 = _slicedToArray(_useState3, 2),\n      data = _useState4[0],\n      setData = _useState4[1];\n\n  var toggle = function toggle() {\n    return setModal(!modal);\n  };\n\n  var onFormSubmit = function onFormSubmit() {\n    toggle;\n    dayOffActions.addStaffDayOff(data);\n  };\n\n  return React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40\n    },\n    __self: this\n  }, React.createElement(Button, {\n    style: {\n      width: \"100px\"\n    },\n    color: \"info\",\n    onClick: toggle,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41\n    },\n    __self: this\n  }, buttonLabel), React.createElement(Form, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42\n    },\n    __self: this\n  }, React.createElement(Modal, {\n    isOpen: modal,\n    toggle: toggle,\n    centered: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43\n    },\n    __self: this\n  }, React.createElement(ModalHeader, {\n    toggle: toggle,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44\n    },\n    __self: this\n  }, title), React.createElement(ModalBody, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45\n    },\n    __self: this\n  }, React.createElement(FormGroup, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47\n    },\n    __self: this\n  }, React.createElement(SingleDatePicker, {\n    date: data.date,\n    onChange: function onChange(e) {\n      return setData(_objectSpread({}, data, {\n        date: e.target.value\n      }));\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48\n    },\n    __self: this\n  })), React.createElement(FormGroup, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52\n    },\n    __self: this\n  }, React.createElement(Input, {\n    type: \"select\",\n    defaultValue: data.status,\n    onChange: function onChange(e) {\n      return setData(_objectSpread({}, data, {\n        status: e.target.value\n      }));\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53\n    },\n    __self: this\n  }, React.createElement(\"option\", {\n    value: \"full day-off\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58\n    },\n    __self: this\n  }, \"Full day-off\"), React.createElement(\"option\", {\n    selected: true,\n    value: \"half day-off\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59\n    },\n    __self: this\n  }, \"Half day-off\"))), React.createElement(FormGroup, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62\n    },\n    __self: this\n  }, React.createElement(Input, {\n    placeholder: \"Reason...\",\n    type: \"textarea\",\n    defaultValue: data.reason,\n    onChange: function onChange(e) {\n      return setData(_objectSpread({}, data, {\n        status: e.target.value\n      }));\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63\n    },\n    __self: this\n  }))), React.createElement(ModalFooter, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72\n    },\n    __self: this\n  }, React.createElement(Button, {\n    color: \"primary\",\n    onClick: toggle,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73\n    },\n    __self: this\n  }, \"Cancel\"), ' ', React.createElement(Button, {\n    color: \"secondary\",\n    onClick: onFormSubmit,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74\n    },\n    __self: this\n  }, \"Submit\")))));\n}\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {};\n};\n\nvar mapDispatchToProps = function mapDispatchToProps(dispatch) {\n  return {\n    dayOffActions: bindActionCreators(dayOffActions, dispatch)\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(DayOffForm);","map":{"version":3,"sources":["/home/phong/rails/imp/app/javascript/staff/components/dayOffs/DayOffForm.js"],"names":["React","useState","connect","bindActionCreators","Button","Form","FormGroup","Input","Modal","ModalHeader","ModalBody","ModalFooter","moment","dayOffActions","SingleDatePicker","Time","DayOffForm","props","buttonLabel","title","item","modal","setModal","undefined","date","crossDMY","status","reason","data","setData","toggle","onFormSubmit","addStaffDayOff","width","e","target","value","mapStateToProps","state","mapDispatchToProps","dispatch"],"mappings":";;;;;;;;;;;;;;;;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,QAAgC,OAAhC;AACA,SAASC,OAAT,QAAwB,aAAxB;AACA,SAASC,kBAAT,QAAmC,OAAnC;AACA,SAASC,MAAT,EAAiBC,IAAjB,EAAuBC,SAAvB,EAAkCC,KAAlC,EAAyCC,KAAzC,EAAgDC,WAAhD,EAA6DC,SAA7D,EAAwEC,WAAxE,QAA2F,YAA3F;AACA,OAAOC,MAAP,MAAmB,QAAnB;AAEA,OAAO,KAAKC,aAAZ,MAA+B,uBAA/B;AACA,OAAOC,gBAAP,MAA6B,gCAA7B;AACA,OAAOC,IAAP,MAAiB,6BAAjB;;AAEA,SAASC,UAAT,CAAoBC,KAApB,EAA2B;AAAA,MAEvBJ,aAFuB,GAMrBI,KANqB,CAEvBJ,aAFuB;AAAA,MAGvBK,WAHuB,GAMrBD,KANqB,CAGvBC,WAHuB;AAAA,MAIvBC,KAJuB,GAMrBF,KANqB,CAIvBE,KAJuB;AAAA,MAKvBC,IALuB,GAMrBH,KANqB,CAKvBG,IALuB;;AAAA,kBAQCnB,QAAQ,CAAC,KAAD,CART;AAAA;AAAA,MAQlBoB,KARkB;AAAA,MAQXC,QARW;;AAAA,mBASDrB,QAAQ,CAC9BmB,IAAI,KAAKG,SAAT,GAAqB;AACnBC,IAAAA,IAAI,EAAEZ,MAAM,CAACQ,IAAI,CAACI,IAAN,EAAYT,IAAI,CAACU,QAAjB,CADO;AAEnBC,IAAAA,MAAM,EAAEN,IAAI,CAACM,MAFM;AAGnBC,IAAAA,MAAM,EAAEP,IAAI,CAACO;AAHM,GAArB,GAII;AACAH,IAAAA,IAAI,EAAEZ,MAAM,EADZ;AAEAc,IAAAA,MAAM,EAAE,EAFR;AAGAC,IAAAA,MAAM,EAAE;AAHR,GAL0B,CATP;AAAA;AAAA,MASlBC,IATkB;AAAA,MASZC,OATY;;AAqBzB,MAAMC,MAAM,GAAG,SAATA,MAAS;AAAA,WAAMR,QAAQ,CAAC,CAACD,KAAF,CAAd;AAAA,GAAf;;AAEA,MAAMU,YAAY,GAAG,SAAfA,YAAe,GAAM;AACzBD,IAAAA,MAAM;AACNjB,IAAAA,aAAa,CAACmB,cAAd,CAA6BJ,IAA7B;AACD,GAHD;;AAKA,SACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,oBAAC,MAAD;AAAQ,IAAA,KAAK,EAAE;AAAEK,MAAAA,KAAK,EAAE;AAAT,KAAf;AAAmC,IAAA,KAAK,EAAC,MAAzC;AAAgD,IAAA,OAAO,EAAEH,MAAzD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAkEZ,WAAlE,CADF,EAEE,oBAAC,IAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,oBAAC,KAAD;AAAO,IAAA,MAAM,EAAEG,KAAf;AAAsB,IAAA,MAAM,EAAES,MAA9B;AAAsC,IAAA,QAAQ,EAAE,IAAhD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,oBAAC,WAAD;AAAa,IAAA,MAAM,EAAEA,MAArB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAA8BX,KAA9B,CADF,EAEE,oBAAC,SAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAEE,oBAAC,SAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,oBAAC,gBAAD;AACE,IAAA,IAAI,EAAES,IAAI,CAACJ,IADb;AAEE,IAAA,QAAQ,EAAE,kBAAAU,CAAC;AAAA,aAAIL,OAAO,mBAAMD,IAAN;AAAYJ,QAAAA,IAAI,EAAEU,CAAC,CAACC,MAAF,CAASC;AAA3B,SAAX;AAAA,KAFb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,CAFF,EAOE,oBAAC,SAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,oBAAC,KAAD;AACE,IAAA,IAAI,EAAC,QADP;AAEE,IAAA,YAAY,EAAER,IAAI,CAACF,MAFrB;AAGE,IAAA,QAAQ,EAAE,kBAAAQ,CAAC;AAAA,aAAIL,OAAO,mBAAMD,IAAN;AAAYF,QAAAA,MAAM,EAAEQ,CAAC,CAACC,MAAF,CAASC;AAA7B,SAAX;AAAA,KAHb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAKE;AAAQ,IAAA,KAAK,EAAC,cAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBALF,EAME;AAAQ,IAAA,QAAQ,MAAhB;AAAiB,IAAA,KAAK,EAAC,cAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBANF,CADF,CAPF,EAiBE,oBAAC,SAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,oBAAC,KAAD;AACE,IAAA,WAAW,EAAC,WADd;AAEE,IAAA,IAAI,EAAC,UAFP;AAGE,IAAA,YAAY,EAAER,IAAI,CAACD,MAHrB;AAIE,IAAA,QAAQ,EAAE,kBAAAO,CAAC;AAAA,aAAIL,OAAO,mBAAMD,IAAN;AAAYF,QAAAA,MAAM,EAAEQ,CAAC,CAACC,MAAF,CAASC;AAA7B,SAAX;AAAA,KAJb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,CAjBF,CAFF,EA6BE,oBAAC,WAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,oBAAC,MAAD;AAAQ,IAAA,KAAK,EAAC,SAAd;AAAwB,IAAA,OAAO,EAAEN,MAAjC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cADF,EAC2D,GAD3D,EAEE,oBAAC,MAAD;AAAQ,IAAA,KAAK,EAAC,WAAd;AAA0B,IAAA,OAAO,EAAEC,YAAnC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAFF,CA7BF,CADF,CAFF,CADF;AAyCD;;AAED,IAAMM,eAAe,GAAG,SAAlBA,eAAkB,CAAAC,KAAK,EAAI;AAC/B,SAAO,EAAP;AAGD,CAJD;;AAMA,IAAMC,kBAAkB,GAAG,SAArBA,kBAAqB,CAAAC,QAAQ,EAAI;AACrC,SAAO;AACL3B,IAAAA,aAAa,EAAEV,kBAAkB,CAACU,aAAD,EAAgB2B,QAAhB;AAD5B,GAAP;AAGD,CAJD;;AAMA,eAAetC,OAAO,CAACmC,eAAD,EAAkBE,kBAAlB,CAAP,CAA6CvB,UAA7C,CAAf","sourcesContent":["import React, { useState } from 'react'\nimport { connect } from 'react-redux'\nimport { bindActionCreators } from 'redux';\nimport { Button, Form, FormGroup, Input, Modal, ModalHeader, ModalBody, ModalFooter } from 'reactstrap';\nimport moment from 'moment';\n\nimport * as dayOffActions from '../../actions/dayOffs'\nimport SingleDatePicker from '../../helpers/singleDatePicker'\nimport Time from '../../../commons/const/Time'\n\nfunction DayOffForm(props) {\n  const {\n    dayOffActions,\n    buttonLabel,\n    title,\n    item\n  } = props\n\n  const [modal, setModal] = useState(false);\n  const [data, setData] = useState(\n    item !== undefined ? {\n      date: moment(item.date, Time.crossDMY),\n      status: item.status,\n      reason: item.reason\n    } : {\n        date: moment(),\n        status: '',\n        reason: ''\n      }\n  )\n\n  const toggle = () => setModal(!modal);\n\n  const onFormSubmit = () => {\n    toggle\n    dayOffActions.addStaffDayOff(data)\n  }\n\n  return (\n    <div>\n      <Button style={{ width: \"100px\" }} color=\"info\" onClick={toggle}>{buttonLabel}</Button>\n      <Form>\n        <Modal isOpen={modal} toggle={toggle} centered={true}>\n          <ModalHeader toggle={toggle}>{title}</ModalHeader>\n          <ModalBody>\n\n            <FormGroup>\n              <SingleDatePicker\n                date={data.date}\n                onChange={e => setData({ ...data, date: e.target.value })} />\n            </FormGroup>\n            <FormGroup>\n              <Input\n                type=\"select\"\n                defaultValue={data.status}\n                onChange={e => setData({ ...data, status: e.target.value })}\n              >\n                <option value=\"full day-off\">Full day-off</option>\n                <option selected value=\"half day-off\">Half day-off</option>\n              </Input>\n            </FormGroup>\n            <FormGroup>\n              <Input\n                placeholder=\"Reason...\"\n                type=\"textarea\"\n                defaultValue={data.reason}\n                onChange={e => setData({ ...data, status: e.target.value })}\n              />\n            </FormGroup>\n\n          </ModalBody>\n          <ModalFooter>\n            <Button color=\"primary\" onClick={toggle}>Cancel</Button>{' '}\n            <Button color=\"secondary\" onClick={onFormSubmit}>Submit</Button>\n          </ModalFooter>\n        </Modal>\n      </Form>\n    </div >\n  )\n}\n\nconst mapStateToProps = state => {\n  return {\n\n  };\n};\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    dayOffActions: bindActionCreators(dayOffActions, dispatch)\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(DayOffForm);"]},"metadata":{},"sourceType":"module"}