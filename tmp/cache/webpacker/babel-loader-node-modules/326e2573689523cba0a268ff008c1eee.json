{"ast":null,"code":"var _jsxFileName = \"/home/phong/rails/imp/app/javascript/admin/components/accounts/index.js\";\n\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); }\n\nfunction _iterableToArrayLimit(arr, i) { if (!(Symbol.iterator in Object(arr) || Object.prototype.toString.call(arr) === \"[object Arguments]\")) { return; } var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nimport React, { useState, useEffect } from \"react\";\nimport { Link, useHistory } from \"react-router-dom\";\nimport { connect } from \"react-redux\";\nimport { bindActionCreators } from \"redux\";\nimport { Breadcrumb, BreadcrumbItem, Table, Badge } from \"reactstrap\";\nimport * as accountActions from \"../../actions/account\";\nimport IconDow from \"../../asset/img/dow.png\";\nimport IconUp from \"../../asset/img/up.png\";\nimport IconSearch from \"../../asset/img/search.png\";\nimport { DeleteModal } from \"../../../commons/components/modal/\";\nimport Pagination from \"../../../commons/components/pagination\";\nimport AccountForm from \"./accountForm\";\n\nvar ListAccounts = function ListAccounts(props) {\n  var _useState = useState(1),\n      _useState2 = _slicedToArray(_useState, 2),\n      currentPage = _useState2[0],\n      setCurrentPage = _useState2[1];\n\n  var _useState3 = useState(\"\"),\n      _useState4 = _slicedToArray(_useState3, 2),\n      ftext = _useState4[0],\n      setText = _useState4[1];\n\n  var listAccount = props.listAccount,\n      totalPage = props.totalPage,\n      accountActions = props.accountActions; //------------------LIST ACCOUNT--------------\n\n  useEffect(function () {\n    accountActions.fetchListAccountRequest({\n      currentPage: currentPage\n    }); // eslint-disable-next-line\n  }, [currentPage]); //------------------SEARCH ACCOUNT--------------\n\n  var isOnchange = function isOnchange(e) {\n    setText(e.target.value);\n  };\n\n  var sumbmitSearchAccount = function sumbmitSearchAccount(e) {\n    e.preventDefault();\n    var searchAccountRequest = props.accountActions.searchAccountRequest;\n    searchAccountRequest(ftext);\n  }; //------------------DELETE ACCOUNT--------------\n\n\n  var handleDeleteAccount = function handleDeleteAccount(item) {\n    var deleteAccountRequest = props.accountActions.deleteAccountRequest;\n    deleteAccountRequest(item.id);\n  }; //------------------ONCLICK DETAIL ACCOUNT--------------\n\n\n  var history = useHistory();\n\n  var onClickDetailAccount = function onClickDetailAccount(id) {\n    history.push(\"/admin/users/\".concat(id));\n  };\n\n  return React.createElement(\"div\", {\n    className: \"container-fluid\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48\n    },\n    __self: this\n  }, React.createElement(Breadcrumb, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49\n    },\n    __self: this\n  }, React.createElement(BreadcrumbItem, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50\n    },\n    __self: this\n  }, React.createElement(Link, {\n    to: \"#\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51\n    },\n    __self: this\n  }, \"Home\")), React.createElement(BreadcrumbItem, {\n    active: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53\n    },\n    __self: this\n  }, \"Accounts\")), React.createElement(\"div\", {\n    className: \"saffs-search\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55\n    },\n    __self: this\n  }, React.createElement(AccountForm, {\n    buttonLabel: \"Add\",\n    title: \"Add new account\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56\n    },\n    __self: this\n  }), React.createElement(\"div\", {\n    className: \"saffs-search-content\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57\n    },\n    __self: this\n  }, React.createElement(\"form\", {\n    onSubmit: sumbmitSearchAccount,\n    className: \"form-inline\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58\n    },\n    __self: this\n  }, React.createElement(\"input\", {\n    name: \"ftext\",\n    onChange: isOnchange,\n    className: \"form-control mr-sm-2\",\n    type: \"search\",\n    placeholder: \"input name or email\",\n    \"aria-label\": \"Search\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59\n    },\n    __self: this\n  }), React.createElement(\"button\", {\n    className: \"btn btn-search my-2 my-sm-0\",\n    type: \"submit\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67\n    },\n    __self: this\n  }, React.createElement(\"img\", {\n    src: IconSearch,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68\n    },\n    __self: this\n  }))))), React.createElement(\"div\", {\n    className: \"table-content\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73\n    },\n    __self: this\n  }, React.createElement(Table, {\n    hover: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74\n    },\n    __self: this\n  }, React.createElement(\"thead\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75\n    },\n    __self: this\n  }, React.createElement(\"tr\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76\n    },\n    __self: this\n  }, React.createElement(\"th\", {\n    className: \"table-sort\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"mt-2\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78\n    },\n    __self: this\n  }, \"Staff ID\"), React.createElement(\"div\", {\n    className: \"sort-icon ml-2\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"icon-up\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80\n    },\n    __self: this\n  }, React.createElement(\"img\", {\n    src: IconUp,\n    className: \"icon-dow-up\",\n    alt: \"icon_dow\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81\n    },\n    __self: this\n  })), React.createElement(\"div\", {\n    className: \"icon-dow\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87\n    },\n    __self: this\n  }, React.createElement(\"img\", {\n    src: IconDow,\n    className: \"icon-dow-up\",\n    alt: \"icon_up\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88\n    },\n    __self: this\n  })))), React.createElement(\"th\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96\n    },\n    __self: this\n  }, \"Name\"), React.createElement(\"th\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97\n    },\n    __self: this\n  }, \"Email\"), React.createElement(\"th\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98\n    },\n    __self: this\n  }, \"Role\"), React.createElement(\"th\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99\n    },\n    __self: this\n  }, \"Status\"), React.createElement(\"th\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100\n    },\n    __self: this\n  }))), React.createElement(\"tbody\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103\n    },\n    __self: this\n  }, listAccount === undefined || listAccount.length === 0 ? React.createElement(\"tr\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106\n    },\n    __self: this\n  }, React.createElement(\"td\", {\n    colSpan: 6,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107\n    },\n    __self: this\n  }, React.createElement(\"p\", {\n    style: {\n      color: 'red',\n      fontSize: '80%'\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107\n    },\n    __self: this\n  }, \"This account doesn't exist.\"))) : listAccount !== undefined && listAccount.map(function (value, key) {\n    var status = value.status === true ? {\n      name: \"Active\",\n      color: \"success\"\n    } : {\n      name: \"Deactive\",\n      color: \"danger\"\n    };\n    return React.createElement(\"tr\", {\n      key: key,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 117\n      },\n      __self: this\n    }, React.createElement(\"th\", {\n      onClick: function onClick() {\n        return onClickDetailAccount(value.id);\n      },\n      scope: \"row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 118\n      },\n      __self: this\n    }, value.code), React.createElement(\"td\", {\n      onClick: function onClick() {\n        return onClickDetailAccount(value.id);\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 124\n      },\n      __self: this\n    }, value.profile.name), React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 127\n      },\n      __self: this\n    }, value.email), React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 128\n      },\n      __self: this\n    }, value.roles[0].name), React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 129\n      },\n      __self: this\n    }, React.createElement(Badge, {\n      href: \"#\",\n      color: status.color,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 130\n      },\n      __self: this\n    }, status.name)), React.createElement(\"td\", {\n      className: \"setting-button\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 134\n      },\n      __self: this\n    }, React.createElement(AccountForm, {\n      buttonLabel: \"Edit\",\n      title: \"Edit account\",\n      item: value,\n      id: value.id,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 135\n      },\n      __self: this\n    }), React.createElement(DeleteModal, {\n      item: value,\n      deleteAccount: handleDeleteAccount,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 141\n      },\n      __self: this\n    })));\n  })))), React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 155\n    },\n    __self: this\n  }, React.createElement(Pagination, {\n    totalPage: totalPage,\n    pageChange: setCurrentPage,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 156\n    },\n    __self: this\n  })));\n};\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    listAccount: state.accountReducer.data,\n    totalPage: state.accountReducer.total_page\n  };\n};\n\nvar mapDispatchToProps = function mapDispatchToProps(dispatch) {\n  return {\n    accountActions: bindActionCreators(accountActions, dispatch)\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(ListAccounts);","map":{"version":3,"sources":["/home/phong/rails/imp/app/javascript/admin/components/accounts/index.js"],"names":["React","useState","useEffect","Link","useHistory","connect","bindActionCreators","Breadcrumb","BreadcrumbItem","Table","Badge","accountActions","IconDow","IconUp","IconSearch","DeleteModal","Pagination","AccountForm","ListAccounts","props","currentPage","setCurrentPage","ftext","setText","listAccount","totalPage","fetchListAccountRequest","isOnchange","e","target","value","sumbmitSearchAccount","preventDefault","searchAccountRequest","handleDeleteAccount","item","deleteAccountRequest","id","history","onClickDetailAccount","push","undefined","length","color","fontSize","map","key","status","name","code","profile","email","roles","mapStateToProps","state","accountReducer","data","total_page","mapDispatchToProps","dispatch"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { Link, useHistory } from \"react-router-dom\";\nimport { connect } from \"react-redux\";\nimport { bindActionCreators } from \"redux\";\nimport { Breadcrumb, BreadcrumbItem, Table, Badge } from \"reactstrap\";\nimport * as accountActions from \"../../actions/account\";\nimport IconDow from \"../../asset/img/dow.png\";\nimport IconUp from \"../../asset/img/up.png\";\nimport IconSearch from \"../../asset/img/search.png\";\nimport { DeleteModal } from \"../../../commons/components/modal/\";\nimport Pagination from \"../../../commons/components/pagination\";\nimport AccountForm from \"./accountForm\";\n\nconst ListAccounts = props => {\n  const [currentPage, setCurrentPage] = useState(1);\n  const [ftext, setText] = useState(\"\");\n  const { listAccount, totalPage, accountActions } = props;\n\n  //------------------LIST ACCOUNT--------------\n  useEffect(() => {\n    accountActions.fetchListAccountRequest({ currentPage });\n    // eslint-disable-next-line\n  }, [currentPage]);\n\n  //------------------SEARCH ACCOUNT--------------\n  const isOnchange = e => {\n    setText(e.target.value);\n  };\n  const sumbmitSearchAccount = e => {\n    e.preventDefault();\n    const { searchAccountRequest } = props.accountActions;\n    searchAccountRequest(ftext);\n  };\n\n  //------------------DELETE ACCOUNT--------------\n  const handleDeleteAccount = item => {\n    const { deleteAccountRequest } = props.accountActions;\n    deleteAccountRequest(item.id);\n  };\n\n  //------------------ONCLICK DETAIL ACCOUNT--------------\n  let history = useHistory();\n\n  const onClickDetailAccount = id => {\n    history.push(`/admin/users/${id}`);\n  };\n  return (\n    <div className=\"container-fluid\">\n      <Breadcrumb>\n        <BreadcrumbItem>\n          <Link to=\"#\">Home</Link>\n        </BreadcrumbItem>\n        <BreadcrumbItem active>Accounts</BreadcrumbItem>\n      </Breadcrumb>\n      <div className=\"saffs-search\">\n        <AccountForm buttonLabel=\"Add\" title=\"Add new account\" />\n        <div className=\"saffs-search-content\">\n          <form onSubmit={sumbmitSearchAccount} className=\"form-inline\">\n            <input\n              name=\"ftext\"\n              onChange={isOnchange}\n              className=\"form-control mr-sm-2\"\n              type=\"search\"\n              placeholder=\"input name or email\"\n              aria-label=\"Search\"\n            />\n            <button className=\"btn btn-search my-2 my-sm-0\" type=\"submit\">\n              <img src={IconSearch}></img>\n            </button>\n          </form>\n        </div>\n      </div>\n      <div className=\"table-content\">\n        <Table hover>\n          <thead>\n            <tr>\n              <th className=\"table-sort\">\n                <div className=\"mt-2\">Staff ID</div>\n                <div className=\"sort-icon ml-2\">\n                  <div className=\"icon-up\">\n                    <img\n                      src={IconUp}\n                      className=\"icon-dow-up\"\n                      alt=\"icon_dow\"\n                    ></img>\n                  </div>\n                  <div className=\"icon-dow\">\n                    <img\n                      src={IconDow}\n                      className=\"icon-dow-up\"\n                      alt=\"icon_up\"\n                    ></img>\n                  </div>\n                </div>\n              </th>\n              <th>Name</th>\n              <th>Email</th>\n              <th>Role</th>\n              <th>Status</th>\n              <th></th>\n            </tr>\n          </thead>\n          <tbody>\n            {\n              listAccount === undefined || listAccount.length === 0 ?\n                <tr>\n                  <td colSpan={6}><p style={{ color: 'red', fontSize: '80%' }}>This account doesn't exist.</p></td>\n                </tr>\n                :\n                listAccount !== undefined &&\n                listAccount.map((value, key) => {\n                  const status =\n                    value.status === true\n                      ? { name: \"Active\", color: \"success\" }\n                      : { name: \"Deactive\", color: \"danger\" };\n                  return (\n                    <tr key={key}>\n                      <th\n                        onClick={() => onClickDetailAccount(value.id)}\n                        scope=\"row\"\n                      >\n                        {value.code}\n                      </th>\n                      <td onClick={() => onClickDetailAccount(value.id)}>\n                        {value.profile.name}\n                      </td>\n                      <td>{value.email}</td>\n                      <td>{value.roles[0].name}</td>\n                      <td>\n                        <Badge href=\"#\" color={status.color}>\n                          {status.name}\n                        </Badge>\n                      </td>\n                      <td className=\"setting-button\">\n                        <AccountForm\n                          buttonLabel=\"Edit\"\n                          title=\"Edit account\"\n                          item={value}\n                          id={value.id}\n                        />\n                        <DeleteModal\n                          item={value}\n                          deleteAccount={handleDeleteAccount}\n                        />\n                      </td>\n                    </tr>\n                  );\n                })\n            }\n\n          </tbody>\n        </Table>\n\n      </div>\n      <div>\n        <Pagination totalPage={totalPage} pageChange={setCurrentPage} />\n      </div>\n    </div>\n  );\n};\n\nconst mapStateToProps = state => {\n  return {\n    listAccount: state.accountReducer.data,\n    totalPage: state.accountReducer.total_page\n  };\n};\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    accountActions: bindActionCreators(accountActions, dispatch)\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(ListAccounts);\n"]},"metadata":{},"sourceType":"module"}