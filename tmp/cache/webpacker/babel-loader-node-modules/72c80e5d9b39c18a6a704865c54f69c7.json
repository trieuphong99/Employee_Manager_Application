{"ast":null,"code":"var _jsxFileName = \"/home/phong/rails/imp/app/javascript/admin/components/accounts/accountForm/index.js\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); }\n\nfunction _iterableToArrayLimit(arr, i) { if (!(Symbol.iterator in Object(arr) || Object.prototype.toString.call(arr) === \"[object Arguments]\")) { return; } var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nimport React, { useState } from 'react';\nimport { Field, Form, Formik } from \"formik\";\nimport { connect } from 'react-redux';\nimport { bindActionCreators } from 'redux';\nimport { Col, Container, Row, Button, Modal, ModalHeader, ModalBody, ModalFooter } from \"reactstrap\";\nimport { ReactstrapInput, ReactstrapSelect } from \"reactstrap-formik\";\nimport * as Yup from 'yup';\nimport * as actions from '../../../actions/account';\nimport * as options from './selectOptions';\nimport { commonValidationSchema } from './validate';\n\nvar AccountForm = function AccountForm(props) {\n  var actions = props.actions,\n      buttonLabel = props.buttonLabel,\n      title = props.title,\n      item = props.item,\n      id = props.id;\n\n  var _useState = useState(false),\n      _useState2 = _slicedToArray(_useState, 2),\n      modal = _useState2[0],\n      setModal = _useState2[1];\n\n  var toggle = function toggle() {\n    return setModal(!modal);\n  };\n\n  var specifiedValidationSchema = item ? {\n    code: Yup.string().matches(/^B[0-9]{6}$/, \"Starts with letter B and ends with 6 digits\").required()\n  } : {\n    password: Yup.string().min(6).max(15).required()\n  };\n  var validationSchema = Yup.object(_objectSpread({}, commonValidationSchema, {}, specifiedValidationSchema));\n  var initialValues = item ? _objectSpread({}, item, {\n    status: item.status ? \"active\" : \"deactive\",\n    roles: item.roles[0].name,\n    name: item.profile.name,\n    phone_number: item.profile.phone_number,\n    address: item.profile.address,\n    sex: item.profile.sex,\n    date_of_birth: item.profile.date_of_birth\n  }) : {};\n  return React.createElement(\"div\", {\n    style: {\n      display: \"inline-block\"\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50\n    },\n    __self: this\n  }, React.createElement(Button, {\n    color: \"info\",\n    onClick: toggle,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51\n    },\n    __self: this\n  }, buttonLabel), React.createElement(Modal, {\n    isOpen: modal,\n    toggle: toggle,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52\n    },\n    __self: this\n  }, React.createElement(Formik, {\n    initialValues: initialValues,\n    validationSchema: validationSchema,\n    onSubmit: function onSubmit(values) {\n      var status = values.status === \"active\" ? true : false;\n\n      var data = _objectSpread({}, values, {\n        status: status\n      });\n\n      if (item === undefined) {\n        actions.addNewAccountRequest(data);\n      } else {\n        actions.updateAccountRequest(id, data);\n      }\n\n      toggle();\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53\n    },\n    __self: this\n  }, function (_ref) {\n    var handleSubmit = _ref.handleSubmit,\n        isSubmitting = _ref.isSubmitting,\n        values = _ref.values,\n        errors = _ref.errors;\n    return React.createElement(Form, {\n      onSubmit: handleSubmit,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69\n      },\n      __self: this\n    }, React.createElement(ModalHeader, {\n      toggle: toggle,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70\n      },\n      __self: this\n    }, title), React.createElement(ModalBody, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71\n      },\n      __self: this\n    }, React.createElement(Row, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72\n      },\n      __self: this\n    }, React.createElement(Col, {\n      xs: \"6\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73\n      },\n      __self: this\n    }, React.createElement(Field, {\n      label: \"Name\",\n      name: \"name\",\n      component: ReactstrapInput,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74\n      },\n      __self: this\n    })), React.createElement(Col, {\n      xs: \"6\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80\n      },\n      __self: this\n    }, React.createElement(Field, {\n      label: \"Phone Number\",\n      name: \"phone_number\",\n      component: ReactstrapInput,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81\n      },\n      __self: this\n    }))), React.createElement(Row, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89\n      },\n      __self: this\n    }, React.createElement(Col, {\n      xs: \"6\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90\n      },\n      __self: this\n    }, React.createElement(Field, {\n      label: \"Address\",\n      name: \"address\",\n      component: ReactstrapInput,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91\n      },\n      __self: this\n    })), React.createElement(Col, {\n      xs: \"6\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97\n      },\n      __self: this\n    }, React.createElement(Field, {\n      type: \"date\",\n      label: \"Date of birth\",\n      name: \"date_of_birth\",\n      component: ReactstrapInput,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98\n      },\n      __self: this\n    }))), React.createElement(Row, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107\n      },\n      __self: this\n    }, React.createElement(Col, {\n      xs: \"6\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108\n      },\n      __self: this\n    }, React.createElement(Field, {\n      label: \"Email\",\n      name: \"email\",\n      component: ReactstrapInput,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109\n      },\n      __self: this\n    })), React.createElement(Col, {\n      xs: \"6\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115\n      },\n      __self: this\n    }, React.createElement(Field, {\n      label: \"Id card\",\n      name: \"id_card\",\n      component: ReactstrapInput,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116\n      },\n      __self: this\n    }))), React.createElement(Row, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 124\n      },\n      __self: this\n    }, React.createElement(Col, {\n      xs: \"6\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 125\n      },\n      __self: this\n    }, React.createElement(Field, {\n      type: \"date\",\n      label: \"Joining date\",\n      name: \"joining_date\",\n      component: ReactstrapInput,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 126\n      },\n      __self: this\n    })), React.createElement(Col, {\n      xs: \"6\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 133\n      },\n      __self: this\n    }, React.createElement(Field, {\n      type: \"date\",\n      label: \"Official date\",\n      name: \"official_date\",\n      component: ReactstrapInput,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 134\n      },\n      __self: this\n    }))), React.createElement(Row, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 143\n      },\n      __self: this\n    }, React.createElement(Col, {\n      xs: \"6\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 144\n      },\n      __self: this\n    }, React.createElement(Field, {\n      label: \"Contract type\",\n      name: \"contract_type\",\n      component: ReactstrapSelect,\n      inputprops: {\n        name: \"contract_type\",\n        options: options.contract_type,\n        defaultOption: \"Select\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 145\n      },\n      __self: this\n    })), React.createElement(Col, {\n      xs: \"6\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 156\n      },\n      __self: this\n    }, React.createElement(Field, {\n      label: \"Position\",\n      name: \"position\",\n      component: ReactstrapSelect,\n      inputprops: {\n        name: \"position\",\n        id: \"position\",\n        options: options.position,\n        defaultOption: \"Select\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 157\n      },\n      __self: this\n    }))), React.createElement(Row, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 171\n      },\n      __self: this\n    }, React.createElement(Col, {\n      xs: \"6\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 172\n      },\n      __self: this\n    }, React.createElement(Field, {\n      label: \"Status\",\n      name: \"status\",\n      component: ReactstrapSelect,\n      inputprops: {\n        name: \"status\",\n        id: \"status\",\n        options: options.status,\n        defaultOption: \"Select\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 173\n      },\n      __self: this\n    })), React.createElement(Col, {\n      xs: \"6\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 185\n      },\n      __self: this\n    }, React.createElement(Field, {\n      label: \"Gender\",\n      name: \"sex\",\n      component: ReactstrapSelect,\n      inputprops: {\n        name: \"sex\",\n        id: \"sex\",\n        options: options.sex,\n        defaultOption: \"Select\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 186\n      },\n      __self: this\n    }))), React.createElement(Row, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 200\n      },\n      __self: this\n    }, React.createElement(Col, {\n      xs: \"6\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 201\n      },\n      __self: this\n    }, React.createElement(Field, {\n      label: \"Roles\",\n      name: \"roles\",\n      component: ReactstrapSelect,\n      inputprops: {\n        name: \"roles\",\n        id: \"roles\",\n        options: options.roles,\n        defaultOption: \"Select\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 202\n      },\n      __self: this\n    })), React.createElement(Col, {\n      xs: \"6\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 214\n      },\n      __self: this\n    }, item ? React.createElement(Field, {\n      label: \"Code\",\n      name: \"code\",\n      component: ReactstrapInput,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 216\n      },\n      __self: this\n    }) : React.createElement(Field, {\n      label: \"Password\",\n      name: \"password\",\n      component: ReactstrapInput,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 221\n      },\n      __self: this\n    })))), React.createElement(ModalFooter, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 230\n      },\n      __self: this\n    }, React.createElement(Button, {\n      color: \"primary\",\n      onClick: toggle,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 231\n      },\n      __self: this\n    }, \"Cancel\"), ' ', React.createElement(Button, {\n      color: \"secondary\",\n      type: \"submit\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 232\n      },\n      __self: this\n    }, \"Submit\")));\n  })));\n};\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {};\n};\n\nvar mapDispatchToProps = function mapDispatchToProps(dispatch) {\n  return {\n    actions: bindActionCreators(actions, dispatch)\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(AccountForm);","map":{"version":3,"sources":["/home/phong/rails/imp/app/javascript/admin/components/accounts/accountForm/index.js"],"names":["React","useState","Field","Form","Formik","connect","bindActionCreators","Col","Container","Row","Button","Modal","ModalHeader","ModalBody","ModalFooter","ReactstrapInput","ReactstrapSelect","Yup","actions","options","commonValidationSchema","AccountForm","props","buttonLabel","title","item","id","modal","setModal","toggle","specifiedValidationSchema","code","string","matches","required","password","min","max","validationSchema","object","initialValues","status","roles","name","profile","phone_number","address","sex","date_of_birth","display","values","data","undefined","addNewAccountRequest","updateAccountRequest","handleSubmit","isSubmitting","errors","contract_type","defaultOption","position","mapStateToProps","state","mapDispatchToProps","dispatch"],"mappings":"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","sourcesContent":["import React, { useState } from 'react';\nimport { Field, Form, Formik } from \"formik\";\nimport { connect } from 'react-redux';\nimport { bindActionCreators } from 'redux';\nimport {\n  Col, Container, Row,\n  Button, Modal, ModalHeader, ModalBody, ModalFooter\n} from \"reactstrap\";\nimport { ReactstrapInput, ReactstrapSelect } from \"reactstrap-formik\";\nimport * as Yup from 'yup';\nimport * as actions from '../../../actions/account';\nimport * as options from './selectOptions';\nimport { commonValidationSchema } from './validate';\n\nconst AccountForm = (props) => {\n  const {\n    actions,\n    buttonLabel,\n    title,\n    item,\n    id\n  } = props;\n\n  const [modal, setModal] = useState(false);\n  const toggle = () => setModal(!modal);\n\n  const specifiedValidationSchema = item ? {\n    code: Yup.string().matches(/^B[0-9]{6}$/, \"Starts with letter B and ends with 6 digits\").required()\n  } : {\n      password: Yup.string().min(6).max(15).required()\n    }\n\n  const validationSchema = Yup.object({\n    ...commonValidationSchema,\n    ...specifiedValidationSchema\n  })\n\n  const initialValues = item ? {\n    ...item,\n    status: item.status ? \"active\" : \"deactive\",\n    roles: item.roles[0].name,\n    name: item.profile.name,\n    phone_number: item.profile.phone_number,\n    address: item.profile.address,\n    sex: item.profile.sex,\n    date_of_birth: item.profile.date_of_birth\n  } : {}\n\n  return (\n    <div style={{ display: \"inline-block\" }}>\n      <Button color=\"info\" onClick={toggle}>{buttonLabel}</Button>\n      <Modal isOpen={modal} toggle={toggle}>\n        <Formik\n          initialValues={initialValues}\n          validationSchema={validationSchema}\n          onSubmit={(values) => {\n            const status = values.status === \"active\" ? true : false\n            const data = { ...values, status }\n            if (item === undefined) {\n              actions.addNewAccountRequest(data)\n            }\n            else {\n              actions.updateAccountRequest(id, data)\n            }\n            toggle()\n          }}\n        >\n          {({ handleSubmit, isSubmitting, values, errors }) => (\n            <Form onSubmit={handleSubmit}>\n              <ModalHeader toggle={toggle}>{title}</ModalHeader>\n              <ModalBody>\n                <Row>\n                  <Col xs=\"6\">\n                    <Field\n                      label=\"Name\"\n                      name=\"name\"\n                      component={ReactstrapInput}\n                    />\n                  </Col>\n                  <Col xs=\"6\">\n                    <Field\n                      label=\"Phone Number\"\n                      name=\"phone_number\"\n                      component={ReactstrapInput}\n                    />\n                  </Col>\n                </Row>\n\n                <Row>\n                  <Col xs=\"6\">\n                    <Field\n                      label=\"Address\"\n                      name=\"address\"\n                      component={ReactstrapInput}\n                    />\n                  </Col>\n                  <Col xs=\"6\">\n                    <Field\n                      type=\"date\"\n                      label=\"Date of birth\"\n                      name=\"date_of_birth\"\n                      component={ReactstrapInput}\n                    />\n                  </Col>\n                </Row>\n\n                <Row>\n                  <Col xs=\"6\">\n                    <Field\n                      label=\"Email\"\n                      name=\"email\"\n                      component={ReactstrapInput}\n                    />\n                  </Col>\n                  <Col xs=\"6\">\n                    <Field\n                      label=\"Id card\"\n                      name=\"id_card\"\n                      component={ReactstrapInput}\n                    />\n                  </Col>\n                </Row>\n\n                <Row>\n                  <Col xs=\"6\">\n                    <Field\n                      type=\"date\"\n                      label=\"Joining date\"\n                      name=\"joining_date\"\n                      component={ReactstrapInput}\n                    />\n                  </Col>\n                  <Col xs=\"6\">\n                    <Field\n                      type=\"date\"\n                      label=\"Official date\"\n                      name=\"official_date\"\n                      component={ReactstrapInput}\n                    />\n                  </Col>\n                </Row>\n\n                <Row>\n                  <Col xs=\"6\">\n                    <Field\n                      label=\"Contract type\"\n                      name=\"contract_type\"\n                      component={ReactstrapSelect}\n                      inputprops={{\n                        name: \"contract_type\",\n                        options: options.contract_type,\n                        defaultOption: \"Select\"\n                      }}\n                    />\n                  </Col>\n                  <Col xs=\"6\">\n                    <Field\n                      label=\"Position\"\n                      name=\"position\"\n                      component={ReactstrapSelect}\n                      inputprops={{\n                        name: \"position\",\n                        id: \"position\",\n                        options: options.position,\n                        defaultOption: \"Select\"\n                      }}\n                    />\n                  </Col>\n                </Row>\n\n                <Row>\n                  <Col xs=\"6\">\n                    <Field\n                      label=\"Status\"\n                      name=\"status\"\n                      component={ReactstrapSelect}\n                      inputprops={{\n                        name: \"status\",\n                        id: \"status\",\n                        options: options.status,\n                        defaultOption: \"Select\"\n                      }}\n                    />\n                  </Col>\n                  <Col xs=\"6\">\n                    <Field\n                      label=\"Gender\"\n                      name=\"sex\"\n                      component={ReactstrapSelect}\n                      inputprops={{\n                        name: \"sex\",\n                        id: \"sex\",\n                        options: options.sex,\n                        defaultOption: \"Select\"\n                      }}\n                    />\n                  </Col>\n                </Row>\n\n                <Row>\n                  <Col xs=\"6\">\n                    <Field\n                      label=\"Roles\"\n                      name=\"roles\"\n                      component={ReactstrapSelect}\n                      inputprops={{\n                        name: \"roles\",\n                        id: \"roles\",\n                        options: options.roles,\n                        defaultOption: \"Select\"\n                      }}\n                    />\n                  </Col>\n                  <Col xs=\"6\">\n                    {item ?\n                      <Field\n                        label=\"Code\"\n                        name=\"code\"\n                        component={ReactstrapInput}\n                      /> :\n                      <Field\n                        label=\"Password\"\n                        name=\"password\"\n                        component={ReactstrapInput}\n                      />\n                    }\n                  </Col>\n                </Row>\n              </ModalBody>\n              <ModalFooter>\n                <Button color=\"primary\" onClick={toggle}>Cancel</Button>{' '}\n                <Button color=\"secondary\" type=\"submit\">Submit</Button>\n              </ModalFooter>\n            </Form>\n          )}\n        </Formik>\n      </Modal>\n    </div>\n  )\n}\n\nconst mapStateToProps = state => {\n  return {\n\n  };\n};\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    actions: bindActionCreators(actions, dispatch),\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(AccountForm)"]},"metadata":{},"sourceType":"module"}