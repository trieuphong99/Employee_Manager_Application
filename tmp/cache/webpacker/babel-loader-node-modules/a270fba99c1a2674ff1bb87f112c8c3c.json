{"ast":null,"code":"var _this = this,\n    _jsxFileName = \"/home/phong/rails/imp/app/javascript/admin/components/timesheets/tabTimesheets/updateModal.js\";\n\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(n); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction _iterableToArrayLimit(arr, i) { if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return; var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nimport React, { useState } from \"react\";\nimport { Modal, ModalHeader, ModalBody, ModalFooter, InputGroup, Input, InputGroupText, InputGroupAddon, Button } from \"reactstrap\";\nimport \"bootstrap/dist/css/bootstrap.css\";\nimport { useDispatch } from \"react-redux\";\nimport { setUpdateTimeSheet } from \"../../../actions/timeSheet\";\nimport moment from 'moment';\nimport Time from '../../../../commons/const/Time';\nimport TimePicker from '../../../../commons/components/TimePicker/timePicker';\nimport { toastError } from \"../../../../commons/helpers/toastHelpers\";\n\nvar UpdateModal = function UpdateModal(props) {\n  var modal = props.modal,\n      toggle = props.toggle,\n      data = props.data;\n\n  var _useState = useState(),\n      _useState2 = _slicedToArray(_useState, 2),\n      startTime = _useState2[0],\n      setStartTime = _useState2[1];\n\n  var _useState3 = useState(),\n      _useState4 = _slicedToArray(_useState3, 2),\n      reasonIn = _useState4[0],\n      setReasonIn = _useState4[1];\n\n  var _useState5 = useState(),\n      _useState6 = _slicedToArray(_useState5, 2),\n      endTime = _useState6[0],\n      setEndTime = _useState6[1];\n\n  var _useState7 = useState(),\n      _useState8 = _slicedToArray(_useState7, 2),\n      reasonOut = _useState8[0],\n      setReasonOut = _useState8[1];\n\n  var dispatch = useDispatch();\n\n  var handClick = function handClick() {\n    var startAt = moment(\"\".concat(data.date, \" \").concat(startTime), Time.FullDayFirst)._i;\n\n    var endAt = moment(\"\".concat(data.date, \" \").concat(endTime), Time.FullDayFirst)._i;\n\n    var startOrigin = moment(\"\".concat(data.date, \" \").concat(data.start_at), Time.FullDayFirst)._i;\n\n    var endOrigin = moment(\"\".concat(data.date, \" \").concat(data.end_at), Time.FullDayFirst)._i;\n\n    dispatch(setUpdateTimeSheet(data.id, startTime ? startAt : data.start_at && startOrigin, endTime ? endAt : data.end_at && endOrigin, reasonIn ? reasonIn : data.reason_in, reasonOut ? reasonOut : data.reason_out));\n  };\n\n  var handleClick = function handleClick() {\n    if (startTime === undefined && endTime === undefined && reasonIn === undefined && reasonOut === undefined) {\n      toastError('Nothing change!');\n    } else if (reasonIn && !reasonIn.match(/[a-zA-Z]+/) || reasonOut && !reasonOut.match(/[a-zA-Z]+/)) {\n      toastError('Invalid!');\n    } else {\n      handClick();\n      handleToggle();\n    }\n  };\n\n  var handleToggle = function handleToggle() {\n    setStartTime();\n    setEndTime();\n    setReasonIn();\n    setReasonOut();\n    toggle();\n  };\n\n  return data && /*#__PURE__*/React.createElement(Modal, {\n    isOpen: modal,\n    toggle: toggle,\n    modalClassName: \"modal-background-color\",\n    backdrop: false,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(ModalHeader, {\n    toggle: function toggle() {\n      return handleToggle();\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 7\n    }\n  }, \"Edit reason checkin checkout\"), /*#__PURE__*/React.createElement(ModalBody, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-4\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 11\n    }\n  }, \"Date\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-8\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 11\n    }\n  }, data.date)), /*#__PURE__*/React.createElement(\"hr\", {\n    className: \"hr-footer\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-4\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 11\n    }\n  }, \"Checkin\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-8\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(TimePicker, {\n    time: data.start_at,\n    setTime: function setTime(e) {\n      setStartTime(moment(e._d).format(Time.HM));\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 13\n    }\n  }))), /*#__PURE__*/React.createElement(\"hr\", {\n    className: \"hr-footer\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-4\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 11\n    }\n  }, \"Reason checkin late\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-8\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Input, {\n    type: \"textarea\",\n    key: data.reason_in,\n    defaultValue: data.reason_in,\n    onChange: function onChange(e) {\n      return setReasonIn(e.target.value);\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 13\n    }\n  }), reasonIn && !reasonIn.match(/[a-zA-Z]+/) && /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      color: 'red',\n      fontSize: '80%'\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 61\n    }\n  }, \"Invalid reason in late!\"))), /*#__PURE__*/React.createElement(\"hr\", {\n    className: \"hr-footer\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-4\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 11\n    }\n  }, \"Checkout\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-8\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(TimePicker, {\n    time: data.end_at ? data.end_at : '00:00',\n    setTime: function setTime(e) {\n      setEndTime(moment(e._d).format(Time.HM));\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 13\n    }\n  }))), /*#__PURE__*/React.createElement(\"hr\", {\n    className: \"hr-footer\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-4\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 11\n    }\n  }, \"Reason checkout early\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-8\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Input, {\n    type: \"textarea\",\n    key: data.reason_out,\n    defaultValue: data.reason_out,\n    onChange: function onChange(e) {\n      return setReasonOut(e.target.value);\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 13\n    }\n  }), reasonOut && !reasonOut.match(/[a-zA-Z]+/) && /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      color: 'red',\n      fontSize: '80%'\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 63\n    }\n  }, \"Invalid reason leave early!\")))), /*#__PURE__*/React.createElement(ModalFooter, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    color: \"success\",\n    onClick: function onClick() {\n      return handleClick();\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 9\n    }\n  }, \"Submit\"), /*#__PURE__*/React.createElement(Button, {\n    color: \"secondary\",\n    onClick: function onClick() {\n      return handleToggle();\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 9\n    }\n  }, \"Cancel\")));\n};\n\nexport default UpdateModal;","map":{"version":3,"sources":["/home/phong/rails/imp/app/javascript/admin/components/timesheets/tabTimesheets/updateModal.js"],"names":["React","useState","Modal","ModalHeader","ModalBody","ModalFooter","InputGroup","Input","InputGroupText","InputGroupAddon","Button","useDispatch","setUpdateTimeSheet","moment","Time","TimePicker","toastError","UpdateModal","props","modal","toggle","data","startTime","setStartTime","reasonIn","setReasonIn","endTime","setEndTime","reasonOut","setReasonOut","dispatch","handClick","startAt","date","FullDayFirst","_i","endAt","startOrigin","start_at","endOrigin","end_at","id","reason_in","reason_out","handleClick","undefined","match","handleToggle","e","_d","format","HM","target","value","color","fontSize"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\nimport {\n  Modal,\n  ModalHeader,\n  ModalBody,\n  ModalFooter,\n  InputGroup,\n  Input,\n  InputGroupText,\n  InputGroupAddon,\n  Button\n} from \"reactstrap\";\nimport \"bootstrap/dist/css/bootstrap.css\";\nimport { useDispatch } from \"react-redux\";\nimport { setUpdateTimeSheet } from \"../../../actions/timeSheet\";\nimport moment from 'moment';\nimport Time from '../../../../commons/const/Time';\nimport TimePicker from '../../../../commons/components/TimePicker/timePicker';\nimport { toastError } from \"../../../../commons/helpers/toastHelpers\";\n\nconst UpdateModal = props => {\n  const {modal, toggle, data } = props;\n  const [startTime, setStartTime] = useState();\n  const [reasonIn, setReasonIn] = useState();\n  const [endTime, setEndTime] = useState();\n  const [reasonOut, setReasonOut] = useState();\n  const dispatch = useDispatch();\n  \n  const handClick = () => {\n    let startAt = moment(`${data.date} ${startTime}`, Time.FullDayFirst)._i;\n    let endAt = moment(`${data.date} ${endTime}`, Time.FullDayFirst)._i;\n    let startOrigin = moment(`${data.date} ${data.start_at}`, Time.FullDayFirst)._i;\n    let endOrigin = moment(`${data.date} ${data.end_at}`, Time.FullDayFirst)._i\n    dispatch(setUpdateTimeSheet(data.id, startTime ? startAt : (data.start_at && startOrigin), endTime ? endAt : (data.end_at && endOrigin) , reasonIn ? reasonIn : data.reason_in, reasonOut ? reasonOut : data.reason_out));\n  }\n  const handleClick = () => {\n    if(startTime === undefined && endTime === undefined && reasonIn === undefined && reasonOut === undefined ){\n      toastError('Nothing change!');\n    }\n    else if((reasonIn && !reasonIn.match(/[a-zA-Z]+/)) || (reasonOut && !reasonOut.match(/[a-zA-Z]+/)) ){\n      toastError('Invalid!')\n    }\n    else {\n      handClick();\n      handleToggle();\n    }\n  }\n  const handleToggle = () => {\n    setStartTime();\n    setEndTime();\n    setReasonIn();\n    setReasonOut();\n    toggle();\n  }\n  return (\n    data && <Modal isOpen={modal} toggle={toggle} modalClassName=\"modal-background-color\" backdrop={false} >\n      <ModalHeader toggle={() => handleToggle()}>\n        Edit reason checkin checkout\n      </ModalHeader>\n      <ModalBody>\n        <div className=\"row\">\n          <div className=\"col-4\">Date</div>\n          <div className=\"col-8\">\n            {data.date}\n          </div>\n        </div>\n        <hr className=\"hr-footer\" ></hr>\n        <div className=\"row\">\n          <div className=\"col-4\">Checkin</div>\n          <div className=\"col-8\">\n            <TimePicker time={data.start_at} setTime={e => {setStartTime(moment(e._d).format(Time.HM))}} />\n          </div>\n        </div>\n        <hr className=\"hr-footer\" ></hr>\n        <div className=\"row\">\n          <div className=\"col-4\">Reason checkin late</div>\n          <div className=\"col-8\">\n            <Input type=\"textarea\" key={data.reason_in} defaultValue={data.reason_in} onChange={e => setReasonIn(e.target.value)}/>\n            {\n              (reasonIn && !reasonIn.match(/[a-zA-Z]+/)) && <div style={{ color: 'red', fontSize: '80%' }}>Invalid reason in late!</div>\n            }\n          </div>\n        </div>\n        <hr className=\"hr-footer\" ></hr>\n        <div className=\"row\">\n          <div className=\"col-4\">Checkout</div>\n          <div className=\"col-8\">\n            <TimePicker time={data.end_at ? data.end_at : '00:00'} setTime={e => {setEndTime(moment(e._d).format(Time.HM))}} />\n          </div>\n        </div>\n        <hr className=\"hr-footer\" ></hr>\n        <div className=\"row\" >\n          <div className=\"col-4\" >Reason checkout early</div>\n          <div className=\"col-8\" >\n            <Input type=\"textarea\" key={data.reason_out} defaultValue={data.reason_out} onChange={e => setReasonOut(e.target.value)} />\n            {\n              (reasonOut && !reasonOut.match(/[a-zA-Z]+/)) && <div style={{ color: 'red', fontSize: '80%' }}>Invalid reason leave early!</div>\n            }\n          </div>\n        </div>\n        \n      </ModalBody>\n      <ModalFooter>\n        <Button color=\"success\" onClick={() => handleClick()}>\n          Submit\n        </Button>\n        <Button color=\"secondary\" onClick={() => handleToggle()}>\n          Cancel\n        </Button>\n      </ModalFooter>\n    </Modal>\n  );\n};\nexport default UpdateModal;\n"]},"metadata":{},"sourceType":"module"}