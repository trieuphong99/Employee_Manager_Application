{"ast":null,"code":"import axios from 'axios';\nimport moment from 'moment';\nimport { toastError, toastSuccess } from '../../commons/helpers/toastHelpers';\nimport { history } from '../../commons/helpers/history/history';\nimport Time from '../../commons/const/Time';\nexport var checkIn = function checkIn(data) {\n  var body = {\n    date: moment().format(Time.DMY),\n    start_at: moment().format(Time.HMS),\n    note: data.reason\n  };\n  return function (dispatch) {\n    axios.post('/checkin', body).then(function (res) {\n      toastSuccess('Successful!');\n      history.push('/timesheets');\n    })[\"catch\"](function (error) {\n      toastError(error.response.data);\n    });\n  };\n};\nexport var checkOut = function checkOut(data) {\n  var body = {\n    is_leave_early: true,\n    end_at: moment().format(Time.HMS),\n    note: data.reason\n  };\n  return function (dispatch) {\n    axios.patch('/checkout', body).then(function (res) {\n      toastSuccess('Successful!');\n      history.push('/timesheets');\n    })[\"catch\"](function (error) {\n      toastError(error.response.data);\n    });\n  };\n};","map":{"version":3,"sources":["/home/phong/rails/imp/app/javascript/staff/actions/checkInCheckOut.js"],"names":["axios","moment","toastError","toastSuccess","history","Time","checkIn","data","body","date","format","DMY","start_at","HMS","note","reason","dispatch","post","then","res","push","error","response","checkOut","is_leave_early","end_at","patch"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,MAAP,MAAmB,QAAnB;AACA,SAASC,UAAT,EAAqBC,YAArB,QAAyC,oCAAzC;AACA,SAASC,OAAT,QAAwB,uCAAxB;AACA,OAAOC,IAAP,MAAiB,0BAAjB;AAEA,OAAO,IAAMC,OAAO,GAAG,SAAVA,OAAU,CAACC,IAAD,EAAU;AAC/B,MAAMC,IAAI,GAAG;AACXC,IAAAA,IAAI,EAAER,MAAM,GAAGS,MAAT,CAAgBL,IAAI,CAACM,GAArB,CADK;AAEXC,IAAAA,QAAQ,EAAEX,MAAM,GAAGS,MAAT,CAAgBL,IAAI,CAACQ,GAArB,CAFC;AAGXC,IAAAA,IAAI,EAAEP,IAAI,CAACQ;AAHA,GAAb;AAKA,SAAO,UAACC,QAAD,EAAc;AACnBhB,IAAAA,KAAK,CAACiB,IAAN,CAAW,UAAX,EAAuBT,IAAvB,EACGU,IADH,CACQ,UAAUC,GAAV,EAAe;AACnBhB,MAAAA,YAAY,CAAC,aAAD,CAAZ;AACAC,MAAAA,OAAO,CAACgB,IAAR,CAAa,aAAb;AACD,KAJH,WAKS,UAAUC,KAAV,EAAiB;AACtBnB,MAAAA,UAAU,CAACmB,KAAK,CAACC,QAAN,CAAef,IAAhB,CAAV;AACD,KAPH;AAQD,GATD;AAUD,CAhBM;AAkBP,OAAO,IAAMgB,QAAQ,GAAG,SAAXA,QAAW,CAAChB,IAAD,EAAU;AAChC,MAAMC,IAAI,GAAG;AACXgB,IAAAA,cAAc,EAAE,IADL;AAEXC,IAAAA,MAAM,EAAExB,MAAM,GAAGS,MAAT,CAAgBL,IAAI,CAACQ,GAArB,CAFG;AAGXC,IAAAA,IAAI,EAAEP,IAAI,CAACQ;AAHA,GAAb;AAKA,SAAO,UAACC,QAAD,EAAc;AACnBhB,IAAAA,KAAK,CAAC0B,KAAN,CAAY,WAAZ,EAAyBlB,IAAzB,EACGU,IADH,CACQ,UAAUC,GAAV,EAAe;AACnBhB,MAAAA,YAAY,CAAC,aAAD,CAAZ;AACAC,MAAAA,OAAO,CAACgB,IAAR,CAAa,aAAb;AACD,KAJH,WAKS,UAAUC,KAAV,EAAiB;AACtBnB,MAAAA,UAAU,CAACmB,KAAK,CAACC,QAAN,CAAef,IAAhB,CAAV;AACD,KAPH;AAQD,GATD;AAUD,CAhBM","sourcesContent":["import axios from 'axios'\nimport moment from 'moment'\nimport { toastError, toastSuccess } from '../../commons/helpers/toastHelpers'\nimport { history } from '../../commons/helpers/history/history';\nimport Time from '../../commons/const/Time';\n\nexport const checkIn = (data) => {\n  const body = {\n    date: moment().format(Time.DMY),\n    start_at: moment().format(Time.HMS),\n    note: data.reason\n  }\n  return (dispatch) => {\n    axios.post('/checkin', body)\n      .then(function (res) {\n        toastSuccess('Successful!')\n        history.push('/timesheets')\n      })\n      .catch(function (error) {\n        toastError(error.response.data)\n      })\n  }\n}\n\nexport const checkOut = (data) => {\n  const body = {\n    is_leave_early: true,\n    end_at: moment().format(Time.HMS),\n    note: data.reason\n  }\n  return (dispatch) => {\n    axios.patch('/checkout', body)\n      .then(function (res) {\n        toastSuccess('Successful!')\n        history.push('/timesheets')\n      })\n      .catch(function (error) {\n        toastError(error.response.data)\n      })\n  }\n}\n"]},"metadata":{},"sourceType":"module"}