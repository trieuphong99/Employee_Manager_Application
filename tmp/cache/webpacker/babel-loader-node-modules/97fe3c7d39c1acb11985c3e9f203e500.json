{"ast":null,"code":"var _jsxFileName = \"/home/phong/rails/imp/app/javascript/staff/components/dayOffs/DayOffForm.js\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(n); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction _iterableToArrayLimit(arr, i) { if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return; var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nimport React, { useState } from 'react';\nimport { connect } from 'react-redux';\nimport { bindActionCreators } from 'redux';\nimport { Label, Row, Col, Button, Modal, ModalHeader, ModalBody, ModalFooter } from 'reactstrap';\nimport { Field, Form, Formik, ErrorMessage } from \"formik\";\nimport * as Yup from 'yup';\nimport { ReactstrapInput, ReactstrapSelect, ReactstrapRadio } from \"reactstrap-formik\";\nimport * as dayOffActions from '../../actions/dayOffs';\nimport * as options from './selectOptions';\nimport Time from '../../../commons/const/Time';\nimport DatePicker from './dateRangePicker';\nimport moment from 'moment';\nimport { validationSchema } from './validate';\n\nfunction DayOffForm(props) {\n  var _this = this;\n\n  var dayOffActions = props.dayOffActions,\n      buttonLabel = props.buttonLabel,\n      title = props.title,\n      item = props.item;\n\n  var _useState = useState(false),\n      _useState2 = _slicedToArray(_useState, 2),\n      modal = _useState2[0],\n      setModal = _useState2[1];\n\n  var initialValues = item ? {\n    from_date: moment(item.from_date, Time.crossDMY),\n    to_date: moment(item.to_date, Time.crossDMY),\n    status: item.status,\n    reason: item.reason,\n    is_paid: item.is_paid\n  } : {\n    from_date: moment(),\n    to_date: moment().add(1, 'day'),\n    status: '',\n    reason: '',\n    is_paid: false\n  };\n\n  var toggle = function toggle() {\n    return setModal(!modal);\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    style: {\n      width: \"100px\"\n    },\n    color: \"info\",\n    onClick: toggle,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 7\n    }\n  }, buttonLabel), /*#__PURE__*/React.createElement(Modal, {\n    isOpen: modal,\n    toggle: toggle,\n    centered: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Formik, {\n    initialValues: initialValues,\n    validationSchema: validationSchema,\n    onSubmit: function onSubmit(values, _ref) {\n      var setErrors = _ref.setErrors,\n          setSubmitting = _ref.setSubmitting;\n\n      var data = _objectSpread({}, values, {\n        reason: values['reason'].trim(),\n        request_date: moment().format(Time.crossDMY)\n      });\n\n      if (item === undefined) dayOffActions.addDayOffs(data, setErrors, setSubmitting, toggle);else dayOffActions.updateDayOffs(item.id, data, setErrors, setSubmitting, toggle);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 9\n    }\n  }, function (_ref2) {\n    var handleSubmit = _ref2.handleSubmit,\n        setFieldValue = _ref2.setFieldValue,\n        values = _ref2.values,\n        errors = _ref2.errors,\n        touched = _ref2.touched;\n    return /*#__PURE__*/React.createElement(Form, {\n      onSubmit: handleSubmit,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(ModalHeader, {\n      toggle: toggle,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 15\n      }\n    }, title), /*#__PURE__*/React.createElement(ModalBody, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(Row, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(Col, {\n      xs: \"12\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(Label, {\n      \"for\": \"from_date\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 21\n      }\n    }, \"Date\"), /*#__PURE__*/React.createElement(DatePicker, {\n      name: \"from_date\",\n      id: \"date\",\n      blockRange: \"none\",\n      block: true,\n      startDate: initialValues.from_date,\n      endDate: initialValues.to_date,\n      setFieldValue: setFieldValue,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(ErrorMessage, {\n      name: \"from_date\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 21\n      }\n    }, function (msg) {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        style: {\n          display: \"block\"\n        },\n        className: \"invalid-feedback\",\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 60\n        }\n      }, msg);\n    }))), /*#__PURE__*/React.createElement(Row, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(Col, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(Field, {\n      label: \"Status\",\n      name: \"status\",\n      component: ReactstrapSelect,\n      inputprops: {\n        name: \"status\",\n        id: \"status\",\n        options: options.status,\n        defaultOption: \"Select\"\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 21\n      }\n    })), /*#__PURE__*/React.createElement(Col, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(Label, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 21\n      }\n    }, \"Is paid\"), /*#__PURE__*/React.createElement(Row, {\n      className: \"is-paid\",\n      style: {\n        marginLeft: \"0px\"\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(Field, {\n      name: \"is_paid\",\n      component: ReactstrapRadio,\n      value: Boolean(true),\n      type: \"radio\",\n      label: \"True\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 23\n      }\n    }), /*#__PURE__*/React.createElement(Field, {\n      name: \"is_paid\",\n      component: ReactstrapRadio,\n      value: Boolean(false),\n      type: \"radio\",\n      label: \"False\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 23\n      }\n    })))), /*#__PURE__*/React.createElement(Row, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(Col, {\n      xs: \"12\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(Field, {\n      label: \"Reason\",\n      name: \"reason\",\n      type: \"textarea\",\n      component: ReactstrapInput,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 21\n      }\n    })))), /*#__PURE__*/React.createElement(ModalFooter, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 121,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(Button, {\n      color: \"primary\",\n      onClick: toggle,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 17\n      }\n    }, \"Cancel\"), ' ', /*#__PURE__*/React.createElement(Button, {\n      color: \"secondary\",\n      type: \"submit\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 123,\n        columnNumber: 17\n      }\n    }, \"Submit\")));\n  })));\n}\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {};\n};\n\nvar mapDispatchToProps = function mapDispatchToProps(dispatch) {\n  return {\n    dayOffActions: bindActionCreators(dayOffActions, dispatch)\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(DayOffForm);","map":{"version":3,"sources":["/home/phong/rails/imp/app/javascript/staff/components/dayOffs/DayOffForm.js"],"names":["React","useState","connect","bindActionCreators","Label","Row","Col","Button","Modal","ModalHeader","ModalBody","ModalFooter","Field","Form","Formik","ErrorMessage","Yup","ReactstrapInput","ReactstrapSelect","ReactstrapRadio","dayOffActions","options","Time","DatePicker","moment","validationSchema","DayOffForm","props","buttonLabel","title","item","modal","setModal","initialValues","from_date","crossDMY","to_date","status","reason","is_paid","add","toggle","width","values","setErrors","setSubmitting","data","trim","request_date","format","undefined","addDayOffs","updateDayOffs","id","handleSubmit","setFieldValue","errors","touched","msg","display","name","defaultOption","marginLeft","Boolean","mapStateToProps","state","mapDispatchToProps","dispatch"],"mappings":"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","sourcesContent":["import React, { useState } from 'react'\nimport { connect } from 'react-redux'\nimport { bindActionCreators } from 'redux';\nimport { Label, Row, Col, Button, Modal, ModalHeader, ModalBody, ModalFooter } from 'reactstrap';\nimport { Field, Form, Formik, ErrorMessage } from \"formik\";\nimport * as Yup from 'yup';\nimport { ReactstrapInput, ReactstrapSelect, ReactstrapRadio } from \"reactstrap-formik\";\n\nimport * as dayOffActions from '../../actions/dayOffs'\nimport * as options from './selectOptions'\nimport Time from '../../../commons/const/Time'\nimport DatePicker from './dateRangePicker'\nimport moment from 'moment';\nimport { validationSchema } from './validate';\n\nfunction DayOffForm(props) {\n  const {\n    dayOffActions,\n    buttonLabel,\n    title,\n    item\n  } = props\n\n  const [modal, setModal] = useState(false);\n  const initialValues = item ? {\n    from_date: moment(item.from_date, Time.crossDMY),\n    to_date: moment(item.to_date, Time.crossDMY),\n    status: item.status,\n    reason: item.reason,\n    is_paid: item.is_paid\n  } : {\n      from_date: moment(),\n      to_date: moment().add(1, 'day'),\n      status: '',\n      reason: '',\n      is_paid: false\n    }\n  const toggle = () => setModal(!modal);\n  return (\n    <div>\n      <Button style={{ width: \"100px\" }} color=\"info\" onClick={toggle}>{buttonLabel}</Button>\n      <Modal isOpen={modal} toggle={toggle} centered={true}>\n        <Formik\n          initialValues={initialValues}\n          validationSchema={validationSchema}\n          onSubmit={(values, { setErrors, setSubmitting }) => {\n            const data = {\n              ...values,\n              reason: values['reason'].trim(),\n              request_date: moment().format(Time.crossDMY)\n            }\n            if (item === undefined) dayOffActions.addDayOffs(data, setErrors, setSubmitting, toggle)\n            else dayOffActions.updateDayOffs(item.id, data, setErrors, setSubmitting, toggle)\n          }}\n        >\n          {({ handleSubmit, setFieldValue, values, errors, touched }) => (\n            < Form onSubmit={handleSubmit}>\n              <ModalHeader toggle={toggle}>{title}</ModalHeader>\n              <ModalBody>\n                <Row>\n                  <Col xs=\"12\">\n                    <Label for=\"from_date\">Date</Label>\n                    <DatePicker\n                      name=\"from_date\"\n                      id=\"date\"\n                      blockRange=\"none\"\n                      block={true}\n                      startDate={initialValues.from_date}\n                      endDate={initialValues.to_date}\n                      setFieldValue={setFieldValue}\n                    />\n                    <ErrorMessage name=\"from_date\">{msg => <div style={{ display: \"block\" }} className=\"invalid-feedback\">{msg}</div>}</ErrorMessage>\n                  </Col>\n                </Row>\n\n                <Row>\n                  <Col>\n                    <Field\n                      label=\"Status\"\n                      name=\"status\"\n                      component={ReactstrapSelect}\n                      inputprops={{\n                        name: \"status\",\n                        id: \"status\",\n                        options: options.status,\n                        defaultOption: \"Select\"\n                      }}\n                    />\n                  </Col>\n                  <Col>\n                    <Label>Is paid</Label>\n                    <Row className=\"is-paid\" style={{ marginLeft: \"0px\" }}>\n                      <Field\n                        name=\"is_paid\"\n                        component={ReactstrapRadio}\n                        value={Boolean(true)}\n                        type=\"radio\"\n                        label=\"True\"\n                      />\n                      <Field\n                        name=\"is_paid\"\n                        component={ReactstrapRadio}\n                        value={Boolean(false)}\n                        type=\"radio\"\n                        label=\"False\"\n                      />\n                    </Row>\n                  </Col>\n                </Row>\n                <Row>\n                  <Col xs=\"12\">\n                    <Field\n                      label=\"Reason\"\n                      name=\"reason\"\n                      type=\"textarea\"\n                      component={ReactstrapInput}\n                    />\n                  </Col>\n                </Row>\n              </ModalBody>\n              <ModalFooter>\n                <Button color=\"primary\" onClick={toggle}>Cancel</Button>{' '}\n                <Button color=\"secondary\" type=\"submit\">Submit</Button>\n              </ModalFooter>\n            </Form>\n          )}\n        </Formik>\n      </Modal>\n    </div >\n  )\n}\n\nconst mapStateToProps = state => {\n  return {\n\n  };\n};\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    dayOffActions: bindActionCreators(dayOffActions, dispatch)\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(DayOffForm);"]},"metadata":{},"sourceType":"module"}