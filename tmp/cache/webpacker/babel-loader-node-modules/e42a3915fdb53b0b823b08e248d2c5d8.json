{"ast":null,"code":"var _jsxFileName = \"/home/phong/rails/imp/app/javascript/admin/components/timesheets/index.js\";\n\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); }\n\nfunction _iterableToArrayLimit(arr, i) { if (!(Symbol.iterator in Object(arr) || Object.prototype.toString.call(arr) === \"[object Arguments]\")) { return; } var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nimport React, { useState, useEffect, useRef } from 'react';\nimport { Link } from 'react-router-dom';\nimport { Input, UncontrolledPopover } from 'reactstrap';\nimport { connect } from 'react-redux';\nimport * as usersAction from '../../actions/account';\nimport * as actions from '../../actions/timeSheet';\nimport './styles.css';\nimport _ from 'lodash';\nimport moment from 'moment';\nimport classNames from 'classnames';\nimport DateRangePicker from '../../../commons/components/dateRangePicker';\nimport { FaSortNumericDown, FaSortNumericUp } from 'react-icons/fa';\nimport { MdVisibility, MdVisibilityOff } from 'react-icons/md';\nimport Time from '../../../commons/const/Time';\nimport Pagination from '../../../commons/components/pagination';\n\nfunction Timesheets(props) {\n  var allUser = props.allUser,\n      timeSheet = props.timeSheet;\n\n  var _useState = useState(null),\n      _useState2 = _slicedToArray(_useState, 2),\n      id = _useState2[0],\n      setID = _useState2[1];\n\n  var _useState3 = useState('All'),\n      _useState4 = _slicedToArray(_useState3, 2),\n      type = _useState4[0],\n      setType = _useState4[1];\n\n  var _useState5 = useState(1),\n      _useState6 = _slicedToArray(_useState5, 2),\n      currentPage = _useState6[0],\n      setCurrentPage = _useState6[1];\n\n  var _useState7 = useState('ASC'),\n      _useState8 = _slicedToArray(_useState7, 2),\n      sortType = _useState8[0],\n      setSortType = _useState8[1];\n\n  var letChangeSortType = function letChangeSortType() {\n    return setSortType(sortType === 'ASC' ? 'DESC' : 'ASC');\n  };\n\n  var _useState9 = useState({\n    startTime: moment().subtract(10, 'days').format(Time.DMY),\n    endTime: moment().format(Time.DMY)\n  }),\n      _useState10 = _slicedToArray(_useState9, 2),\n      date = _useState10[0],\n      _setDate = _useState10[1];\n\n  useEffect(function () {\n    props.getAllUser(); // eslint-disable-next-line\n  }, []);\n  useEffect(function () {\n    if (id !== null) {\n      props.getStaffTimeSheetByAdmin(date, id, currentPage, sortType, type);\n    } // eslint-disable-next-line\n\n  }, [id, date, type, currentPage, sortType]); //code show list staff\n\n  var _useState11 = useState(false),\n      _useState12 = _slicedToArray(_useState11, 2),\n      showListStaff = _useState12[0],\n      setShowListStaff = _useState12[1];\n\n  var refShowListStaff = useRef();\n\n  var clickOnListStaffList = function clickOnListStaffList() {\n    setShowListStaff(true);\n    document.addEventListener('click', clickOutSideList);\n  };\n\n  var clickOutSideList = function clickOutSideList(event) {\n    var target = event.target;\n\n    if (refShowListStaff.current !== null) {\n      if (!refShowListStaff.current.contains(target)) {\n        setShowListStaff(false);\n        document.removeEventListener('click', clickOutSideList);\n      }\n    }\n  };\n\n  useEffect(function () {\n    return function () {\n      if (showListStaff === true) {\n        document.removeEventListener('click', clickOutSideList);\n      }\n    }; // eslint-disable-next-line\n  }, [showListStaff]);\n  useEffect(function () {\n    return function () {\n      document.removeEventListener('click', clickOutSideList);\n    }; // eslint-disable-next-line\n  }, []); //code show list staff\n  //code search\n\n  var _useState13 = useState(''),\n      _useState14 = _slicedToArray(_useState13, 2),\n      inputValue = _useState14[0],\n      setInputValue = _useState14[1];\n\n  var listStaff = _.filter(allUser, function (n) {\n    return _.includes(n.profile.name.toLowerCase(), inputValue.toLowerCase());\n  }); //code search\n  //code show leave\n\n\n  var _useState15 = useState(false),\n      _useState16 = _slicedToArray(_useState15, 2),\n      showLeave = _useState16[0],\n      setShowLeave = _useState16[1];\n\n  var refShowLeave = useRef();\n\n  var clickOnLeaveList = function clickOnLeaveList() {\n    setShowLeave(true);\n    document.addEventListener('click', clickOutSide);\n  };\n\n  var clickOutSide = function clickOutSide(event) {\n    var target = event.target;\n\n    if (refShowLeave.current !== null) {\n      if (!refShowLeave.current.contains(target)) {\n        setShowLeave(false);\n        document.removeEventListener('click', clickOutSide);\n      }\n    }\n  };\n\n  useEffect(function () {\n    return function () {\n      if (showLeave === true) {\n        document.removeEventListener('click', clickOutSide);\n      }\n    }; // eslint-disable-next-line\n  }, [showLeave]);\n  useEffect(function () {\n    return function () {\n      document.removeEventListener('click', clickOutSide);\n    }; // eslint-disable-next-line\n  }, []); //code show leave\n\n  return React.createElement(\"main\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"breadcrumb-wrapper\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"container-fluid\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108\n    },\n    __self: this\n  }, React.createElement(\"nav\", {\n    id: \"breadcrumb-body\",\n    \"aria-label\": \"breadcrumb\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109\n    },\n    __self: this\n  }, React.createElement(\"ol\", {\n    className: \"breadcrumb\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110\n    },\n    __self: this\n  }, React.createElement(\"li\", {\n    className: \"breadcrumb-item\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111\n    },\n    __self: this\n  }, React.createElement(Link, {\n    to: \"/\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111\n    },\n    __self: this\n  }, \"Dashboard\")), React.createElement(\"li\", {\n    className: \"breadcrumb-item active\",\n    \"aria-current\": \"page\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112\n    },\n    __self: this\n  }, \"Timeshesst\"))))), React.createElement(\"div\", {\n    className: \"tables-saffs-wrapper\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"container-fluid\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 120\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"saffs-body\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 121\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"saffs-search\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 122\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"times-select\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 123\n    },\n    __self: this\n  }, React.createElement(DateRangePicker, {\n    setDate: function setDate(data) {\n      return _setDate(data);\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 124\n    },\n    __self: this\n  })), React.createElement(\"div\", {\n    className: \"saffs-search-content\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 126\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    ref: refShowListStaff,\n    onClick: clickOnListStaffList,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 127\n    },\n    __self: this\n  }, React.createElement(Input, {\n    className: \"input-search-staff\",\n    onChange: function onChange(e) {\n      return setInputValue(e.target.value);\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 128\n    },\n    __self: this\n  })), React.createElement(\"div\", {\n    className: classNames('div-list-staff', {\n      hideThisDiv: showListStaff === false\n    }),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 130\n    },\n    __self: this\n  }, _.map(listStaff, function (item, index) {\n    return React.createElement(\"div\", {\n      className: \"div-each-staff\",\n      key: index,\n      onClick: function onClick() {\n        return setID(item.id);\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 136\n      },\n      __self: this\n    }, React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 137\n      },\n      __self: this\n    }, item.profile.name), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 138\n      },\n      __self: this\n    }, \"\".concat(item.profile.date_of_birth, \" \").concat(item.position)));\n  })))), timeSheet.data !== undefined ? React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 146\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 147\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"tables-title\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 148\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"tables-title-up\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 149\n    },\n    __self: this\n  }, _.map(['All', 'In late', 'Leave early', 'In late And Leave early'], function (type, index) {\n    return React.createElement(\"div\", {\n      className: \"tables-title-item\",\n      onClick: function onClick() {\n        return setType(type);\n      },\n      key: index,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 152\n      },\n      __self: this\n    }, \"\".concat(type, \": \").concat(timeSheet.statistic[_.snakeCase(type)]));\n  }), React.createElement(\"div\", {\n    className: \"tables-title-item show-leave\",\n    id: \"PopoverLeave\",\n    onClick: clickOnLeaveList,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 155\n    },\n    __self: this\n  }, \"Leave\", showLeave === true ? React.createElement(MdVisibility, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 158\n    },\n    __self: this\n  }) : React.createElement(MdVisibilityOff, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 158\n    },\n    __self: this\n  })), _.map(['Total work', 'Total Off', 'Total Offset'], function (type, index) {\n    return React.createElement(\"div\", {\n      className: \"tables-title-item\",\n      key: index,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 163\n      },\n      __self: this\n    }, \"\".concat(type, \": \").concat(timeSheet.statistic[_.snakeCase(type)]));\n  })), React.createElement(UncontrolledPopover, {\n    trigger: \"legacy\",\n    placement: \"bottom\",\n    target: \"PopoverLeave\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 167\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"tables-title-down popover-body\",\n    ref: refShowLeave,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 168\n    },\n    __self: this\n  }, _.map(['Full day-off allowed and paid', 'Full day-off has allowed no paid', 'Full day-off no allowed', 'Half day-off allowed and paid', 'Half day-off has allowed no paid', 'Half day-off no allowed'], function (type, index) {\n    return React.createElement(\"div\", {\n      className: \"tables-title-item no-margin\",\n      onClick: function onClick() {\n        return setType(type);\n      },\n      key: index,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 171\n      },\n      __self: this\n    }, \"\".concat(type, \": \").concat(timeSheet.statistic[_.snakeCase(type)]));\n  })))), React.createElement(\"div\", {\n    className: \"saffs-table-content\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 177\n    },\n    __self: this\n  }, React.createElement(\"table\", {\n    className: \"table table-hover\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 178\n    },\n    __self: this\n  }, React.createElement(\"thead\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 179\n    },\n    __self: this\n  }, React.createElement(\"tr\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 180\n    },\n    __self: this\n  }, React.createElement(\"th\", {\n    className: \"sort-date-timesheet\",\n    onClick: letChangeSortType,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 181\n    },\n    __self: this\n  }, \"Date\", sortType === 'ASC' ? React.createElement(FaSortNumericUp, {\n    className: \"icon-sort-date\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 184\n    },\n    __self: this\n  }) : React.createElement(FaSortNumericDown, {\n    className: \"icon-sort-date\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 184\n    },\n    __self: this\n  })), React.createElement(\"th\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 187\n    },\n    __self: this\n  }, \"CheckIn\"), React.createElement(\"th\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 188\n    },\n    __self: this\n  }, \"Checkout\"), React.createElement(\"th\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 189\n    },\n    __self: this\n  }, \"Status\"), React.createElement(\"th\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 190\n    },\n    __self: this\n  }))), React.createElement(\"tbody\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 193\n    },\n    __self: this\n  }, _.map(timeSheet.data, function (item, index) {\n    return React.createElement(\"tr\", {\n      key: index,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 195\n      },\n      __self: this\n    }, React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 196\n      },\n      __self: this\n    }, item.date), React.createElement(\"td\", {\n      className: classNames('', {\n        red_text: moment(item.start_at, Time.HM).isAfter(moment(Time.startWork, Time.HM)) === true\n      }),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 197\n      },\n      __self: this\n    }, item.start_at), React.createElement(\"td\", {\n      className: classNames('', {\n        red_text: moment(item.end_at, Time.HM).isBefore(moment(Time.endWork, Time.HM)) === true\n      }),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 204\n      },\n      __self: this\n    }, item.end_at), React.createElement(\"td\", {\n      className: classNames('', {\n        red_text: item.status === 'unpaid leave',\n        green_text: item.status === 'paid leave'\n      }),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 211\n      },\n      __self: this\n    }, item.status), React.createElement(\"td\", {\n      className: \"setting-button\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 219\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      type: \"button\",\n      className: \"btn btn-success\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 219\n      },\n      __self: this\n    }, \"Report\")));\n  })), React.createElement(\"thead\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 223\n    },\n    __self: this\n  }, React.createElement(\"tr\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 224\n    },\n    __self: this\n  }, React.createElement(\"th\", {\n    className: \"sort-date-timesheet\",\n    onClick: letChangeSortType,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 225\n    },\n    __self: this\n  }, \"Date\", sortType === 'ASC' ? React.createElement(FaSortNumericUp, {\n    className: \"icon-sort-date\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 228\n    },\n    __self: this\n  }) : React.createElement(FaSortNumericDown, {\n    className: \"icon-sort-date\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 228\n    },\n    __self: this\n  })), React.createElement(\"th\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 231\n    },\n    __self: this\n  }, \"CheckIn\"), React.createElement(\"th\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 232\n    },\n    __self: this\n  }, \"Checkout\"), React.createElement(\"th\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 233\n    },\n    __self: this\n  }, \"Status\"), React.createElement(\"th\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 234\n    },\n    __self: this\n  })))))), React.createElement(Pagination, {\n    totalPage: Number(timeSheet.statistic.total_page),\n    pageChange: function pageChange(x) {\n      return setCurrentPage(x);\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 240\n    },\n    __self: this\n  })) : null))));\n}\n\nvar mapStatetoProps = function mapStatetoProps(state) {\n  return {\n    allUser: state.accountReducer.listAccount,\n    timeSheet: state.timeSheet\n  };\n};\n\nvar mapDispatchToProps = function mapDispatchToProps(dispatch) {\n  return {\n    getAllUser: function getAllUser() {\n      dispatch(usersAction.fetchListAccountRequest());\n    },\n    getStaffTimeSheetByAdmin: function getStaffTimeSheetByAdmin(date, id, current_page, sort_date, filter_type) {\n      dispatch(actions.getStaffTimeSheetByAdmin({\n        date: date,\n        id: id,\n        current_page: current_page,\n        sort_date: sort_date,\n        filter_type: filter_type\n      }));\n    }\n  };\n};\n\nexport default connect(mapStatetoProps, mapDispatchToProps)(Timesheets);","map":{"version":3,"sources":["/home/phong/rails/imp/app/javascript/admin/components/timesheets/index.js"],"names":["React","useState","useEffect","useRef","Link","Input","UncontrolledPopover","connect","usersAction","actions","_","moment","classNames","DateRangePicker","FaSortNumericDown","FaSortNumericUp","MdVisibility","MdVisibilityOff","Time","Pagination","Timesheets","props","allUser","timeSheet","id","setID","type","setType","currentPage","setCurrentPage","sortType","setSortType","letChangeSortType","startTime","subtract","format","DMY","endTime","date","setDate","getAllUser","getStaffTimeSheetByAdmin","showListStaff","setShowListStaff","refShowListStaff","clickOnListStaffList","document","addEventListener","clickOutSideList","event","target","current","contains","removeEventListener","inputValue","setInputValue","listStaff","filter","n","includes","profile","name","toLowerCase","showLeave","setShowLeave","refShowLeave","clickOnLeaveList","clickOutSide","data","e","value","hideThisDiv","map","item","index","date_of_birth","position","undefined","statistic","snakeCase","red_text","start_at","HM","isAfter","startWork","end_at","isBefore","endWork","status","green_text","Number","total_page","x","mapStatetoProps","state","accountReducer","listAccount","mapDispatchToProps","dispatch","fetchListAccountRequest","current_page","sort_date","filter_type"],"mappings":";;;;;;;;;;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,EAAqCC,MAArC,QAAmD,OAAnD;AACA,SAASC,IAAT,QAAqB,kBAArB;AACA,SAASC,KAAT,EAAgBC,mBAAhB,QAA2C,YAA3C;AACA,SAASC,OAAT,QAAwB,aAAxB;AACA,OAAO,KAAKC,WAAZ,MAA6B,uBAA7B;AACA,OAAO,KAAKC,OAAZ,MAAyB,yBAAzB;AACA,OAAO,cAAP;AACA,OAAOC,CAAP,MAAc,QAAd;AACA,OAAOC,MAAP,MAAmB,QAAnB;AACA,OAAOC,UAAP,MAAuB,YAAvB;AACA,OAAOC,eAAP,MAA4B,6CAA5B;AACA,SAASC,iBAAT,EAA4BC,eAA5B,QAAmD,gBAAnD;AACA,SAASC,YAAT,EAAuBC,eAAvB,QAA8C,gBAA9C;AACA,OAAOC,IAAP,MAAiB,6BAAjB;AACA,OAAOC,UAAP,MAAuB,wCAAvB;;AAEA,SAASC,UAAT,CAAoBC,KAApB,EAA2B;AAAA,MACjBC,OADiB,GACMD,KADN,CACjBC,OADiB;AAAA,MACRC,SADQ,GACMF,KADN,CACRE,SADQ;;AAAA,kBAELtB,QAAQ,CAAC,IAAD,CAFH;AAAA;AAAA,MAElBuB,EAFkB;AAAA,MAEdC,KAFc;;AAAA,mBAGDxB,QAAQ,CAAC,KAAD,CAHP;AAAA;AAAA,MAGlByB,IAHkB;AAAA,MAGZC,OAHY;;AAAA,mBAIa1B,QAAQ,CAAC,CAAD,CAJrB;AAAA;AAAA,MAIlB2B,WAJkB;AAAA,MAILC,cAJK;;AAAA,mBAKO5B,QAAQ,CAAC,KAAD,CALf;AAAA;AAAA,MAKlB6B,QALkB;AAAA,MAKRC,WALQ;;AAMzB,MAAMC,iBAAiB,GAAG,SAApBA,iBAAoB;AAAA,WAAMD,WAAW,CAACD,QAAQ,KAAK,KAAb,GAAqB,MAArB,GAA8B,KAA/B,CAAjB;AAAA,GAA1B;;AANyB,mBAOD7B,QAAQ,CAAC;AAC/BgC,IAAAA,SAAS,EAAEtB,MAAM,GAAGuB,QAAT,CAAkB,EAAlB,EAAsB,MAAtB,EAA8BC,MAA9B,CAAqCjB,IAAI,CAACkB,GAA1C,CADoB;AAE/BC,IAAAA,OAAO,EAAE1B,MAAM,GAAGwB,MAAT,CAAgBjB,IAAI,CAACkB,GAArB;AAFsB,GAAD,CAPP;AAAA;AAAA,MAOlBE,IAPkB;AAAA,MAOZC,QAPY;;AAWzBrC,EAAAA,SAAS,CAAC,YAAM;AACdmB,IAAAA,KAAK,CAACmB,UAAN,GADc,CAEd;AACD,GAHQ,EAGN,EAHM,CAAT;AAIAtC,EAAAA,SAAS,CAAC,YAAM;AACd,QAAIsB,EAAE,KAAK,IAAX,EAAiB;AACfH,MAAAA,KAAK,CAACoB,wBAAN,CAA+BH,IAA/B,EAAqCd,EAArC,EAAyCI,WAAzC,EAAsDE,QAAtD,EAAgEJ,IAAhE;AACD,KAHa,CAId;;AACD,GALQ,EAKN,CAACF,EAAD,EAAKc,IAAL,EAAWZ,IAAX,EAAiBE,WAAjB,EAA8BE,QAA9B,CALM,CAAT,CAfyB,CAqBzB;;AArByB,oBAsBiB7B,QAAQ,CAAC,KAAD,CAtBzB;AAAA;AAAA,MAsBlByC,aAtBkB;AAAA,MAsBHC,gBAtBG;;AAuBzB,MAAMC,gBAAgB,GAAGzC,MAAM,EAA/B;;AACA,MAAM0C,oBAAoB,GAAG,SAAvBA,oBAAuB,GAAM;AACjCF,IAAAA,gBAAgB,CAAC,IAAD,CAAhB;AACAG,IAAAA,QAAQ,CAACC,gBAAT,CAA0B,OAA1B,EAAmCC,gBAAnC;AACD,GAHD;;AAIA,MAAMA,gBAAgB,GAAG,SAAnBA,gBAAmB,CAACC,KAAD,EAAW;AAAA,QAC1BC,MAD0B,GACfD,KADe,CAC1BC,MAD0B;;AAElC,QAAIN,gBAAgB,CAACO,OAAjB,KAA6B,IAAjC,EAAuC;AACrC,UAAI,CAACP,gBAAgB,CAACO,OAAjB,CAAyBC,QAAzB,CAAkCF,MAAlC,CAAL,EAAgD;AAC9CP,QAAAA,gBAAgB,CAAC,KAAD,CAAhB;AACAG,QAAAA,QAAQ,CAACO,mBAAT,CAA6B,OAA7B,EAAsCL,gBAAtC;AACD;AACF;AACF,GARD;;AASA9C,EAAAA,SAAS,CAAC,YAAM;AACd,WAAO,YAAM;AACX,UAAIwC,aAAa,KAAK,IAAtB,EAA4B;AAC1BI,QAAAA,QAAQ,CAACO,mBAAT,CAA6B,OAA7B,EAAsCL,gBAAtC;AACD;AACF,KAJD,CADc,CAMd;AACD,GAPQ,EAON,CAACN,aAAD,CAPM,CAAT;AAQAxC,EAAAA,SAAS,CAAC,YAAM;AACd,WAAO,YAAM;AACX4C,MAAAA,QAAQ,CAACO,mBAAT,CAA6B,OAA7B,EAAsCL,gBAAtC;AACD,KAFD,CADc,CAId;AACD,GALQ,EAKN,EALM,CAAT,CA7CyB,CAmDzB;AACA;;AApDyB,oBAqDW/C,QAAQ,CAAC,EAAD,CArDnB;AAAA;AAAA,MAqDlBqD,UArDkB;AAAA,MAqDNC,aArDM;;AAsDzB,MAAMC,SAAS,GAAG9C,CAAC,CAAC+C,MAAF,CAASnC,OAAT,EAAkB,UAAAoC,CAAC;AAAA,WAAKhD,CAAC,CAACiD,QAAF,CAAWD,CAAC,CAACE,OAAF,CAAUC,IAAV,CAAeC,WAAf,EAAX,EAAyCR,UAAU,CAACQ,WAAX,EAAzC,CAAL;AAAA,GAAnB,CAAlB,CAtDyB,CAuDzB;AACA;;;AAxDyB,oBAyDS7D,QAAQ,CAAC,KAAD,CAzDjB;AAAA;AAAA,MAyDlB8D,SAzDkB;AAAA,MAyDPC,YAzDO;;AA0DzB,MAAMC,YAAY,GAAG9D,MAAM,EAA3B;;AACA,MAAM+D,gBAAgB,GAAG,SAAnBA,gBAAmB,GAAM;AAC7BF,IAAAA,YAAY,CAAC,IAAD,CAAZ;AACAlB,IAAAA,QAAQ,CAACC,gBAAT,CAA0B,OAA1B,EAAmCoB,YAAnC;AACD,GAHD;;AAIA,MAAMA,YAAY,GAAG,SAAfA,YAAe,CAAClB,KAAD,EAAW;AAAA,QACtBC,MADsB,GACXD,KADW,CACtBC,MADsB;;AAE9B,QAAIe,YAAY,CAACd,OAAb,KAAyB,IAA7B,EAAmC;AACjC,UAAI,CAACc,YAAY,CAACd,OAAb,CAAqBC,QAArB,CAA8BF,MAA9B,CAAL,EAA4C;AAC1Cc,QAAAA,YAAY,CAAC,KAAD,CAAZ;AACAlB,QAAAA,QAAQ,CAACO,mBAAT,CAA6B,OAA7B,EAAsCc,YAAtC;AACD;AACF;AACF,GARD;;AASAjE,EAAAA,SAAS,CAAC,YAAM;AACd,WAAO,YAAM;AACX,UAAI6D,SAAS,KAAK,IAAlB,EAAwB;AACtBjB,QAAAA,QAAQ,CAACO,mBAAT,CAA6B,OAA7B,EAAsCc,YAAtC;AACD;AACF,KAJD,CADc,CAMd;AACD,GAPQ,EAON,CAACJ,SAAD,CAPM,CAAT;AAQA7D,EAAAA,SAAS,CAAC,YAAM;AACd,WAAO,YAAM;AACX4C,MAAAA,QAAQ,CAACO,mBAAT,CAA6B,OAA7B,EAAsCc,YAAtC;AACD,KAFD,CADc,CAId;AACD,GALQ,EAKN,EALM,CAAT,CAhFyB,CAsFzB;;AACA,SACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAEE;AAAK,IAAA,SAAS,EAAC,oBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAK,IAAA,SAAS,EAAC,iBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAK,IAAA,EAAE,EAAC,iBAAR;AAA0B,kBAAW,YAArC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAI,IAAA,SAAS,EAAC,YAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAI,IAAA,SAAS,EAAC,iBAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAgC,oBAAC,IAAD;AAAM,IAAA,EAAE,EAAC,GAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBAAhC,CADF,EAEE;AAAI,IAAA,SAAS,EAAC,wBAAd;AAAuC,oBAAa,MAApD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAFF,CADF,CADF,CADF,CAFF,EAcE;AAAK,IAAA,SAAS,EAAC,sBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAK,IAAA,SAAS,EAAC,iBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAK,IAAA,SAAS,EAAC,YAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAK,IAAA,SAAS,EAAC,cAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAK,IAAA,SAAS,EAAC,cAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,oBAAC,eAAD;AAAiB,IAAA,OAAO,EAAE,iBAACC,IAAD;AAAA,aAAU7B,QAAO,CAAC6B,IAAD,CAAjB;AAAA,KAA1B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,CADF,EAIE;AAAK,IAAA,SAAS,EAAC,sBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAK,IAAA,GAAG,EAAExB,gBAAV;AAA4B,IAAA,OAAO,EAAEC,oBAArC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,oBAAC,KAAD;AAAO,IAAA,SAAS,EAAC,oBAAjB;AAAsC,IAAA,QAAQ,EAAE,kBAACwB,CAAD;AAAA,aAAOd,aAAa,CAACc,CAAC,CAACnB,MAAF,CAASoB,KAAV,CAApB;AAAA,KAAhD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,CADF,EAIE;AAAK,IAAA,SAAS,EAAE1D,UAAU,CAAC,gBAAD,EAAmB;AAC3C2D,MAAAA,WAAW,EAAE7B,aAAa,KAAK;AADY,KAAnB,CAA1B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAKIhC,CAAC,CAAC8D,GAAF,CAAMhB,SAAN,EAAiB,UAACiB,IAAD,EAAOC,KAAP;AAAA,WACf;AAAK,MAAA,SAAS,EAAC,gBAAf;AAAgC,MAAA,GAAG,EAAEA,KAArC;AAA4C,MAAA,OAAO,EAAE;AAAA,eAAOjD,KAAK,CAACgD,IAAI,CAACjD,EAAN,CAAZ;AAAA,OAArD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAIiD,IAAI,CAACb,OAAL,CAAaC,IAAjB,CADF,EAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBAAOY,IAAI,CAACb,OAAL,CAAae,aAApB,cAAqCF,IAAI,CAACG,QAA1C,EAFF,CADe;AAAA,GAAjB,CALJ,CAJF,CAJF,CADF,EAwBGrD,SAAS,CAAC6C,IAAV,KAAmBS,SAAnB,GACC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAK,IAAA,SAAS,EAAC,cAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAK,IAAA,SAAS,EAAC,iBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAEInE,CAAC,CAAC8D,GAAF,CAAM,CAAC,KAAD,EAAQ,SAAR,EAAmB,aAAnB,EAAkC,yBAAlC,CAAN,EAAoE,UAAC9C,IAAD,EAAOgD,KAAP;AAAA,WAClE;AAAK,MAAA,SAAS,EAAC,mBAAf;AAAmC,MAAA,OAAO,EAAE;AAAA,eAAM/C,OAAO,CAACD,IAAD,CAAb;AAAA,OAA5C;AAAiE,MAAA,GAAG,EAAEgD,KAAtE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBAAiFhD,IAAjF,eAA0FH,SAAS,CAACuD,SAAV,CAAoBpE,CAAC,CAACqE,SAAF,CAAYrD,IAAZ,CAApB,CAA1F,EADkE;AAAA,GAApE,CAFJ,EAME;AAAK,IAAA,SAAS,EAAC,8BAAf;AAA8C,IAAA,EAAE,EAAC,cAAjD;AAAgE,IAAA,OAAO,EAAEwC,gBAAzE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAGIH,SAAS,KAAK,IAAd,GAAqB,oBAAC,YAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAArB,GAAwC,oBAAC,eAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAH5C,CANF,EAaIrD,CAAC,CAAC8D,GAAF,CAAM,CAAC,YAAD,EAAe,WAAf,EAA4B,cAA5B,CAAN,EAAmD,UAAC9C,IAAD,EAAOgD,KAAP;AAAA,WACjD;AAAK,MAAA,SAAS,EAAC,mBAAf;AAAmC,MAAA,GAAG,EAAEA,KAAxC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBAAmDhD,IAAnD,eAA4DH,SAAS,CAACuD,SAAV,CAAoBpE,CAAC,CAACqE,SAAF,CAAYrD,IAAZ,CAApB,CAA5D,EADiD;AAAA,GAAnD,CAbJ,CADF,EAmBE,oBAAC,mBAAD;AAAqB,IAAA,OAAO,EAAC,QAA7B;AAAsC,IAAA,SAAS,EAAC,QAAhD;AAAyD,IAAA,MAAM,EAAC,cAAhE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAK,IAAA,SAAS,EAAC,gCAAf;AAAgD,IAAA,GAAG,EAAEuC,YAArD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAEIvD,CAAC,CAAC8D,GAAF,CAAM,CAAC,+BAAD,EAAkC,kCAAlC,EAAsE,yBAAtE,EAAiG,+BAAjG,EAAkI,kCAAlI,EAAsK,yBAAtK,CAAN,EAAwM,UAAC9C,IAAD,EAAOgD,KAAP;AAAA,WACtM;AAAK,MAAA,SAAS,EAAC,6BAAf;AAA6C,MAAA,OAAO,EAAE;AAAA,eAAM/C,OAAO,CAACD,IAAD,CAAb;AAAA,OAAtD;AAA2E,MAAA,GAAG,EAAEgD,KAAhF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBAA2FhD,IAA3F,eAAoGH,SAAS,CAACuD,SAAV,CAAoBpE,CAAC,CAACqE,SAAF,CAAYrD,IAAZ,CAApB,CAApG,EADsM;AAAA,GAAxM,CAFJ,CADF,CAnBF,CADF,EA8BE;AAAK,IAAA,SAAS,EAAC,qBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAO,IAAA,SAAS,EAAC,mBAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAI,IAAA,SAAS,EAAC,qBAAd;AAAoC,IAAA,OAAO,EAAEM,iBAA7C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aAGIF,QAAQ,KAAK,KAAb,GAAqB,oBAAC,eAAD;AAAiB,IAAA,SAAS,EAAC,gBAA3B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAArB,GAAsE,oBAAC,iBAAD;AAAmB,IAAA,SAAS,EAAC,gBAA7B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAH1E,CADF,EAOE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eAPF,EAQE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBARF,EASE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cATF,EAUE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAVF,CADF,CADF,EAeE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACGpB,CAAC,CAAC8D,GAAF,CAAMjD,SAAS,CAAC6C,IAAhB,EAAsB,UAACK,IAAD,EAAOC,KAAP;AAAA,WACrB;AAAI,MAAA,GAAG,EAAEA,KAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAKD,IAAI,CAACnC,IAAV,CADF,EAEE;AACE,MAAA,SAAS,EAAE1B,UAAU,CAAC,EAAD,EAAK;AACxBoE,QAAAA,QAAQ,EAAErE,MAAM,CAAC8D,IAAI,CAACQ,QAAN,EAAgB/D,IAAI,CAACgE,EAArB,CAAN,CAA+BC,OAA/B,CAAuCxE,MAAM,CAACO,IAAI,CAACkE,SAAN,EAAiBlE,IAAI,CAACgE,EAAtB,CAA7C,MAA4E;AAD9D,OAAL,CADvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAKGT,IAAI,CAACQ,QALR,CAFF,EASE;AACE,MAAA,SAAS,EAAErE,UAAU,CAAC,EAAD,EAAK;AACxBoE,QAAAA,QAAQ,EAAErE,MAAM,CAAC8D,IAAI,CAACY,MAAN,EAAcnE,IAAI,CAACgE,EAAnB,CAAN,CAA6BI,QAA7B,CAAsC3E,MAAM,CAACO,IAAI,CAACqE,OAAN,EAAerE,IAAI,CAACgE,EAApB,CAA5C,MAAyE;AAD3D,OAAL,CADvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAKGT,IAAI,CAACY,MALR,CATF,EAgBE;AACE,MAAA,SAAS,EAAEzE,UAAU,CAAC,EAAD,EAAK;AACxBoE,QAAAA,QAAQ,EAAEP,IAAI,CAACe,MAAL,KAAgB,cADF;AAExBC,QAAAA,UAAU,EAAEhB,IAAI,CAACe,MAAL,KAAgB;AAFJ,OAAL,CADvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAMGf,IAAI,CAACe,MANR,CAhBF,EAwBE;AAAI,MAAA,SAAS,EAAC,gBAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAA+B;AAAQ,MAAA,IAAI,EAAC,QAAb;AAAsB,MAAA,SAAS,EAAC,iBAAhC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAA/B,CAxBF,CADqB;AAAA,GAAtB,CADH,CAfF,EA6CE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAI,IAAA,SAAS,EAAC,qBAAd;AAAoC,IAAA,OAAO,EAAExD,iBAA7C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aAGIF,QAAQ,KAAK,KAAb,GAAqB,oBAAC,eAAD;AAAiB,IAAA,SAAS,EAAC,gBAA3B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAArB,GAAsE,oBAAC,iBAAD;AAAmB,IAAA,SAAS,EAAC,gBAA7B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAH1E,CADF,EAOE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eAPF,EAQE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBARF,EASE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cATF,EAUE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAVF,CADF,CA7CF,CADF,CA9BF,CADF,EA8FE,oBAAC,UAAD;AAAY,IAAA,SAAS,EAAE4D,MAAM,CAACnE,SAAS,CAACuD,SAAV,CAAoBa,UAArB,CAA7B;AAA+D,IAAA,UAAU,EAAE,oBAACC,CAAD;AAAA,aAAO/D,cAAc,CAAC+D,CAAD,CAArB;AAAA,KAA3E;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IA9FF,CADD,GAkGC,IA1HJ,CADF,CADF,CAdF,CADF;AAmJD;;AAED,IAAMC,eAAe,GAAG,SAAlBA,eAAkB,CAACC,KAAD,EAAW;AACjC,SAAO;AACLxE,IAAAA,OAAO,EAAEwE,KAAK,CAACC,cAAN,CAAqBC,WADzB;AAELzE,IAAAA,SAAS,EAAEuE,KAAK,CAACvE;AAFZ,GAAP;AAID,CALD;;AAMA,IAAM0E,kBAAkB,GAAG,SAArBA,kBAAqB,CAACC,QAAD,EAAc;AACvC,SAAO;AACL1D,IAAAA,UAAU,EAAE,sBAAM;AAAE0D,MAAAA,QAAQ,CAAC1F,WAAW,CAAC2F,uBAAZ,EAAD,CAAR;AAAiD,KADhE;AAEL1D,IAAAA,wBAAwB,EAAE,kCAACH,IAAD,EAAOd,EAAP,EAAW4E,YAAX,EAAyBC,SAAzB,EAAoCC,WAApC,EAAoD;AAAEJ,MAAAA,QAAQ,CAACzF,OAAO,CAACgC,wBAAR,CAAiC;AAAEH,QAAAA,IAAI,EAAJA,IAAF;AAAQd,QAAAA,EAAE,EAAEA,EAAZ;AAAgB4E,QAAAA,YAAY,EAAEA,YAA9B;AAA4CC,QAAAA,SAAS,EAAEA,SAAvD;AAAkEC,QAAAA,WAAW,EAAEA;AAA/E,OAAjC,CAAD,CAAR;AAA0I;AAFrN,GAAP;AAID,CALD;;AAMA,eAAe/F,OAAO,CAACsF,eAAD,EAAkBI,kBAAlB,CAAP,CAA6C7E,UAA7C,CAAf","sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\nimport { Link } from 'react-router-dom';\nimport { Input, UncontrolledPopover } from 'reactstrap';\nimport { connect } from 'react-redux';\nimport * as usersAction from '../../actions/account';\nimport * as actions from '../../actions/timeSheet'\nimport './styles.css';\nimport _ from 'lodash'\nimport moment from 'moment'\nimport classNames from 'classnames'\nimport DateRangePicker from '../../../commons/components/dateRangePicker'\nimport { FaSortNumericDown, FaSortNumericUp } from 'react-icons/fa'\nimport { MdVisibility, MdVisibilityOff } from 'react-icons/md'\nimport Time from '../../../commons/const/Time'\nimport Pagination from '../../../commons/components/pagination'\n\nfunction Timesheets(props) {\n  const { allUser, timeSheet } = props\n  const [id, setID] = useState(null);\n  const [type, setType] = useState('All');\n  const [currentPage, setCurrentPage] = useState(1);\n  const [sortType, setSortType] = useState('ASC');\n  const letChangeSortType = () => setSortType(sortType === 'ASC' ? 'DESC' : 'ASC')\n  const [date, setDate] = useState({\n    startTime: moment().subtract(10, 'days').format(Time.DMY),\n    endTime: moment().format(Time.DMY)\n  })\n  useEffect(() => {\n    props.getAllUser();\n    // eslint-disable-next-line\n  }, []);\n  useEffect(() => {\n    if (id !== null) {\n      props.getStaffTimeSheetByAdmin(date, id, currentPage, sortType, type);\n    }\n    // eslint-disable-next-line\n  }, [id, date, type, currentPage, sortType]);\n  //code show list staff\n  const [showListStaff, setShowListStaff] = useState(false);\n  const refShowListStaff = useRef();\n  const clickOnListStaffList = () => {\n    setShowListStaff(true)\n    document.addEventListener('click', clickOutSideList)\n  }\n  const clickOutSideList = (event) => {\n    const { target } = event;\n    if (refShowListStaff.current !== null) {\n      if (!refShowListStaff.current.contains(target)) {\n        setShowListStaff(false)\n        document.removeEventListener('click', clickOutSideList)\n      }\n    }\n  }\n  useEffect(() => {\n    return () => {\n      if (showListStaff === true) {\n        document.removeEventListener('click', clickOutSideList)\n      }\n    };\n    // eslint-disable-next-line\n  }, [showListStaff])\n  useEffect(() => {\n    return () => {\n      document.removeEventListener('click', clickOutSideList)\n    };\n    // eslint-disable-next-line\n  }, [])\n  //code show list staff\n  //code search\n  const [inputValue, setInputValue] = useState('');\n  const listStaff = _.filter(allUser, n => (_.includes(n.profile.name.toLowerCase(), inputValue.toLowerCase())))\n  //code search\n  //code show leave\n  const [showLeave, setShowLeave] = useState(false);\n  const refShowLeave = useRef();\n  const clickOnLeaveList = () => {\n    setShowLeave(true)\n    document.addEventListener('click', clickOutSide)\n  }\n  const clickOutSide = (event) => {\n    const { target } = event;\n    if (refShowLeave.current !== null) {\n      if (!refShowLeave.current.contains(target)) {\n        setShowLeave(false)\n        document.removeEventListener('click', clickOutSide)\n      }\n    }\n  }\n  useEffect(() => {\n    return () => {\n      if (showLeave === true) {\n        document.removeEventListener('click', clickOutSide)\n      }\n    };\n    // eslint-disable-next-line\n  }, [showLeave])\n  useEffect(() => {\n    return () => {\n      document.removeEventListener('click', clickOutSide)\n    };\n    // eslint-disable-next-line\n  }, [])\n  //code show leave\n  return (\n    <main>\n      {/* breadcrumb */}\n      <div className=\"breadcrumb-wrapper\">\n        <div className=\"container-fluid\">\n          <nav id=\"breadcrumb-body\" aria-label=\"breadcrumb\">\n            <ol className=\"breadcrumb\">\n              <li className=\"breadcrumb-item\"><Link to=\"/\">Dashboard</Link></li>\n              <li className=\"breadcrumb-item active\" aria-current=\"page\">Timeshesst</li>\n            </ol>\n          </nav>\n        </div>\n      </div>\n      {/* breadcrumb end */}\n      {/*tables-saffs  */}\n      <div className=\"tables-saffs-wrapper\">\n        <div className=\"container-fluid\">\n          <div className=\"saffs-body\">\n            <div className=\"saffs-search\">\n              <div className=\"times-select\">\n                <DateRangePicker setDate={(data) => setDate(data)} />\n              </div>\n              <div className=\"saffs-search-content\" >\n                <div ref={refShowListStaff} onClick={clickOnListStaffList}>\n                  <Input className='input-search-staff' onChange={(e) => setInputValue(e.target.value)} />\n                </div>\n                <div className={classNames('div-list-staff', {\n                  hideThisDiv: showListStaff === false\n                })}\n                >\n                  {\n                    _.map(listStaff, (item, index) => (\n                      <div className='div-each-staff' key={index} onClick={() => (setID(item.id))}>\n                        <p>{item.profile.name}</p>\n                        <p>{`${item.profile.date_of_birth} ${item.position}`}</p>\n                      </div>\n                    ))\n                  }\n                </div>\n              </div>\n            </div>\n            {timeSheet.data !== undefined ?\n              <div>\n                <div>\n                  <div className=\"tables-title\">\n                    <div className=\"tables-title-up\">\n                      {\n                        _.map(['All', 'In late', 'Leave early', 'In late And Leave early'], (type, index) => (\n                          <div className=\"tables-title-item\" onClick={() => setType(type)} key={index}>{`${type}: ${timeSheet.statistic[_.snakeCase(type)]}`}</div>\n                        ))\n                      }\n                      <div className=\"tables-title-item show-leave\" id=\"PopoverLeave\" onClick={clickOnLeaveList}>\n                        Leave\n                      {\n                          showLeave === true ? <MdVisibility /> : <MdVisibilityOff />\n                        }\n                      </div>\n                      {\n                        _.map(['Total work', 'Total Off', 'Total Offset'], (type, index) => (\n                          <div className=\"tables-title-item\" key={index}>{`${type}: ${timeSheet.statistic[_.snakeCase(type)]}`}</div>\n                        ))\n                      }\n                    </div>\n                    <UncontrolledPopover trigger=\"legacy\" placement=\"bottom\" target=\"PopoverLeave\">\n                      <div className=\"tables-title-down popover-body\" ref={refShowLeave}>\n                        {\n                          _.map(['Full day-off allowed and paid', 'Full day-off has allowed no paid', 'Full day-off no allowed', 'Half day-off allowed and paid', 'Half day-off has allowed no paid', 'Half day-off no allowed'], (type, index) => (\n                            <div className=\"tables-title-item no-margin\" onClick={() => setType(type)} key={index}>{`${type}: ${timeSheet.statistic[_.snakeCase(type)]}`}</div>\n                          ))\n                        }\n                      </div>\n                    </UncontrolledPopover>\n                  </div>\n                  <div className=\"saffs-table-content\">\n                    <table className=\"table table-hover\">\n                      <thead>\n                        <tr>\n                          <th className='sort-date-timesheet' onClick={letChangeSortType} >\n                            Date\n                            {\n                              sortType === 'ASC' ? <FaSortNumericUp className='icon-sort-date' /> : <FaSortNumericDown className='icon-sort-date' />\n                            }\n                          </th>\n                          <th>CheckIn</th>\n                          <th>Checkout</th>\n                          <th>Status</th>\n                          <th />\n                        </tr>\n                      </thead>\n                      <tbody>\n                        {_.map(timeSheet.data, (item, index) => (\n                          <tr key={index}>\n                            <td>{item.date}</td>\n                            <td\n                              className={classNames('', {\n                                red_text: moment(item.start_at, Time.HM).isAfter(moment(Time.startWork, Time.HM)) === true\n                              })}\n                            >\n                              {item.start_at}\n                            </td>\n                            <td\n                              className={classNames('', {\n                                red_text: moment(item.end_at, Time.HM).isBefore(moment(Time.endWork, Time.HM)) === true\n                              })}\n                            >\n                              {item.end_at}\n                            </td>\n                            <td\n                              className={classNames('', {\n                                red_text: item.status === 'unpaid leave',\n                                green_text: item.status === 'paid leave'\n                              })}\n                            >\n                              {item.status}\n                            </td>\n                            <td className=\"setting-button\"><button type=\"button\" className=\"btn btn-success\">Report</button></td>\n                          </tr>\n                        ))}\n                      </tbody>\n                      <thead>\n                        <tr>\n                          <th className='sort-date-timesheet' onClick={letChangeSortType} >\n                            Date\n                            {\n                              sortType === 'ASC' ? <FaSortNumericUp className='icon-sort-date' /> : <FaSortNumericDown className='icon-sort-date' />\n                            }\n                          </th>\n                          <th>CheckIn</th>\n                          <th>Checkout</th>\n                          <th>Status</th>\n                          <th />\n                        </tr>\n                      </thead>\n                    </table>\n                  </div>\n                </div>\n                <Pagination totalPage={Number(timeSheet.statistic.total_page)} pageChange={(x) => setCurrentPage(x)} />\n              </div>\n              :\n              null\n            }\n          </div>\n        </div>\n      </div>\n      {/*tables-saffs end */}\n    </main>\n  )\n}\n\nconst mapStatetoProps = (state) => {\n  return {\n    allUser: state.accountReducer.listAccount,\n    timeSheet: state.timeSheet,\n  }\n}\nconst mapDispatchToProps = (dispatch) => {\n  return {\n    getAllUser: () => { dispatch(usersAction.fetchListAccountRequest()) },\n    getStaffTimeSheetByAdmin: (date, id, current_page, sort_date, filter_type) => { dispatch(actions.getStaffTimeSheetByAdmin({ date, id: id, current_page: current_page, sort_date: sort_date, filter_type: filter_type })) },\n  }\n}\nexport default connect(mapStatetoProps, mapDispatchToProps)(Timesheets);\n"]},"metadata":{},"sourceType":"module"}