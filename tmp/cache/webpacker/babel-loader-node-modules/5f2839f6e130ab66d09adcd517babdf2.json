{"ast":null,"code":"var _jsxFileName = \"/home/phong/rails/imp/app/javascript/admin/components/selection/dayOff/dayOff.js\";\n\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); }\n\nfunction _iterableToArrayLimit(arr, i) { if (!(Symbol.iterator in Object(arr) || Object.prototype.toString.call(arr) === \"[object Arguments]\")) { return; } var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nimport React, { useEffect, useState } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport DatePicker from \"../../dateRangePicker/\";\nimport { Breadcrumb, BreadcrumbItem, Table } from \"reactstrap\";\nimport { getListAccountsDayOff, setIsAllowedDayOff } from \"../../../actions/dayOff\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport _ from \"lodash\";\nimport moment from \"moment\";\nimport Time from \"../../../../commons/const/Time\";\nimport { Tooltip, Badge } from \"reactstrap\";\nimport Pagination from \"../../../../commons/components/pagination\";\nimport ConfirmModal from \"../../../../commons/components/modal/confirmModal\";\nimport SearchUser from \"../../../../commons/components/searchUser/searchUser\";\n\nvar DayOff = function DayOff() {\n  var reduxStartDate = useSelector(function (state) {\n    return state.dateRange.startDate.format(Time.crossDMY);\n  });\n  var reduxEndDate = useSelector(function (state) {\n    return state.dateRange.endDate.format(Time.crossDMY);\n  });\n\n  var _useState = useState(null),\n      _useState2 = _slicedToArray(_useState, 2),\n      id = _useState2[0],\n      setID = _useState2[1];\n\n  var _useState3 = useState(1),\n      _useState4 = _slicedToArray(_useState3, 2),\n      current_page = _useState4[0],\n      setCurrentPage = _useState4[1];\n\n  var _useState5 = useState(),\n      _useState6 = _slicedToArray(_useState5, 2),\n      idStaff = _useState6[0],\n      setIDStaff = _useState6[1];\n\n  var dispatch = useDispatch();\n  useEffect(function () {\n    dispatch(getListAccountsDayOff(reduxStartDate, reduxEndDate, idStaff, current_page));\n  }, [reduxStartDate, reduxEndDate, idStaff, current_page]);\n  var listDayOff = useSelector(function (state) {\n    return state.getListAccountsDayOff.data;\n  });\n\n  var _useState7 = useState(false),\n      _useState8 = _slicedToArray(_useState7, 2),\n      modal = _useState8[0],\n      setModal = _useState8[1];\n\n  var toggle = function toggle() {\n    return setModal(!modal);\n  };\n\n  var handleClick = function handleClick(item) {\n    dispatch(setIsAllowedDayOff(id, item));\n  };\n\n  return React.createElement(\"div\", {\n    className: \"container-fluid\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 35\n    },\n    __self: this\n  }, React.createElement(Breadcrumb, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36\n    },\n    __self: this\n  }, React.createElement(BreadcrumbItem, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37\n    },\n    __self: this\n  }, React.createElement(Link, {\n    to: \"/\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38\n    },\n    __self: this\n  }, \"Home\")), React.createElement(BreadcrumbItem, {\n    active: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40\n    },\n    __self: this\n  }, \"Dayoff\")), React.createElement(\"div\", {\n    className: \"saffs-search\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"times-select\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43\n    },\n    __self: this\n  }, React.createElement(DatePicker, {\n    blockRange: \"none\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44\n    },\n    __self: this\n  })), React.createElement(\"div\", {\n    className: \"saffs-search-content\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48\n    },\n    __self: this\n  }, React.createElement(SearchUser, {\n    onSelectStaff: function onSelectStaff(d) {\n      return setIDStaff(d);\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49\n    },\n    __self: this\n  }))), React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52\n    },\n    __self: this\n  }, React.createElement(Table, {\n    hover: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53\n    },\n    __self: this\n  }, React.createElement(\"thead\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54\n    },\n    __self: this\n  }, React.createElement(\"tr\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55\n    },\n    __self: this\n  }, React.createElement(\"td\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56\n    },\n    __self: this\n  }, \"Code\"), React.createElement(\"td\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57\n    },\n    __self: this\n  }, \"Name\"), React.createElement(\"td\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58\n    },\n    __self: this\n  }, \"Date\"), React.createElement(\"td\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59\n    },\n    __self: this\n  }, \"Reason\"), React.createElement(\"td\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60\n    },\n    __self: this\n  }, \"Status\"), React.createElement(\"td\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61\n    },\n    __self: this\n  }, \"Confirm\"))), React.createElement(\"tbody\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64\n    },\n    __self: this\n  }, _.map(listDayOff.data, function (item, i) {\n    return React.createElement(\"tr\", {\n      key: i++,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67\n      },\n      __self: this\n    }, React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68\n      },\n      __self: this\n    }, item.code), React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69\n      },\n      __self: this\n    }, item.name), React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70\n      },\n      __self: this\n    }, item.request_date), React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71\n      },\n      __self: this\n    }, item.status), React.createElement(\"td\", {\n      className: \"reason\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72\n      },\n      __self: this\n    }, item.reason), React.createElement(\"td\", {\n      onClick: function onClick() {\n        return setID(item.id);\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73\n      },\n      __self: this\n    }, item.confirmation_status === \"Waiting\" ? React.createElement(ConfirmModal, {\n      isOpen: modal,\n      toggle: toggle,\n      item: listDayOff.data,\n      confirm: function confirm() {\n        return handleClick(\"confirm\");\n      },\n      refuse: function refuse() {\n        return handleClick(\"reject\");\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75\n      },\n      __self: this\n    }) : item.confirmation_status === \"Confirm\" ? React.createElement(Badge, {\n      color: \"success\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84\n      },\n      __self: this\n    }, \"Confirm\") : React.createElement(Badge, {\n      color: \"danger\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86\n      },\n      __self: this\n    }, \"Reject\")));\n  })))), React.createElement(\"div\", {\n    className: \"pagination-selections\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95\n    },\n    __self: this\n  }, React.createElement(Pagination, {\n    totalPage: listDayOff.total_page,\n    pageChange: function pageChange(x) {\n      return setCurrentPage(x);\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96\n    },\n    __self: this\n  })));\n};\n\nexport default DayOff;","map":{"version":3,"sources":["/home/phong/rails/imp/app/javascript/admin/components/selection/dayOff/dayOff.js"],"names":["React","useEffect","useState","Link","DatePicker","Breadcrumb","BreadcrumbItem","Table","getListAccountsDayOff","setIsAllowedDayOff","useDispatch","useSelector","_","moment","Time","Tooltip","Badge","Pagination","ConfirmModal","SearchUser","DayOff","reduxStartDate","state","dateRange","startDate","format","crossDMY","reduxEndDate","endDate","id","setID","current_page","setCurrentPage","idStaff","setIDStaff","dispatch","listDayOff","data","modal","setModal","toggle","handleClick","item","d","map","i","code","name","request_date","status","reason","confirmation_status","total_page","x"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport DatePicker from \"../../dateRangePicker/\";\nimport { Breadcrumb, BreadcrumbItem, Table } from \"reactstrap\";\nimport { getListAccountsDayOff, setIsAllowedDayOff } from \"../../../actions/dayOff\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport _ from \"lodash\";\nimport moment from \"moment\";\nimport Time from \"../../../../commons/const/Time\";\nimport { Tooltip, Badge } from \"reactstrap\";\nimport Pagination from \"../../../../commons/components/pagination\";\nimport ConfirmModal from \"../../../../commons/components/modal/confirmModal\";\nimport SearchUser from \"../../../../commons/components/searchUser/searchUser\";\n\nconst DayOff = () => {\n  const reduxStartDate = useSelector(state => state.dateRange.startDate.format(Time.crossDMY))\n  const reduxEndDate = useSelector(state => state.dateRange.endDate.format(Time.crossDMY))\n  const [id, setID] = useState(null);\n  const [current_page, setCurrentPage] = useState(1);\n  const [idStaff, setIDStaff] = useState();\n\n  const dispatch = useDispatch();\n  useEffect(() => {\n    dispatch(getListAccountsDayOff(reduxStartDate, reduxEndDate, idStaff, current_page));\n  }, [reduxStartDate, reduxEndDate, idStaff, current_page]);\n\n  const listDayOff = useSelector(state => state.getListAccountsDayOff.data);\n  const [modal, setModal] = useState(false);\n  const toggle = () => setModal(!modal);\n  const handleClick = (item) => {\n    dispatch(setIsAllowedDayOff(id, item));\n  }\n\n  return (\n    <div className=\"container-fluid\">\n      <Breadcrumb>\n        <BreadcrumbItem>\n          <Link to=\"/\">Home</Link>\n        </BreadcrumbItem>\n        <BreadcrumbItem active>Dayoff</BreadcrumbItem>\n      </Breadcrumb>\n      <div className=\"saffs-search\">\n        <div className=\"times-select\">\n          <DatePicker\n            blockRange=\"none\"\n          />\n        </div>\n        <div className=\"saffs-search-content\">\n          <SearchUser onSelectStaff={d => setIDStaff(d)} />\n        </div>\n      </div>\n      <div>\n        <Table hover>\n          <thead>\n            <tr>\n              <td>Code</td>\n              <td>Name</td>\n              <td>Date</td>\n              <td>Reason</td>\n              <td>Status</td>\n              <td>Confirm</td>\n            </tr>\n          </thead>\n          <tbody>\n            {_.map(listDayOff.data, (item, i) => {\n              return (\n                <tr key={i++}>\n                  <td>{item.code}</td>\n                  <td>{item.name}</td>\n                  <td>{item.request_date}</td>\n                  <td>{item.status}</td>\n                  <td className=\"reason\">{item.reason}</td>\n                  <td onClick={() => setID(item.id)}>\n                    {item.confirmation_status === \"Waiting\" ? (\n                      <ConfirmModal\n                        isOpen={modal}\n                        toggle={toggle}\n                        item={listDayOff.data}\n                        confirm={() => handleClick(\"confirm\")}\n                        refuse={() => handleClick(\"reject\")}\n                      />\n                    ) : (\n                        item.confirmation_status === \"Confirm\" ?\n                          <Badge color=\"success\">Confirm</Badge>\n                          :\n                          <Badge color=\"danger\">Reject</Badge>\n                      )}\n                  </td>\n                </tr>\n              );\n            })}\n          </tbody>\n        </Table>\n      </div>\n      <div className=\"pagination-selections\">\n        <Pagination totalPage={listDayOff.total_page} pageChange={(x) => setCurrentPage(x)} />\n      </div>\n    </div>\n  );\n};\n\nexport default DayOff;"]},"metadata":{},"sourceType":"module"}