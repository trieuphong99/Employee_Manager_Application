{"ast":null,"code":"var _this = this,\n    _jsxFileName = \"/home/phong/rails/imp/app/javascript/staff/components/dayOffs/index.js\";\n\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(n); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction _iterableToArrayLimit(arr, i) { if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return; var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nimport React, { useState, useEffect } from 'react';\nimport { connect } from 'react-redux';\nimport { Link } from \"react-router-dom\";\nimport { Breadcrumb, BreadcrumbItem, Table, Badge } from 'reactstrap';\nimport moment from 'moment';\nimport \"react-dates/lib/css/_datepicker.css\";\nimport _ from 'lodash';\nimport { bindActionCreators } from 'redux';\nimport Time from '../../../commons/const/Time';\nimport * as actions from '../../actions/dayOffs';\nimport DateRangePicker from '../dateRangePicker';\nimport CustomPicker from '../../../commons/components/dateRangePicker/customPicker';\nimport DayOffForm from './DayOffForm';\nimport Pagination from '../../../commons/components/pagination';\nimport { pickDate as _pickDate } from '../../actions/dateRange';\nimport SortTarget from '../../../commons/components/sortTarget';\n\nvar DayOffs = function DayOffs(props) {\n  var reduxStartDate = props.reduxStartDate,\n      reduxEndDate = props.reduxEndDate,\n      listDayoff = props.listDayoff,\n      totalPage = props.totalPage,\n      actions = props.actions;\n\n  var _useState = useState(1),\n      _useState2 = _slicedToArray(_useState, 2),\n      currentPage = _useState2[0],\n      setCurrentPage = _useState2[1];\n\n  var _useState3 = useState(\"All\"),\n      _useState4 = _slicedToArray(_useState3, 2),\n      type = _useState4[0],\n      setType = _useState4[1];\n\n  var _useState5 = useState(\"DESC\"),\n      _useState6 = _slicedToArray(_useState5, 2),\n      sortType = _useState6[0],\n      setSortType = _useState6[1];\n\n  var _useState7 = useState(\"from_date\"),\n      _useState8 = _slicedToArray(_useState7, 2),\n      sortField = _useState8[0],\n      setSortField = _useState8[1];\n\n  useEffect(function () {\n    actions.getStaffDayOff({\n      startTime: reduxStartDate,\n      endTime: reduxEndDate,\n      currentPage: currentPage,\n      sortType: sortType,\n      sortField: sortField,\n      type: type\n    });\n  }, [reduxStartDate, reduxEndDate, currentPage, sortType, sortField, type]);\n\n  var _letSort = function letSort(field) {\n    setSortType(sortType === \"DESC\" ? \"ASC\" : \"DESC\");\n    setSortField(field);\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"container-fluid\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Breadcrumb, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(BreadcrumbItem, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Link, {\n    to: \"/\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 11\n    }\n  }, \"Home\")), /*#__PURE__*/React.createElement(BreadcrumbItem, {\n    active: true,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 9\n    }\n  }, \"Dayoff\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"staff-tool\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      display: \"flex\"\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(DayOffForm, {\n    title: \"Dayoff\",\n    buttonLabel: \"Add\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(DateRangePicker, {\n    blockRange: \"none\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 11\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(CustomPicker, {\n    pickDate: _pickDate,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 11\n    }\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Table, {\n    hover: true,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"thead\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"tr\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(SortTarget, {\n    type: \"from_date\",\n    value: \"From date\",\n    sortType: sortType,\n    sortField: sortField,\n    letSort: _letSort,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 15\n    }\n  }), /*#__PURE__*/React.createElement(\"th\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 15\n    }\n  }, \"To date\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 15\n    }\n  }, \"Status\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 15\n    }\n  }, \"Is paid\"), /*#__PURE__*/React.createElement(\"th\", {\n    className: \"reason\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 15\n    }\n  }, \"Reason\"), /*#__PURE__*/React.createElement(SortTarget, {\n    type: \"confirmation_status\",\n    value: \"Confirm\",\n    sortType: sortType,\n    sortField: sortField,\n    letSort: function letSort() {\n      return _letSort(\"confirmation_status\");\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 15\n    }\n  }), /*#__PURE__*/React.createElement(\"th\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 15\n    }\n  }))), /*#__PURE__*/React.createElement(\"tbody\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 11\n    }\n  }, _.map(listDayoff, function (item, index) {\n    var statusColor = {\n      Confirmed: \"success\",\n      Rejected: \"danger\",\n      Waiting: \"warning\"\n    };\n    var expired = moment().diff(moment(item.to_date, Time.crossDMY), \"days\") > 0;\n    return /*#__PURE__*/React.createElement(\"tr\", {\n      key: index,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 24\n      }\n    }, /*#__PURE__*/React.createElement(\"td\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 19\n      }\n    }, moment(item.from_date, Time.DMY).format(Time.crossDMY)), /*#__PURE__*/React.createElement(\"td\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 19\n      }\n    }, moment(item.to_date, Time.DMY).format(Time.crossDMY)), /*#__PURE__*/React.createElement(\"td\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 19\n      }\n    }, item.status), /*#__PURE__*/React.createElement(\"td\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 19\n      }\n    }, _.upperFirst(item.is_paid)), /*#__PURE__*/React.createElement(\"td\", {\n      className: \"reason\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 19\n      }\n    }, item.reason), /*#__PURE__*/React.createElement(\"td\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(Badge, {\n      href: \"#\",\n      color: statusColor[item.confirmation_status],\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 23\n      }\n    }, item.confirmation_status)), /*#__PURE__*/React.createElement(\"td\", {\n      style: {\n        width: \"15%\"\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 19\n      }\n    }, item.confirmation_status === \"Waiting\" && /*#__PURE__*/React.createElement(DayOffForm, {\n      title: \"Edit dayoff\",\n      buttonLabel: \"Edit\",\n      item: item,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 23\n      }\n    })));\n  })))), /*#__PURE__*/React.createElement(\"div\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Pagination, {\n    totalPage: totalPage,\n    pageChange: setCurrentPage,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 9\n    }\n  })));\n};\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    listDayoff: state.dayOffs.data,\n    totalPage: state.dayOffs.total_page,\n    reduxStartDate: state.dateRange.startDate.format(Time.crossDMY),\n    reduxEndDate: state.dateRange.endDate.format(Time.crossDMY)\n  };\n};\n\nvar mapDispatchToProps = function mapDispatchToProps(dispatch) {\n  return {\n    actions: bindActionCreators(actions, dispatch),\n    pickDate: function pickDate() {\n      return dispatch(_pickDate);\n    }\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(DayOffs);","map":{"version":3,"sources":["/home/phong/rails/imp/app/javascript/staff/components/dayOffs/index.js"],"names":["React","useState","useEffect","connect","Link","Breadcrumb","BreadcrumbItem","Table","Badge","moment","_","bindActionCreators","Time","actions","DateRangePicker","CustomPicker","DayOffForm","Pagination","pickDate","SortTarget","DayOffs","props","reduxStartDate","reduxEndDate","listDayoff","totalPage","currentPage","setCurrentPage","type","setType","sortType","setSortType","sortField","setSortField","getStaffDayOff","startTime","endTime","letSort","field","display","map","item","index","statusColor","Confirmed","Rejected","Waiting","expired","diff","to_date","crossDMY","from_date","DMY","format","status","upperFirst","is_paid","reason","confirmation_status","width","mapStateToProps","state","dayOffs","data","total_page","dateRange","startDate","endDate","mapDispatchToProps","dispatch"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react'\nimport { connect } from 'react-redux'\nimport { Link } from \"react-router-dom\";\nimport { Breadcrumb, BreadcrumbItem, Table, Badge } from 'reactstrap'\nimport moment from 'moment'\nimport \"react-dates/lib/css/_datepicker.css\";\nimport _ from 'lodash';\nimport { bindActionCreators } from 'redux';\n\nimport Time from '../../../commons/const/Time';\nimport * as actions from '../../actions/dayOffs'\nimport DateRangePicker from '../dateRangePicker'\nimport CustomPicker from '../../../commons/components/dateRangePicker/customPicker'\nimport DayOffForm from './DayOffForm'\nimport Pagination from '../../../commons/components/pagination'\nimport { pickDate } from '../../actions/dateRange'\nimport SortTarget from '../../../commons/components/sortTarget';\n\nconst DayOffs = props => {\n  const { reduxStartDate, reduxEndDate, listDayoff, totalPage, actions } = props\n  const [currentPage, setCurrentPage] = useState(1);\n  const [type, setType] = useState(\"All\");\n  const [sortType, setSortType] = useState(\"DESC\");\n  const [sortField, setSortField] = useState(\"from_date\");\n  useEffect(() => {\n    actions.getStaffDayOff({ startTime: reduxStartDate, endTime: reduxEndDate, currentPage, sortType, sortField, type })\n  }, [reduxStartDate, reduxEndDate, currentPage, sortType, sortField, type])\n  const letSort = field => {\n    setSortType(sortType === \"DESC\" ? \"ASC\" : \"DESC\");\n    setSortField(field);\n  };\n  return (\n    <div className=\"container-fluid\">\n      <Breadcrumb>\n        <BreadcrumbItem>\n          <Link to=\"/\">Home</Link>\n        </BreadcrumbItem>\n        <BreadcrumbItem active>Dayoff</BreadcrumbItem>\n      </Breadcrumb>\n      <div className=\"staff-tool\">\n        <div style={{ display: \"flex\" }}>\n          <DayOffForm\n            title=\"Dayoff\"\n            buttonLabel=\"Add\"\n          />\n          <DateRangePicker\n            blockRange=\"none\"\n          />\n        </div>\n        <div>\n          <CustomPicker pickDate={pickDate} />\n        </div>\n      </div>\n      <div>\n        <Table hover>\n          <thead>\n            <tr>\n              <SortTarget type=\"from_date\" value=\"From date\" sortType={sortType} sortField={sortField} letSort={letSort} />\n              <th>To date</th>\n              <th>Status</th>\n              <th>Is paid</th>\n              <th className=\"reason\">Reason</th>\n              <SortTarget type=\"confirmation_status\" value=\"Confirm\" sortType={sortType} sortField={sortField} letSort={() => letSort(\"confirmation_status\")} />\n              <th></th>\n            </tr>\n          </thead>\n          <tbody>\n            {\n              _.map(listDayoff, (item, index) => {\n                const statusColor = { Confirmed: \"success\", Rejected: \"danger\", Waiting: \"warning\" }\n                const expired = moment().diff(moment(item.to_date, Time.crossDMY), \"days\") > 0\n\n                return <tr key={index}>\n                  <td>{moment(item.from_date, Time.DMY).format(Time.crossDMY)}</td>\n                  <td>{moment(item.to_date, Time.DMY).format(Time.crossDMY)}</td>\n                  <td>{item.status}</td>\n                  <td>{_.upperFirst(item.is_paid)}</td>\n                  <td className=\"reason\">{item.reason}</td>\n                  <td><Badge href=\"#\" color={statusColor[item.confirmation_status]}>{item.confirmation_status}</Badge></td>\n                  <td style={{ width: \"15%\" }}>\n                    {item.confirmation_status === \"Waiting\" &&\n                      <DayOffForm\n                        title=\"Edit dayoff\"\n                        buttonLabel=\"Edit\"\n                        item={item}\n                      />\n                    }\n                  </td>\n                </tr>\n              }\n              )\n            }\n          </tbody>\n        </Table>\n      </div>\n      <div>\n        <Pagination totalPage={totalPage} pageChange={setCurrentPage} />\n      </div>\n    </div>\n  )\n}\n\nconst mapStateToProps = (state) => {\n  return {\n    listDayoff: state.dayOffs.data,\n    totalPage: state.dayOffs.total_page,\n    reduxStartDate: state.dateRange.startDate.format(Time.crossDMY),\n    reduxEndDate: state.dateRange.endDate.format(Time.crossDMY)\n  }\n}\nconst mapDispatchToProps = (dispatch) => {\n  return {\n    actions: bindActionCreators(actions, dispatch),\n    pickDate: () => dispatch(pickDate)\n  }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(DayOffs);\n"]},"metadata":{},"sourceType":"module"}