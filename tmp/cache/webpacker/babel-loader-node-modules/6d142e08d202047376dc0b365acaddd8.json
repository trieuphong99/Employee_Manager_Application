{"ast":null,"code":"var _jsxFileName = \"/home/phong/rails/imp/app/javascript/commons/components/searchUser/searchUser.js\";\n\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); }\n\nfunction _iterableToArrayLimit(arr, i) { if (!(Symbol.iterator in Object(arr) || Object.prototype.toString.call(arr) === \"[object Arguments]\")) { return; } var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nimport React, { useState, useEffect, useRef } from \"react\";\nimport { Input } from \"reactstrap\";\nimport _ from \"lodash\";\nimport classNames from \"classnames\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { getAllUser } from \"../../../admin/actions/account\";\nimport '../../../admin/components/timesheets/styles.css';\nimport moment from \"moment\";\nimport Time from \"../../const/Time\";\n\nvar SearchUser = function SearchUser(props) {\n  //code search\n  var _useState = useState(false),\n      _useState2 = _slicedToArray(_useState, 2),\n      showListStaff = _useState2[0],\n      setShowListStaff = _useState2[1];\n\n  var _useState3 = useState(\"\"),\n      _useState4 = _slicedToArray(_useState3, 2),\n      inputValue = _useState4[0],\n      setInputValue = _useState4[1];\n\n  var dispatch = useDispatch();\n\n  var _useState5 = useState(true),\n      _useState6 = _slicedToArray(_useState5, 2),\n      all_user = _useState6[0],\n      setAll_user = _useState6[1];\n\n  useEffect(function () {\n    // dispatch(fetchListAccountRequest())\n    dispatch(getAllUser(all_user));\n  }, [all_user]);\n  var list = useSelector(function (state) {\n    return state.accountReducer;\n  });\n\n  var listStaff = _.filter(list, function (n) {\n    return _.includes(_.toLower(n.name), _.toLower(inputValue));\n  }); //code search\n  //code show leave\n\n\n  var _useState7 = useState(false),\n      _useState8 = _slicedToArray(_useState7, 2),\n      showLeave = _useState8[0],\n      setShowLeave = _useState8[1];\n\n  var refShowListStaff = useRef();\n\n  var clickOutSide = function clickOutSide(event) {\n    var target = event.target;\n\n    if (refShowLeave.current !== null) {\n      if (!refShowLeave.current.contains(target)) {\n        setShowLeave(false);\n        document.removeEventListener(\"click\", clickOutSide);\n      }\n    }\n  };\n\n  var clickOnListStaffList = function clickOnListStaffList() {\n    setShowListStaff(true);\n    document.addEventListener(\"click\", clickOutSideList);\n  };\n\n  var clickOutSideList = function clickOutSideList(event) {\n    var target = event.target;\n\n    if (refShowListStaff.current !== null) {\n      if (!refShowListStaff.current.contains(target)) {\n        setShowListStaff(false);\n        document.removeEventListener(\"click\", clickOutSideList);\n      }\n    }\n  };\n\n  useEffect(function () {\n    return function () {\n      if (showLeave === true) {\n        document.removeEventListener(\"click\", clickOutSide);\n      }\n    }; // eslint-disable-next-line\n  }, [showLeave]);\n  useEffect(function () {\n    return function () {\n      document.removeEventListener(\"click\", clickOutSide);\n    }; // eslint-disable-next-line\n  }, []); //code show leave\n\n  var sendData = function sendData(id) {\n    props.onSelectStaff(listStaff[id].id);\n  };\n\n  return React.createElement(\"div\", {\n    className: \"saffs-search-content\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"div-outside-input\",\n    ref: refShowListStaff,\n    onClick: clickOnListStaffList,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75\n    },\n    __self: this\n  }, React.createElement(Input, {\n    className: \"input-search-staff\",\n    placeholder: \"Enter the name of the employee\",\n    onChange: function onChange(e) {\n      return setInputValue(e.target.value);\n    },\n    value: inputValue,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80\n    },\n    __self: this\n  })), React.createElement(\"div\", {\n    id: \"scrollbar-style\",\n    className: classNames(\"div-list-staff\", {\n      hideThisDiv: showListStaff === false\n    }),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87\n    },\n    __self: this\n  }, _.map(listStaff, function (item, index) {\n    return React.createElement(\"div\", {\n      className: \"div-each-staff\",\n      key: index,\n      onClick: function onClick() {\n        sendData(index++);\n        setInputValue(item.name);\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94\n      },\n      __self: this\n    }, React.createElement(\"p\", {\n      style: {\n        cursor: \"pointer\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102\n      },\n      __self: this\n    }, item.name), React.createElement(\"p\", {\n      style: {\n        cursor: \"pointer\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103\n      },\n      __self: this\n    }, \"\".concat(moment(item.joining_date).format(Time.DMY), \"   \").concat(item.position)));\n  })));\n};\n\nexport default SearchUser;","map":{"version":3,"sources":["/home/phong/rails/imp/app/javascript/commons/components/searchUser/searchUser.js"],"names":["React","useState","useEffect","useRef","Input","_","classNames","useDispatch","useSelector","getAllUser","moment","Time","SearchUser","props","showListStaff","setShowListStaff","inputValue","setInputValue","dispatch","all_user","setAll_user","list","state","accountReducer","listStaff","filter","n","includes","toLower","name","showLeave","setShowLeave","refShowListStaff","clickOutSide","event","target","refShowLeave","current","contains","document","removeEventListener","clickOnListStaffList","addEventListener","clickOutSideList","sendData","id","onSelectStaff","e","value","hideThisDiv","map","item","index","cursor","joining_date","format","DMY","position"],"mappings":"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","sourcesContent":["import React, { useState, useEffect, useRef } from \"react\";\nimport { Input } from \"reactstrap\";\nimport _ from \"lodash\";\nimport classNames from \"classnames\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { getAllUser } from \"../../../admin/actions/account\";\nimport '../../../admin/components/timesheets/styles.css';\nimport moment from \"moment\";\nimport Time from \"../../const/Time\";\n\nconst SearchUser = props => {\n  //code search\n  const [showListStaff, setShowListStaff] = useState(false);\n  const [inputValue, setInputValue] = useState(\"\");\n  const dispatch = useDispatch();\n  const [all_user, setAll_user] = useState(true);\n\n\n  useEffect(() => {\n    // dispatch(fetchListAccountRequest())\n    dispatch(getAllUser(all_user));\n  }, [all_user]);\n  const list = useSelector(state => state.accountReducer);\n  const listStaff = _.filter(list, n =>\n    _.includes(_.toLower(n.name), _.toLower(inputValue))\n  );\n  //code search\n  //code show leave\n  const [showLeave, setShowLeave] = useState(false);\n  const refShowListStaff = useRef();\n\n  const clickOutSide = event => {\n    const { target } = event;\n    if (refShowLeave.current !== null) {\n      if (!refShowLeave.current.contains(target)) {\n        setShowLeave(false);\n        document.removeEventListener(\"click\", clickOutSide);\n      }\n    }\n  };\n  const clickOnListStaffList = () => {\n    setShowListStaff(true);\n    document.addEventListener(\"click\", clickOutSideList);\n  };\n  const clickOutSideList = event => {\n    const { target } = event;\n    if (refShowListStaff.current !== null) {\n      if (!refShowListStaff.current.contains(target)) {\n        setShowListStaff(false);\n        document.removeEventListener(\"click\", clickOutSideList);\n      }\n    }\n  };\n  useEffect(() => {\n    return () => {\n      if (showLeave === true) {\n        document.removeEventListener(\"click\", clickOutSide);\n      }\n    };\n    // eslint-disable-next-line\n  }, [showLeave]);\n  useEffect(() => {\n    return () => {\n      document.removeEventListener(\"click\", clickOutSide);\n    };\n    // eslint-disable-next-line\n  }, []);\n  //code show leave\n  const sendData = id => {\n    props.onSelectStaff(listStaff[id].id);\n  };\n\n  return (\n    <div className=\"saffs-search-content\">\n      <div\n        className=\"div-outside-input\"\n        ref={refShowListStaff}\n        onClick={clickOnListStaffList}\n      >\n        <Input\n          className=\"input-search-staff\"\n          placeholder=\"Enter the name of the employee\"\n          onChange={e => setInputValue(e.target.value)}\n          value={inputValue}\n        />\n      </div>\n      <div\n        id=\"scrollbar-style\"\n        className={classNames(\"div-list-staff\", {\n          hideThisDiv: showListStaff === false\n        })}\n      >\n        {_.map(listStaff, (item, index) => (\n          <div\n            className=\"div-each-staff\"\n            key={index}\n            onClick={() => {\n              sendData(index++);\n              setInputValue(item.name);\n            }}\n          >\n            <p style={{ cursor: \"pointer\" }}>{item.name}</p>\n            <p\n              style={{ cursor: \"pointer\" }}\n            >{`${moment(item.joining_date).format(Time.DMY)}   ${item.position}`}</p>\n          </div>\n        ))}\n      </div>\n    </div>\n  );\n};\nexport default SearchUser;\n"]},"metadata":{},"sourceType":"module"}