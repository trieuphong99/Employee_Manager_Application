{"ast":null,"code":"import actionTypes from '../const/actionTypes';\nimport axios from 'axios';\nimport { hideLoading, showLoading } from './loading';\nimport { toastError, toastSuccess } from '../../commons/helpers/toastHelpers';\n\nvar handleErrors = function handleErrors(resErrors, setErrors, setSubmitting) {\n  var errors = {};\n  errors['date'] = resErrors[0];\n  setSubmitting(true);\n  setErrors(errors);\n}; // --------------GET DAYOFF LIST---------------\n\n\nexport var setDayOffs = function setDayOffs(data) {\n  return {\n    type: actionTypes.GET_DAYOFF,\n    data: data\n  };\n};\nexport var getStaffDayOff = function getStaffDayOff(data) {\n  var params = {\n    from_date: data.startTime,\n    to_date: data.endTime,\n    current_page: String(data.currentPage),\n    is_paid: data.is_paid\n  };\n  return function (dispatch) {\n    dispatch(showLoading());\n    axios.get('/dayoffs', {\n      params: params\n    }).then(function (res) {\n      dispatch(setDayOffs(res.data));\n    })[\"catch\"](function (error) {\n      console.log(error);\n    })[\"finally\"](function () {\n      dispatch(hideLoading());\n    });\n  };\n}; // ---------------ADD DAYOFF---------------\n\nvar setAddDayOffs = function setAddDayOffs(data) {\n  return {\n    type: actionTypes.ADD_DAYOFF,\n    data: data\n  };\n};\n\nexport var addDayOffs = function addDayOffs(data, setErrors, setSubmitting, toggle) {\n  var body = {\n    from_date: data.from_date,\n    to_date: data.to_date,\n    request_date: data.request_date,\n    reason: data.reason,\n    status: data.status,\n    is_paid: data.is_paid\n  };\n  return function (dispatch) {\n    dispatch(showLoading());\n    axios.post('/dayoffs', body).then(function (res) {\n      dispatch(setAddDayOffs(res.data));\n      toastSuccess(\"Successful!\");\n      toggle();\n    })[\"catch\"](function (error) {\n      var errors = error.response.data;\n      handleErrors(errors, setErrors, setSubmitting);\n    })[\"finally\"](function () {\n      dispatch(hideLoading());\n    });\n  };\n}; //------------------UPDATE DAYOFFS-----------------\n\nvar setUpdateDayOffs = function setUpdateDayOffs(data) {\n  return {\n    type: actionTypes.UPDATE_DAYOFF,\n    data: data\n  };\n};\n\nexport var updateDayOffs = function updateDayOffs(id, data, setErrors, setSubmitting, toggle) {\n  var body = {\n    from_date: data.from_date,\n    to_date: data.to_date,\n    request_date: data.request_date,\n    reason: data.reason,\n    status: data.status\n  };\n  return function (dispatch) {\n    dispatch(showLoading());\n    axios.put(\"/dayoffs/\".concat(id), body).then(function (res) {\n      dispatch(setUpdateDayOffs(res.data));\n      toastSuccess(\"Successful!\");\n      toggle();\n    })[\"catch\"](function (error) {\n      var errors = error.response.data;\n      handleErrors(errors, setErrors, setSubmitting);\n    })[\"finally\"](function () {\n      dispatch(hideLoading());\n    });\n  };\n};","map":{"version":3,"sources":["/home/phong/rails/imp/app/javascript/staff/actions/dayOffs.js"],"names":["actionTypes","axios","hideLoading","showLoading","toastError","toastSuccess","handleErrors","resErrors","setErrors","setSubmitting","errors","setDayOffs","data","type","GET_DAYOFF","getStaffDayOff","params","from_date","startTime","to_date","endTime","current_page","String","currentPage","is_paid","dispatch","get","then","res","error","console","log","setAddDayOffs","ADD_DAYOFF","addDayOffs","toggle","body","request_date","reason","status","post","response","setUpdateDayOffs","UPDATE_DAYOFF","updateDayOffs","id","put"],"mappings":"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","sourcesContent":["import actionTypes from '../const/actionTypes';\nimport axios from 'axios'\nimport { hideLoading, showLoading } from './loading'\nimport { toastError, toastSuccess } from '../../commons/helpers/toastHelpers'\n\nconst handleErrors = (resErrors, setErrors, setSubmitting) => {\n  const errors = {}\n  errors['date'] = resErrors[0]\n  setSubmitting(true)\n  setErrors(errors)\n}\n\n// --------------GET DAYOFF LIST---------------\nexport const setDayOffs = (data) => {\n  return {\n    type: actionTypes.GET_DAYOFF,\n    data\n  }\n}\n\nexport const getStaffDayOff = (data) => {\n  const params = {\n    from_date: data.startTime,\n    to_date: data.endTime,\n    current_page: String(data.currentPage),\n    is_paid: data.is_paid\n  }\n  return (dispatch) => {\n    dispatch(showLoading())\n    axios.get('/dayoffs', { params })\n      .then(function (res) {\n        dispatch(setDayOffs(res.data))\n      })\n      .catch(function (error) {\n        console.log(error)\n      })\n      .finally(function () {\n        dispatch(hideLoading())\n      });\n  }\n}\n\n// ---------------ADD DAYOFF---------------\nconst setAddDayOffs = data => {\n  return {\n    type: actionTypes.ADD_DAYOFF,\n    data\n  }\n}\nexport const addDayOffs = (data, setErrors, setSubmitting, toggle) => {\n  const body = {\n    from_date: data.from_date,\n    to_date: data.to_date,\n    request_date: data.request_date,\n    reason: data.reason,\n    status: data.status,\n    is_paid: data.is_paid\n  }\n  return dispatch => {\n    dispatch(showLoading())\n    axios.post('/dayoffs', body)\n      .then(function (res) {\n        dispatch(setAddDayOffs(res.data))\n        toastSuccess(\"Successful!\")\n        toggle()\n      })\n      .catch(function (error) {\n        const errors = error.response.data\n        handleErrors(errors, setErrors, setSubmitting)\n      })\n      .finally(function () {\n        dispatch(hideLoading())\n      });\n  }\n}\n//------------------UPDATE DAYOFFS-----------------\nconst setUpdateDayOffs = data => {\n  return {\n    type: actionTypes.UPDATE_DAYOFF,\n    data\n  }\n}\nexport const updateDayOffs = (id, data, setErrors, setSubmitting, toggle) => {\n  const body = {\n    from_date: data.from_date,\n    to_date: data.to_date,\n    request_date: data.request_date,\n    reason: data.reason,\n    status: data.status\n  }\n  return dispatch => {\n    dispatch(showLoading())\n    axios.put(`/dayoffs/${id}`, body)\n      .then(function (res) {\n        dispatch(setUpdateDayOffs(res.data))\n        toastSuccess(\"Successful!\")\n        toggle()\n      })\n      .catch(function (error) {\n        const errors = error.response.data\n        handleErrors(errors, setErrors, setSubmitting)\n      })\n      .finally(function () {\n        dispatch(hideLoading())\n      });\n  }\n}"]},"metadata":{},"sourceType":"module"}